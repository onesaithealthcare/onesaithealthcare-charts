{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "type": "object",
    "properties": {
      "environment": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "enum": ["dev", "prod"],
            "default": "dev"
          }
        },
        "required": ["type"]
      },
      "domain": {
        "type": "object",
        "properties": {
          "protocol": {
            "type": "string",
            "enum": ["http", "https"]
          },
          "host": {
            "type": "string"
          },
          "port": {
            "type": "integer",
            "default": 443
          },
          "gateway_type": {
            "type": "string",
            "enum": ["istio", "k8s_gateway"]
          }
        },
        "required": ["protocol", "host", "port", "gateway_type"]
      },
      "docker": {
        "type": "object",
        "properties": {
          "registry": {
            "type": "object",
            "properties": {
              "host": {
                "type": "string"
              },
              "project": {
                "type": "string"
              },
              "secret": {
                "type": "string"
              }
            },
            "required": ["host", "project", "secret"]
          }
        }
      },
      "hdr": {
        "type": "object",
        "properties": {
            "app": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "gateway": {
                    "type": "string"
                  },
                  "replicas": {
                    "type": "integer",
                    "default": 1
                  },
                  "flag": {
                    "type": "object",
                    "properties": {
                      "enable_fhir_subscription": {
                        "type": "boolean",
                        "default": false
                      },
                      "enable_fhir_entity_replication": {
                        "type": "boolean",
                        "default": false
                      },
                      "enable_bulk_api": {
                        "type": "boolean",
                        "default": false
                      }
                    },
                    "required": [
                      "enable_fhir_subscription",
                      "enable_fhir_entity_replication",
                      "enable_bulk_api"
                    ]
                  },
                  "bulk_api_file_size": {
                    "type": "integer",
                    "default": 10
                  },
                  "ohas3_url": {
                    "type": "string"
                  }
                },
                "required": ["name", "gateway", "replicas"]
              },
                "database": {
            "type": "object",
            "properties": {
              "type": {
                "type": "string",
                "enum": ["ORACLE", "MYSQL"]
              },
              "driver": {
                "type": "string",
                "enum": ["oracle.jdbc.driver.OracleDriver", "com.mysql.cj.jdbc.Driver"]
              },
              "jdbc_dialect": {
                "type": "string",
                "enum": ["org.hibernate.dialect.Oracle10gDialect", "org.hibernate.dialect.MySQLDialect"]
              },
              "url": {
                "type": "string"
              },
              "user": {
                "type": "string"
              },
              "pass": {
                "type": "string"
              },
              "initial_size": {
                "type": "integer",
                "default": 5
              },
              "max_total": {
                "type": "integer",
                "default": 50
              },
              "connection_properties": {
                "type": "string"
              }
            },
            "required": ["type", "driver", "jdbc_dialect", "url", "user", "pass", "initial_size", "max_total"]
          },
          "version": {
            "type": "object",
            "properties": {
              "app": {
                "type": "string"
              },
              "back_image_tag": {
                "type": "string"
              }
            },
            "required": ["app", "back_image_tag"]
          }
        }
      }
    }
  }