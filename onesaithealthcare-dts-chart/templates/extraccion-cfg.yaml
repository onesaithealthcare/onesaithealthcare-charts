kind: ConfigMap
apiVersion: v1
metadata:
  name: extraccion-cfg
  managedFields:
    - manager: Mozilla
      operation: Update
      apiVersion: v1
      fieldsType: FieldsV1
      fieldsV1:
        'f:data':
          .: {}
          'f:externalResources_client_default_bdExtract_properties___allergyint.properties': {}
          'f:externalResources_client_default_bdExtract_properties___appointment.properties': {}
          'f:externalResources_client_default_bdExtract_properties___atna.properties': {}
          'f:externalResources_client_default_bdExtract_properties___card.properties': {}
          'f:externalResources_client_default_bdExtract_properties___cliExtension.properties': {}
          'f:externalResources_client_default_bdExtract_properties___condition.properties': {}
          'f:externalResources_client_default_bdExtract_properties___configProc.properties': {}
          'f:externalResources_client_default_bdExtract_properties___covid.properties': {}
          'f:externalResources_client_default_bdExtract_properties___encounter.properties': {}
          'f:externalResources_client_default_bdExtract_properties___episodeOfCare.properties': {}
          'f:externalResources_client_default_bdExtract_properties___extension.properties': {}
          'f:externalResources_client_default_bdExtract_properties___flag.properties': {}
          'f:externalResources_client_default_bdExtract_properties___geo1.properties': {}
          'f:externalResources_client_default_bdExtract_properties___geo2.properties': {}
          'f:externalResources_client_default_bdExtract_properties___geo3.properties': {}
          'f:externalResources_client_default_bdExtract_properties___geo4.properties': {}
          'f:externalResources_client_default_bdExtract_properties___geo5.properties': {}
          'f:externalResources_client_default_bdExtract_properties___laboratory.properties': {}
          'f:externalResources_client_default_bdExtract_properties___location.properties': {}
          'f:externalResources_client_default_bdExtract_properties___ontologyClassification.properties': {}
          'f:externalResources_client_default_bdExtract_properties___ontologyRelations.properties': {}
          'f:externalResources_client_default_bdExtract_properties___orgLoc.properties': {}
          'f:externalResources_client_default_bdExtract_properties___orgProcLabel.properties': {}
          'f:externalResources_client_default_bdExtract_properties___organization.properties': {}
          'f:externalResources_client_default_bdExtract_properties___patient.properties': {}
          'f:externalResources_client_default_bdExtract_properties___patientAddresses.properties': {}
          'f:externalResources_client_default_bdExtract_properties___patientAdscriptions.properties': {}
          'f:externalResources_client_default_bdExtract_properties___patientContacts.properties': {}
          'f:externalResources_client_default_bdExtract_properties___patientDocuments.properties': {}
          'f:externalResources_client_default_bdExtract_properties___patientNationalities.properties': {}
          'f:externalResources_client_default_bdExtract_properties___patientPharmacies.properties': {}
          'f:externalResources_client_default_bdExtract_properties___patientTypeCitizen.properties': {}
          'f:externalResources_client_default_bdExtract_properties___patientTypeInsured.properties': {}
          'f:externalResources_client_default_bdExtract_properties___practitioner.properties': {}
          'f:externalResources_client_default_bdExtract_properties___practitionerDocs.properties': {}
          'f:externalResources_client_default_bdExtract_properties___practitionerSpecs.properties': {}
          'f:externalResources_client_default_bdExtract_properties___practitionerWorkplcs.properties': {}
          'f:externalResources_client_default_bdExtract_properties___pre_patient.properties': {}
          'f:externalResources_client_default_bdExtract_properties___procedure.properties': {}
          'f:externalResources_client_default_bdExtract_properties___procedureOnt.properties': {}
          'f:externalResources_client_default_bdExtract_properties___process.properties': {}
          'f:externalResources_client_default_bdExtract_properties___questResponse.properties': {}
          'f:externalResources_client_default_bdExtract_properties___report.properties': {}
          'f:externalResources_client_default_bdExtract_properties___serviceRequest.properties': {}
          'f:externalResources_client_default_bdExtract_properties___serviceRequestCondition.properties': {}
          'f:externalResources_client_default_bdExtract_properties___serviceRequestEvent.properties': {}
          'f:externalResources_client_default_bdExtract_properties___subtypeEvent.properties': {}
          'f:externalResources_client_default_bdExtract_properties___task.properties': {}
          'f:externalResources_client_default_bdExtract_properties___typeEvent.properties': {}
          'f:externalResources_client_default_bdExtract_properties___typeVia.properties': {}
          'f:externalResources_client_default_bdExtract_properties___vitalsign.properties': {}
          'f:externalResources_client_default_bdExtract_properties___workplaceOrganization.properties': {}
          'f:externalResources_client_default_bdExtract_sql_Oracle_catalogs___getCatalogs.sql': {}
          'f:externalResources_client_default_bdExtract_sql_Oracle_catalogs___queryCatalogOnlineValue.sql': {}
          'f:externalResources_client_default_bdExtract_sql_Oracle_catalogs___queryCatalogValues.sql': {}
          'f:externalResources_client_default_bdExtract_sql_Oracle_hnATNA___queryATNA.sql': {}
          'f:externalResources_client_default_bdExtract_sql_Oracle_hnATNA___querySubtypeEvent.sql': {}
          'f:externalResources_client_default_bdExtract_sql_Oracle_hnATNA___queryTypeEvent.sql': {}
          'f:externalResources_client_default_bdExtract_sql_Oracle_hnAllergyint___queryAllergyint.sql': {}
          'f:externalResources_client_default_bdExtract_sql_Oracle_hnAppointment___queryAppointment.sql': {}
          'f:externalResources_client_default_bdExtract_sql_Oracle_hnCondition___queryCondition.sql': {}
          'f:externalResources_client_default_bdExtract_sql_Oracle_hnCovid___queryCovid.sql': {}
          'f:externalResources_client_default_bdExtract_sql_Oracle_hnEncounter___queryEncounter.sql': {}
          'f:externalResources_client_default_bdExtract_sql_Oracle_hnEpisodeOfCare___queryEpisodeOfCare.sql': {}
          'f:externalResources_client_default_bdExtract_sql_Oracle_hnExtension___queryCliExtension.sql': {}
          'f:externalResources_client_default_bdExtract_sql_Oracle_hnFlag___queryFlag.sql': {}
          'f:externalResources_client_default_bdExtract_sql_Oracle_hnLaboratory___queryLaboratory.sql': {}
          'f:externalResources_client_default_bdExtract_sql_Oracle_hnOnt___queryOntOntology.sql': {}
          'f:externalResources_client_default_bdExtract_sql_Oracle_hnOnt___queryOntOntologyRelations.sql': {}
          'f:externalResources_client_default_bdExtract_sql_Oracle_hnOnt___queryOntProcedure.sql': {}
          'f:externalResources_client_default_bdExtract_sql_Oracle_hnOnt___queryOntologyClassification.sql': {}
          'f:externalResources_client_default_bdExtract_sql_Oracle_hnProcedure___queryProcedure.sql': {}
          'f:externalResources_client_default_bdExtract_sql_Oracle_hnProcess___queryProcess.sql': {}
          'f:externalResources_client_default_bdExtract_sql_Oracle_hnQuestResponse___queryQuestResponse.sql': {}
          'f:externalResources_client_default_bdExtract_sql_Oracle_hnReport___queryReport.sql': {}
          'f:externalResources_client_default_bdExtract_sql_Oracle_hnServiceRequest___queryServiceRequest.sql': {}
          'f:externalResources_client_default_bdExtract_sql_Oracle_hnServiceRequest___queryServiceRequestEvent.sql': {}
          'f:externalResources_client_default_bdExtract_sql_Oracle_hnServiceRequestCondition___queryServiceRequestCondition.sql': {}
          'f:externalResources_client_default_bdExtract_sql_Oracle_hnTask___queryTask.sql': {}
          'f:externalResources_client_default_bdExtract_sql_Oracle_hnVitalsign___queryVitalsign.sql': {}
          'f:externalResources_client_default_bdExtract_sql_Oracle_hnaut___queryAutConfigProc.sql': {}
          'f:externalResources_client_default_bdExtract_sql_Oracle_hnaut___queryAutExtension.sql': {}
          'f:externalResources_client_default_bdExtract_sql_Oracle_hnaut___queryAutLocation.sql': {}
          'f:externalResources_client_default_bdExtract_sql_Oracle_hnaut___queryAutOrgLoc.sql': {}
          'f:externalResources_client_default_bdExtract_sql_Oracle_hnaut___queryAutOrgProcLabel.sql': {}
          'f:externalResources_client_default_bdExtract_sql_Oracle_hnaut___queryOrganizations.sql': {}
          'f:externalResources_client_default_bdExtract_sql_Oracle_hnaut___queryPractitioner.sql': {}
          'f:externalResources_client_default_bdExtract_sql_Oracle_hnaut___queryPractitionerDocs.sql': {}
          'f:externalResources_client_default_bdExtract_sql_Oracle_hnaut___queryPractitionerSpecs.sql': {}
          'f:externalResources_client_default_bdExtract_sql_Oracle_hnaut___queryPractitionerWorkplcs.sql': {}
          'f:externalResources_client_default_bdExtract_sql_Oracle_hnaut___queryWorkplaceOrganizations.sql': {}
          'f:externalResources_client_default_bdExtract_sql_Oracle_hncard___queryCards.sql': {}
          'f:externalResources_client_default_bdExtract_sql_Oracle_hncat___queryGeo1.sql': {}
          'f:externalResources_client_default_bdExtract_sql_Oracle_hncat___queryGeo2.sql': {}
          'f:externalResources_client_default_bdExtract_sql_Oracle_hncat___queryGeo3.sql': {}
          'f:externalResources_client_default_bdExtract_sql_Oracle_hncat___queryGeo4.sql': {}
          'f:externalResources_client_default_bdExtract_sql_Oracle_hncat___queryGeo5.sql': {}
          'f:externalResources_client_default_bdExtract_sql_Oracle_hncat___queryTypeVia.sql': {}
          'f:externalResources_client_default_bdExtract_sql_Oracle_hnpob___extract_id_Patients.sql': {}
          'f:externalResources_client_default_bdExtract_sql_Oracle_hnpob___queryPatient.sql': {}
          'f:externalResources_client_default_bdExtract_sql_Oracle_hnpob___queryPatientAddresses.sql': {}
          'f:externalResources_client_default_bdExtract_sql_Oracle_hnpob___queryPatientAdscriptions.sql': {}
          'f:externalResources_client_default_bdExtract_sql_Oracle_hnpob___queryPatientContacts.sql': {}
          'f:externalResources_client_default_bdExtract_sql_Oracle_hnpob___queryPatientDocuments.sql': {}
          'f:externalResources_client_default_bdExtract_sql_Oracle_hnpob___queryPatientExtensions.sql': {}
          'f:externalResources_client_default_bdExtract_sql_Oracle_hnpob___queryPatientNationalities.sql': {}
          'f:externalResources_client_default_bdExtract_sql_Oracle_hnpob___queryPatientPharmacies.sql': {}
          'f:externalResources_client_default_bdExtract_sql_Oracle_hnpob___queryPatientTypeCitizen.sql': {}
          'f:externalResources_client_default_bdExtract_sql_Oracle_hnpob___queryPatientTypeInsured.sql': {}
          'f:externalResources_client_default_bdExtract_sql_Oracle_iengine___getTimeMark.sql': {}
          'f:externalResources_client_default_bdExtract_sql_Oracle_iengine___insertAuditDetail.sql': {}
          'f:externalResources_client_default_bdExtract_sql_Oracle_iengine___insertTimeMark.sql': {}
data:
  externalResources_client_default_bdExtract_properties___allergyint.properties: |-
    #INIT_CONFIGURATION
    #dataSource=dataSourceDataStore
    dataSource=dataSourceIEngine
    #END_CONFIGURATION
    #INIT_QUERY_DATA_SOURCE
    KEY_COD_ALLERGYINTOLERANCE=String
    CLB_ALLERGYINTOLERANCE=Xml|AllergyIntolerance|AllergyIntolerance
    CLB_PATIENT=Xml|Patient|Patient
    CLB_RECORDER=Xml|Practitioner|PractitionerRecorder
    #END_QUERY_DATA_SOURCE
    #INIT_XML_DATA
    ID_ALLERGYINTOLERANCE=AllergyIntolerance|String|/AllergyIntolerance/id/@value|true
    COD_CLINICALSTATUS=AllergyIntolerance|String|/AllergyIntolerance/clinicalStatus/coding/code/@value|true
    COD_VERIFICATIONSTATUS=AllergyIntolerance|String|/AllergyIntolerance/verificationStatus/coding/code/@value|true
    COD_TYPE=AllergyIntolerance|String|/AllergyIntolerance/type/@value|true
    COD_CRITICALITY=AllergyIntolerance|String|/AllergyIntolerance/criticality/@value|true
    COD_ALLERGEN=AllergyIntolerance|String|/AllergyIntolerance/code/coding/code/@value|true
    DESC_ALLERGEN=AllergyIntolerance|String|/AllergyIntolerance/code/coding/display/@value|true
    COD_MECHANISM=AllergyIntolerance|String|/AllergyIntolerance/extension[@url='http://terminology.hl7.org/CodeSystem/allergyintolerance-mechanism']/valueCodeableConcept/coding/code/@value|true
    DESC_MECHANISM=AllergyIntolerance|String|/AllergyIntolerance/extension[@url='http://terminology.hl7.org/CodeSystem/allergyintolerance-mechanism']/valueCodeableConcept/text/@value|true
    COD_CATEGORY=AllergyIntolerance|String|/AllergyIntolerance/category/@value|true
    DATE_IDENTIFICATION=AllergyIntolerance|String|/AllergyIntolerance/onsetDateTime/@value|true|yyyy-MM-dd'T'HH:mm:ssXXX
    DATE_RECORDED=AllergyIntolerance|String|/AllergyIntolerance/recordedDate/@value|true|yyyy-MM-dd'T'HH:mm:ssXXX
    DATE_LASTOCCURRENCE=AllergyIntolerance|String|/AllergyIntolerance/lastOccurrence/@value|true|yyyy-MM-dd
    DATE_UPDATE=AllergyIntolerance|String|/AllergyIntolerance/meta/lastUpdated/@value|true|yyyy-MM-dd'T'HH:mm:ss.SSSXXX
    ID_RECORDER=PractitionerRecorder|String|/Practitioner/id/@value|true
    RECORDER_FULLNAME=PractitionerRecorder|String|/Practitioner/name/text/@value|true
    COD_SOURCE=AllergyIntolerance|String|/AllergyIntolerance/extension[@url='http://terminology.hl7.org/CodeSystem/allergyintolerance-source']/valueCodeableConcept/coding/code/@value|true
    DESC_SOURCE=AllergyIntolerance|String|/AllergyIntolerance/extension[@url='http://terminology.hl7.org/CodeSystem/allergyintolerance-source']/valueCodeableConcept/text/@value|true
    COD_MANIFESTATION=AllergyIntolerance|String|/AllergyIntolerance/reaction/manifestation/coding/code/@value|true
    DESC_MANIFESTATION=AllergyIntolerance|String|/AllergyIntolerance/reaction/manifestation/coding/display/@value|true
    COD_EXPOSUREROUTE=AllergyIntolerance|String|/AllergyIntolerance/reaction/exposureRoute/coding/code/@value|true
    DESC_EXPOSUREROUTE=AllergyIntolerance|String|/AllergyIntolerance/reaction/exposureRoute/coding/display/@value|true
    #ID_PATIENT=Patient|String|/Patient/id/@value|true
    COD_PATIENT=Patient|String|/Patient/id/@value|true
    PATIENT_COD_GENDER=Patient|String|/Patient/gender/@value|true
    PATIENT_BIRTHDATE=Patient|String|/Patient/birthDate/@value|true|yyyy-MM-dd
    #END_XML_DATA
    #INIT_INSERT_TABLE
    datastore/insertDTS_CLI_ALLERGYINTOLERANCE.sql
    AllergyintResult: DTS_CLI_ALLERGYINTOLERANCE
    ID_ALLERGYINTOLERANCE=Xml|String|mandatory
    #ID_PATIENT=Xml|String|nullable
    COD_PATIENT=Xml|String|nullable
    PATIENT_COD_GENDER=Xml|String|nullable
    PATIENT_DESC_GENDER=Xml|String|nullable|[Catalogue=PATIENT_COD_GENDER:FHIR401_ADMINISTRATIVEGENDER]
    PATIENT_AGE_IDENTIFICATION=Xml|Integer|nullable|[DateSub=DATE_IDENTIFICATION:PATIENT_BIRTHDATE]
    COD_CLINICALSTATUS=Xml|String|nullable
    DESC_CLINICALSTATUS=Xml|String|nullable|[Catalogue=COD_CLINICALSTATUS:FHIR401_ALLERGYINTOLERANCECLINICALSTATUSCODES]
    COD_VERIFICATIONSTATUS=Xml|String|nullable
    DESC_VERIFICATIONSTATUS=Xml|String|nullable|[Catalogue=COD_VERIFICATIONSTATUS:FHIR401_ALLERGYINTVERIFICATIONSTATUSCODES]
    COD_TYPE=Xml|String|nullable
    DESC_TYPE=Xml|String|nullable|[Catalogue=COD_TYPE:FHIR401_ALLERGYINTOLERANCETYPE]
    COD_CRITICALITY=Xml|String|nullable
    DESC_CRITICALITY=Xml|String|nullable|[Catalogue=COD_CRITICALITY:FHIR401_ALLERGYINTOLERANCECRITICALITY]
    COD_ALLERGEN=Xml|String|nullable
    DESC_ALLERGEN=Xml|String|nullable|[CopyWhenNull=COD_ALLERGEN]
    COD_MECHANISM=Xml|String|nullable|[CopyWhenNull=DESC_MECHANISM]
    DESC_MECHANISM=Xml|String|nullable|[CopyWhenNull=COD_MECHANISM]
    COD_CATEGORY=Xml|String|nullable
    DESC_CATEGORY=Xml|String|nullable|[Catalogue=COD_CATEGORY:FHIR401_ALLERGYINTOLERANCECATEGORY]
    DATE_IDENTIFICATION=Xml|Timestamp|nullable
    DATE_RECORDED=Xml|Timestamp|nullable|[CopyWhenNull=DATE_UPDATE]
    DATE_RECORDED_LTMZ=Xml|Timestamp|nullable|[CopyFrom=DATE_RECORDED]
    DATE_LASTOCCURRENCE=Xml|Timestamp|nullable
    DATE_UPDATE=Xml|Timestamp|mandatory
    ID_RECORDER=Xml|String|nullable
    RECORDER_FULLNAME=Xml|String|nullable
    COD_SOURCE=Xml|String|nullable
    DESC_SOURCE=Xml|String|nullable
    COD_MANIFESTATION=Xml|String|nullable|[CopyWhenNull=DESC_MANIFESTATION]
    DESC_MANIFESTATION=Xml|String|nullable|[CopyWhenNull=COD_MANIFESTATION]
    COD_EXPOSUREROUTE=Xml|String|nullable
    DESC_EXPOSUREROUTE=Xml|String|nullable
    #END_INSERT_TABLE
  externalResources_client_default_bdExtract_properties___appointment.properties: |-
    #INIT_CONFIGURATION
    #dataSource=dataSourceDataStore
    dataSource=dataSourceIEngine
    #END_CONFIGURATION
    #INIT_QUERY_DATA_SOURCE
    KEY_COD_APPOINTMENT=String
    CLB_APPOINTMENT=Xml|Appointment|Appointment
    CLB_PATIENT=Xml|Patient|Patient
    CLB_CENTER=Xml|Organization|Center
    CLB_ENCOUNTER=Xml|Encounter|Encounter
    CLB_LOCATION=Xml|Location|Location
    CLB_SERVICE=Xml|Organization|Service
    #END_QUERY_DATA_SOURCE
    #INIT_XML_DATA
    ID_APPOINTMENT=Appointment|String|/Appointment/id/@value|true
    COD_STATUS=Appointment|String|/Appointment/status/@value|true
    #ID_PATIENT=Patient|String|/Patient/id/@value|true
    COD_PATIENT=Patient|String|/Patient/id/@value|true
    COD_CANCELATIONREASON=Appointment|String|/Appointment/cancelationReason/coding/code/@value|true
    DESC_CANCELATIONREASON=Appointment|String|/Appointment/cancelationReason/coding/display/@value|true
    COD_TYPE=Appointment|String|/Appointment/appointmentType/coding/code/@value|true
    DESC_TYPE=Appointment|String|/Appointment/appointmentType/coding/display/@value|true
    COD_PRIORITY=Appointment|String|/Appointment/extension[@url='http://hn.indra.es/fhir/StructureDefinition/Priority-Appointment']/valueCodeableConcept/coding/code/@value|true
    DESC_PRIORITY=Appointment|String|/Appointment/extension[@url='http://hn.indra.es/fhir/StructureDefinition/Priority-Appointment']/valueCodeableConcept/coding/display/@value|true
    DESCRIPTION=Appointment|String|/Appointment/description/@value|true
    DATE_START=Appointment|String|/Appointment/start/@value|true|yyyy-MM-dd'T'HH:mm:ss.SSSXXX
    DATE_START_LTMZ=Appointment|String|/Appointment/start/@value|true|yyyy-MM-dd'T'HH:mm:ss.SSSXXX
    DATE_UPDATE=Appointment|String|/Appointment/meta/lastUpdated/@value|true|yyyy-MM-dd'T'HH:mm:ss.SSSXXX
    FLG_LONGLIFE=Appointment|String|/Appointment/extension[@url='http://hl7.org/fhir/ValueSet/longlife']/valueString/@value|true
    COD_SERVICECATEGORY=Appointment|String|/Appointment/serviceCategory/coding/code/@value|true
    DESC_SERVICECATEGORY=Appointment|String|/Appointment/serviceCategory/coding/display/@value|true
    COD_ORGANIZATION2=Center|String|/Organization/id/@value|true
    DESC_ORGANIZATION2=Center|String|/Organization/name/@value|true
    ID_ORGANIZATION=Service|String|/Organization/id/@value|true
    COD_ORGANIZATION=Service|String|/Organization/id/@value|true
    DESC_ORGANIZATION=Service|String|/Organization/name/@value|true
    COD_CARELINE=Appointment|String|/Appointment/extension[@url='http://hn.indra.es/fhir/StructureDefinition/CareLine']/valueCoding/code/@value|true
    DESC_CARELINE=Appointment|String|/Appointment/extension[@url='http://hn.indra.es/fhir/StructureDefinition/CareLine']/valueCoding/display/@value|true
    COD_SPECIALITY=Service|String|/Organization/extension[@url='http://hl7.org/fhir/ValueSet/speciality']/valueString/@value|true
    DESC_SPECIALITY=Service|String|/Organization/extension[@url='http://hl7.org/fhir/ValueSet/speciality']/valueString/@value|true
    COD_LOCATION=Location|String|/Location/id/@value|true
    DESC_LOCATION=Location|String|/Location/name/@value|true
    COD_PROFESSIONALTYPE=Appointment|String|/Appointment/participant/type/coding/system[@value='http://null/hncat/fhir/CodeSystem/Participante_Encuentro']/../code/@value|true
    DESC_PROFESSIONALTYPE=Appointment|String|/Appointment/participant/type/coding/system[@value='http://null/hncat/fhir/CodeSystem/Participante_Encuentro']/../display/@value|true
    APPOINTMENT_STRING_1=Appointment|String|/Appointment/meta/source/@value|true
    APPOINTMENT_STRING_2=Appointment|String|/Appointment/specialty/coding/code/@value|true
    #END_XML_DATA
    #INIT_INSERT_TABLE
    datastore/insertDTS_CLI_APPOINTMENT.sql
    AppointmentResult: STA.DTS_CLI_APPOINTMENT
    ID_APPOINTMENT=Xml|String|mandatory
    COD_STATUS=Xml|String|nullable
    DESC_STATUS=Xml|String|nullable|[Catalogue=COD_STATUS:FHIR401_APPOINTMENTSTATUS]
    #ID_PATIENT=Xml|String|nullable
    COD_PATIENT=Xml|String|nullable
    COD_CANCELATIONREASON=Xml|String|nullable
    DESC_CANCELATIONREASON=Xml|String|nullable|[CopyWhenNull=COD_CANCELATIONREASON]
    COD_TYPE=Xml|String|nullable
    DESC_TYPE=Xml|String|nullable|[CopyWhenNull=COD_TYPE]
    COD_PRIORITY=Xml|String|nullable|[CopyWhenNull=DESC_PRIORITY]
    DESC_PRIORITY=Xml|String|nullable|[CopyWhenNull=COD_PRIORITY]
    DESCRIPTION=Xml|String|nullable
    DATE_START=Xml|Timestamp|nullable
    DATE_START_LTMZ=Xml|Timestamp|nullable|[CopyFrom=DATE_START]
    DATE_UPDATE=Xml|Timestamp|nullable
    FLG_LONGLIFE=Xml|Boolean|nullable|[SetValueWhenNull=false]
    COD_SERVICECATEGORY=Xml|String|nullable
    DESC_SERVICECATEGORY=Xml|String|nullable|[CopyWhenNull=COD_SERVICECATEGORY]
    COD_ORGANIZATION2=Xml|String|nullable
    DESC_ORGANIZATION2=Xml|String|nullable
    ID_ORGANIZATION=Xml|String|nullable
    COD_ORGANIZATION=Xml|String|nullable
    DESC_ORGANIZATION=Xml|String|nullable
    COD_CARELINE=Xml|String|nullable
    DESC_CARELINE=Xml|String|nullable|[CopyWhenNull=COD_CARELINE]
    COD_SPECIALITY=Xml|String|nullable|[CopyWhenNull=DESC_SPECIALITY]
    DESC_SPECIALITY=Xml|String|nullable|[CopyWhenNull=COD_SPECIALITY]
    COD_LOCATION=Xml|String|nullable
    DESC_LOCATION=Xml|String|nullable
    COD_PROFESSIONALTYPE=Xml|String|nullable
    DESC_PROFESSIONALTYPE=Xml|String|nullable|[CopyWhenNull=COD_PROFESSIONALTYPE]
    APPOINTMENT_STRING_1=Xml|String|nullable
    APPOINTMENT_STRING_2=Xml|String|nullable|[IdFromReference=APPOINTMENT_STRING_2]
    #END_INSERT_TABLE
  externalResources_client_default_bdExtract_properties___atna.properties: |-
    #INIT_CONFIGURATION
    #dataSource=dataSourceDataStore
    dataSource=dataSourceIEngine
    #END_CONFIGURATION
    #INIT_QUERY_DATA_SOURCE
    ID_AUDIT=String
    ID_USER=String
    COD_USER=String
    LOGIN=String
    NAME=String
    SURNAME1=String
    SURNAME2=String
    DATE_EVENT=Timestamp
    COD_APPLICATION=String
    DESC_APPLICATION=String
    COD_ROLE=String
    DESC_ROLE=String
    COD_PROFESSION=String
    DESC_PROFESSION=String
    ID_ORGANIZATION=String
    COD_ORGANIZATION=String
    DESC_ORGANIZATION=String
    ID_CENTER=String
    COD_CENTER=String
    DESC_CENTER=String
    ID_FUNCTIONAL_UNIT=String
    COD_FUNCTIONAL_UNIT=String
    DESC_FUNCTIONAL_UNIT=String
    COD_CARE_LINE=String
    DESC_CARE_LINE=String
    COD_SPECIALITY=String
    DESC_SPECIALITY=String
    COD_TYPE_EVENT=String
    DESC_TYPE_EVENT=String
    COD_SUBTYPE_EVENT=String
    DESC_SUBTYPE_EVENT=String
    #END_QUERY_DATA_SOURCE
    #INIT_INSERT_TABLE
    datastore/insertATNA.sql
    AtnaResult: DTS_ATN_AUDIT
    ID_AUDIT=String|mandatory
    ID_USER=String|nullable
    COD_USER=String|nullable
    LOGIN=String|mandatory
    NAME=String|nullable
    SURNAME1=String|nullable
    SURNAME2=String|nullable
    DATE_EVENT=Timestamp|mandatory
    DATE_EVENT_LTMZ=Timestamp|mandatory|[CopyFrom=DATE_EVENT]
    HOUR_EVENT=String|nullable|[CopyHourFromTimestamp=DATE_EVENT]
    COD_APPLICATION=String|nullable
    DESC_APPLICATION=String|nullable
    COD_ROLE=String|nullable
    DESC_ROLE=String|nullable
    COD_PROFESSION=String|nullable
    DESC_PROFESSION=String|nullable
    ID_ORGANIZATION=String|nullable
    COD_ORGANIZATION=String|nullable
    DESC_ORGANIZATION=String|nullable
    ID_CENTER=String|nullable
    COD_CENTER=String|nullable
    DESC_CENTER=String|nullable
    ID_FUNCTIONAL_UNIT=String|nullable
    COD_FUNCTIONAL_UNIT=String|nullable
    DESC_FUNCTIONAL_UNIT=String|nullable
    COD_CARE_LINE=String|nullable
    DESC_CARE_LINE=String|nullable
    COD_SPECIALITY=String|nullable
    DESC_SPECIALITY=String|nullable
    COD_TYPE_EVENT=String|nullable
    DESC_TYPE_EVENT=String|nullable
    COD_SUBTYPE_EVENT=String|nullable
    DESC_SUBTYPE_EVENT=String|nullable
    #END_INSERT_TABLE
  externalResources_client_default_bdExtract_properties___card.properties: |-
    #INIT_CONFIGURATION
    #dataSource=dataSourceDataStore
    dataSource=dataSourceIEngine
    #END_CONFIGURATION
    #INIT_QUERY_DATA_SOURCE
    ID_CARD=String
    ID_PATIENT=String
    COD_PATIENT=String
    COD_TYPE=String
    DESC_TYPE=String
    ORDER_NUMBER=String
    COD_STATUS=String
    DESC_STATUS=String
    COD_REQUEST_REASON=String
    DESC_REQUEST_REASON=String
    FLG_BRAILLE=Integer
    ID_ORG_REQUEST=String
    COD_ORG_REQUEST=String
    DESC_ORG_REQUEST=String
    FULL_NAME_PATIENT=String
    DATE_REQUEST=Timestamp
    DATE_CREATION=Timestamp
    DATE_EXPIRATION=Timestamp
    DATE_ANULATION=Timestamp
    COD_REASON_ANULATION=String
    DESC_REASON_ANULATION=String
    #END_QUERY_DATA_SOURCE
    #INIT_INSERT_TABLE
    datastore/insertDTS_TAR_CARD.sql
    CardResult: DTS_TAR_CARD
    ID_CARD=String|mandatory
    ID_PATIENT=String|mandatory
    COD_PATIENT=String|mandatory
    COD_TYPE=String|nullable
    DESC_TYPE=String|nullable
    ORDER_NUMBER=String|nullable
    COD_STATUS=String|nullable
    DESC_STATUS=String|nullable
    COD_REQUEST_REASON=String|nullable
    DESC_REQUEST_REASON=String|nullable
    FLG_BRAILLE=Boolean|mandatory
    ID_ORG_REQUEST=String|nullable
    COD_ORG_REQUEST=String|nullable
    DESC_ORG_REQUEST=String|nullable
    FULL_NAME_PATIENT=String|nullable
    DATE_REQUEST=Timestamp|mandatory
    DATE_CREATION=Timestamp|nullable
    DATE_EXPIRATION=Timestamp|nullable
    DATE_ANULATION=Timestamp|nullable
    COD_REASON_ANULATION=String|nullable
    DESC_REASON_ANULATION=String|nullable
    #END_INSERT_TABLE
  externalResources_client_default_bdExtract_properties___cliExtension.properties: |-
    #INIT_CONFIGURATION
    #dataSource=dataSourceDataStore
    dataSource=dataSourceIEngine
    #END_CONFIGURATION
    #INIT_QUERY_DATA_SOURCE
    COD_TABLE=String
    COD_VALUE_TABLE=String
    COD_FIELD=String
    VALUE1_FIELD=String
    VALUE2_FIELD=String
    #END_QUERY_DATA_SOURCE
    #INIT_INSERT_TABLE
    datastore/insertDTS_CLI_EXTENSION.sql
    ProcessResult: DTS_CLI_EXTENSION
    COD_TABLE=String|mandatory
    COD_VALUE_TABLE=String|mandatory
    COD_FIELD=String|mandatory
    VALUE1_FIELD=String|mandatory
    VALUE2_FIELD=String|nullable
    #END_INSERT_TABLE
  externalResources_client_default_bdExtract_properties___condition.properties: |-
    #INIT_CONFIGURATION
    #dataSource=dataSourceDataStore
    dataSource=dataSourceIEngine
    #END_CONFIGURATION
    #INIT_CONSTANT_LIST
    DIAGNOSIS=encounter-diagnosis
    PROBLEM=problem-list-item
    GRD=grd
    ENABLE_DIAGNOSIS=true
    ENABLE_PROBLEM=true
    ENABLE_GRD=true
    #END_CONSTANT_LIST
    #INIT_QUERY_DATA_SOURCE
    KEY_COD_CONDITION=String
    CLB_CONDITION=Xml|Condition|Condition
    CLB_PATIENT=Xml|Patient|Patient
    CLB_RECORDER=Xml|Practitioner|Recorder
    CLB_ASSERTER=Xml|Practitioner|Asserter
    CLB_ENCOUNTER=Xml|Encounter|Encounter
    CLB_LOCATION=Xml|Location|Location
    CLB_SERVICE=Xml|Organization|Service
    #END_QUERY_DATA_SOURCE
    #INIT_XML_DATA
    ID_CONDITION=Condition|String|/Condition/id/@value|true
    COD_CATEGORY=Condition|String|/Condition/category/coding/code/@value|true
    DESC_CATEGORY=Condition|String|/Condition/category/coding/display/@value|true
    #ID_PATIENT=Patient|String|/Patient/id/@value|true
    COD_PATIENT=Patient|String|/Patient/id/@value|true
    PATIENT_COD_GENDER=Patient|String|/Patient/gender/@value|true
    DATE_ONSET=Condition|String|/Condition/onsetDateTime/@value|true|yyyy-MM-dd
    DATE_ONSET_PERIOD=Condition|String|/Condition/onsetPeriod/start/@value|true|yyyy-MM-dd
    DATE_RECORDED=Condition|String|/Condition/recordedDate/@value|true|yyyy-MM-dd
    DATE_ABATEMENT=Condition|String|/Condition/abatementDateTime/@value|true|yyyy-MM-dd
    COD_CONDITION=Condition|String|/Condition/code/coding/code/@value|true
    DESC_CONDITION=Condition|String|/Condition/code/coding/display/@value|true
    COD_RECORDER=Recorder|String|/Practitioner/id/@value|true
    RECORDER_FULLNAME=Recorder|String|/Practitioner/name/text/@value|true
    COD_ASSERTER=Asserter|String|/Practitioner/id/@value|true
    ASSERTER_FULLNAME=Asserter|String|/Practitioner/name/text/@value|true
    ID_ENCOUNTER=Encounter|String|/Encounter/id/@value|true
    COD_LOCATION=Location|String|/Location/id/@value|true
    DESC_LOCATION=Location|String|/Location/name/@value|true
    COD_CARELINE=Encounter|String|/Encounter/class/code/@value|true
    DESC_CARELINE=Encounter|String|/Encounter/class/display/@value|true
    COD_ORGANIZATION=Service|String|/Organization/id/@value|true
    DESC_ORGANIZATION=Service|String|/Organization/name/@value|true
    FLG_RELEVANCE=Condition|String|/Condition/extension[@url='http://hn.indra.es/fhir/StructureDefinition/Condition/relevant']/valueBoolean/@value|true
    FLG_PRIMARY=Condition|String|/Condition/extension[@url='http://hn.indra.es/fhir/StructureDefinition/Condition/extension-hierarchy']/valueBoolean/@value|true
    COD_CLINICALSTATUS=Condition|String|/Condition/clinicalStatus/coding/code/@value|true
    COD_VERIFICATIONSTATUS=Condition|String|/Condition/verificationStatus/coding/code/@value|true
    COD_STAGE=Condition|String|/Condition/stage/summary/coding/code/@value|true
    DESC_STAGE=Condition|String|/Condition/stage/summary/coding/display/@value|true
    COD_SEVERITY=Condition|String|/Condition/severity/coding/code/@value|true
    DESC_SEVERITY=Condition|String|/Condition/severity/coding/display/@value|true
    DATE_UPDATE=Condition|String|/Condition/meta/lastUpdated/@value|true|yyyy-MM-dd'T'HH:mm:ss.SSSXXX
    PATIENT_BIRTHDATE=Patient|String|/Patient/birthDate/@value|true|yyyy-MM-dd
    #END_XML_DATA
    #INIT_INSERT_TABLE
    datastore/insertDTS_CLI_CONDITION.sql ([IN=COD_CATEGORY:DIAGNOSIS][IN="true":ENABLE_DIAGNOSIS]) ([IN=COD_CATEGORY:PROBLEM][IN="true":ENABLE_PROBLEM]) ([IN=COD_CATEGORY:GRD][IN="true":ENABLE_GRD])
    ConditionResult: DTS_CLI_CONDITION
    ID_CONDITION=Xml|String|mandatory
    COD_CATEGORY=Xml|String|mandatory
    DESC_CATEGORY=Xml|String|nullable
    #ID_PATIENT=Xml|String|nullable
    COD_PATIENT=Xml|String|nullable
    PATIENT_COD_GENDER=Xml|String|nullable
    PATIENT_DESC_GENDER=Xml|String|nullable|[Catalogue=PATIENT_COD_GENDER:FHIR401_ADMINISTRATIVEGENDER]
    PATIENT_ONSET_AGE=Xml|Integer|nullable|[DateSub_1=DATE_ONSET:PATIENT_BIRTHDATE]
    DATE_ONSET=Xml|Timestamp|nullable|[CopyWhenNull=DATE_ONSET_PERIOD]
    DATE_ONSET_LTMZ==Xml|Timestamp|nullable|[CopyFrom=DATE_ONSET]
    DATE_RECORDED=Xml|Timestamp|mandatory|[CopyWhenNull=DATE_UPDATE]
    DATE_RECORDED_LTMZ==Xml|Timestamp|mandatory|[CopyFrom=DATE_RECORDED]
    DATE_ABATEMENT=Xml|Timestamp|nullable
    DATE_ABATEMENT_LTMZ=Xml|Timestamp|nullable|[CopyFrom=DATE_ABATEMENT]
    COD_CONDITION=Xml|String|nullable
    DESC_CONDITION=Xml|String|nullable
    COD_RECORDER=Xml|String|nullable
    RECORDER_FULLNAME=Xml|String|nullable
    COD_ASSERTER=Xml|String|nullable
    ASSERTER_FULLNAME=Xml|String|nullable
    ID_ENCOUNTER=Xml|String|nullable
    COD_LOCATION=Xml|String|nullable
    DESC_LOCATION=Xml|String|nullable
    COD_CARELINE=Xml|String|nullable
    DESC_CARELINE=Xml|String|nullable|[CopyWhenNull=COD_CARELINE]
    COD_ORGANIZATION=Xml|String|nullable
    DESC_ORGANIZATION=Xml|String|nullable
    FLG_RELEVANCE=Xml|Boolean|mandatory|[SetValueWhenNull=false]
    FLG_PRIMARY=Xml|Boolean|mandatory|[SetValueWhenNull=false]
    COD_CLINICALSTATUS=Xml|String|nullable|[CopyWhenNull=DESC_CLINICALSTATUS]
    DESC_CLINICALSTATUS=Xml|String|nullable|[Catalogue=COD_CLINICALSTATUS:FHIR401_CONDITIONCLINICALSTATUSCODES]|[CopyWhenNull=COD_CLINICALSTATUS]
    COD_VERIFICATIONSTATUS=Xml|String|nullable|[CopyWhenNull=DESC_VERIFICATIONSTATUS]
    DESC_VERIFICATIONSTATUS=Xml|String|nullable|[Catalogue=COD_VERIFICATIONSTATUS:FHIR401_CONDITIONVERIFICATIONSTATUS]|[CopyWhenNull=COD_VERIFICATIONSTATUS]
    COD_STAGE=Xml|String|nullable|[CopyWhenNull=DESC_STAGE]
    DESC_STAGE=Xml|String|nullable|[CopyWhenNull=COD_STAGE]
    COD_SEVERITY=Xml|String|nullable|[CopyWhenNull=DESC_SEVERITY]
    DESC_SEVERITY=Xml|String|nullable|[CopyWhenNull=COD_SEVERITY]
    DATE_UPDATE=Xml|Timestamp|mandatory
    #END_INSERT_TABLE
  externalResources_client_default_bdExtract_properties___configProc.properties: |-
    #INIT_CONFIGURATION
    #dataSource=dataSourceDataStore
    dataSource=dataSourceIEngine
    #END_CONFIGURATION
    #INIT_QUERY_DATA_SOURCE
    COD_PROCEDURE=String
    DESC_PROCEDURE=String
    ID_APPLICANT_ORG=String
    COD_APPLICANT_ORG=String
    DESC_APPLICANT_ORG=String
    ID_ANCESTOR_APPLICANT_ORG=String
    COD_ANCESTOR_APPLICANT_ORG=String
    DESC_ANCESTOR_APPLICANT_ORG=String
    ID_PERFORMER_ORG=String
    COD_PERFORMER_ORG=String
    DESC_PERFORMER_ORG=String
    ID_ANCESTOR_PERFORMER_ORG=String
    COD_ANCESTOR_PERFORMER_ORG=String
    DESC_ANCESTOR_PERFORMER_ORG=String
    #END_QUERY_DATA_SOURCE
    #INIT_INSERT_TABLE
    datastore/insertDTS_AUT_CONFIG_PROC.sql
    ProcessResult: DTS_AUT_CONFIG_PROC
    COD_PROCEDURE=String|mandatory
    DESC_PROCEDURE=String|mandatory
    ID_APPLICANT_ORG=String|mandatory
    COD_APPLICANT_ORG=String|mandatory
    DESC_APPLICANT_ORG=String|mandatory
    ID_ANCESTOR_APPLICANT_ORG=String|nullable
    COD_ANCESTOR_APPLICANT_ORG=String|nullable
    DESC_ANCESTOR_APPLICANT_ORG=String|nullable
    ID_PERFORMER_ORG=String|mandatory
    COD_PERFORMER_ORG=String|mandatory
    DESC_PERFORMER_ORG=String|mandatory
    ID_ANCESTOR_PERFORMER_ORG=String|nullable
    COD_ANCESTOR_PERFORMER_ORG=String|nullable
    DESC_ANCESTOR_PERFORMER_ORG=String|nullable
    #END_INSERT_TABLE
  externalResources_client_default_bdExtract_properties___covid.properties: |-
    #INIT_CONFIGURATION
    #dataSource=dataSourceDataStore
    dataSource=dataSourceIEngine
    #END_CONFIGURATION
    #INIT_QUERY_DATA_SOURCE
    KEY_COD_COVID=String
    CLB_COVID=Xml|Observation|Observation
    CLB_PRACTITIONER=Xml|Practitioner|Practitioner
    CLB_ENCOUNTER=Xml|Encounter|Encounter
    CLB_LOCATION=Xml|Location|Location
    CLB_SERVICE=Xml|Organization|Service
    CLB_PATIENT=Xml|Patient|Patient
    #END_QUERY_DATA_SOURCE
    #INIT_XML_DATA
    ID_COVID=Observation|String|/Observation/id/@value|true
    #ID_PATIENT=Patient|String|/Patient/id/@value|true
    COD_PATIENT=Patient|String|/Patient/id/@value|true
    PATIENT_COD_GENDER=Patient|String|/Patient/gender/@value|true
    DATE_EFFECTIVE=Observation|String|/Observation/effectiveDateTime/@value|true|yyyy-MM-dd
    COD_COVID=Observation|String|/Observation/code/coding/code/@value|true
    DESC_COVID=Observation|String|/Observation/code/coding/display/@value|true
    VALUE_COVID=Observation|String|/Observation/valueQuantity/value/@value|true
    COD_INTERPRETATION=Observation|String|/Observation/interpretation/coding/code/@value|true
    DESC_INTERPRETATION=Observation|String|/Observation/interpretation/coding/display/@value|true
    COD_PERFORMER=Practitioner|String|/Practitioner/id/@value|true
    PERFORMER_FULLNAME=Practitioner|String|/Practitioner/name/text/@value|true
    ID_ENCOUNTER=Encounter|String|/Encounter/id/@value|true
    COD_ORGANIZATION=Service|String|/Organization/id/@value|true
    DESC_ORGANIZATION=Service|String|/Organization/name/@value|true
    COD_LOCATION=Location|String|/Location/id/@value|true
    DESC_LOCATION=Location|String|/Location/name/@value|true
    COD_CARELINE=Encounter|String|/Encounter/class/code/@value|true
    DESC_CARELINE=Encounter|String|/Encounter/class/display/@value|true
    DATE_UPDATE=Observation|String|/Observation/meta/lastUpdated/@value|true|yyyy-MM-dd'T'HH:mm:ss.SSSXXX
    PATIENT_BIRTHDATE=Patient|String|/Patient/birthDate/@value|true|yyyy-MM-dd
    #END_XML_DATA
    #INIT_INSERT_TABLE
    datastore/insertDTS_CLI_COVID.sql
    CovidResult: DTS_CLI_COVID
    ID_COVID=Xml|String|mandatory
    #ID_PATIENT=Xml|String|nullable
    COD_PATIENT=Xml|String|nullable
    PATIENT_COD_GENDER=Xml|String|nullable
    PATIENT_DESC_GENDER=Xml|String|nullable|[Catalogue=PATIENT_COD_GENDER:FHIR401_ADMINISTRATIVEGENDER]
    PATIENT_PERFORMATION_AGE=Xml|Integer|nullable|[DateSub=DATE_EFFECTIVE:PATIENT_BIRTHDATE]
    DATE_EFFECTIVE=Xml|Timestamp|mandatory|[CopyWhenNull=DATE_UPDATE]
    DATE_EFFECTIVE_LTMZ=Xml|Timestamp|mandatory|[CopyFrom=DATE_EFFECTIVE]
    COD_COVID=Xml|String|mandatory|[CopyWhenNull=DESC_COVID]
    DESC_COVID=Xml|String|nullable|[CopyWhenNull=COD_COVID]
    VALUE_COVID=Xml|String|nullable
    COD_INTERPRETATION=Xml|String|nullable|[CopyWhenNull=DESC_INTERPRETATION]
    DESC_INTERPRETATION=Xml|String|nullable|[CopyWhenNull=COD_INTERPRETATION]
    COD_PERFORMER=Xml|String|nullable
    PERFORMER_FULLNAME=Xml|String|nullable
    ID_ENCOUNTER=Xml|String|nullable
    COD_ORGANIZATION=Xml|String|nullable
    DESC_ORGANIZATION=Xml|String|nullable
    COD_LOCATION=Xml|String|nullable
    DESC_LOCATION=Xml|String|nullable
    COD_CARELINE=Xml|String|nullable
    DESC_CARELINE=Xml|String|nullable|[CopyWhenNull=COD_CARELINE]
    DATE_UPDATE=Xml|Timestamp|nullable
    #END_INSERT_TABLE
  externalResources_client_default_bdExtract_properties___encounter.properties: |-
    #INIT_CONFIGURATION
    #dataSource=dataSourceDataStore
    dataSource=dataSourceIEngine
    #END_CONFIGURATION
    #INIT_QUERY_DATA_SOURCE
    KEY_COD_ENCOUNTER=String
    CLB_ENCOUNTER=Xml|Encounter|Encounter
    CLB_EPISODEOFCARE=Xml|EpisodeOfCare|EpisodeOfCare
    CLB_PATIENT=Xml|Patient|Patient
    CLB_PRACTITIONER=Xml|Practitioner|Practitioner
    CLB_LOCATION=Xml|Location|Location
    CLB_ORGANIZATION=Xml|Organization|Organization
    CLB_SERVICE=Xml|Organization|Service
    #END_QUERY_DATA_SOURCE
    #INIT_XML_DATA
    ID_ENCOUNTER=Encounter|String|/Encounter/id/@value|true
    COD_STATUS=Encounter|String|/Encounter/status/@value|true
    #ID_PATIENT=Patient|String|/Patient/id/@value|true
    COD_PATIENT=Patient|String|/Patient/id/@value|true
    TEXT_SUMMARY=Encounter|String|/Encounter/reason/coding/display/@value|true
    ID_EPISODEOFCARE=EpisodeOfCare|String|/EpisodeOfCare/id/@value|true
    ID_PRACTITIONER=NULL|String|/Practitioner/id/@value|true
    COD_PRACTITIONER=Practitioner|String|/Practitioner/id/@value|true
    PRACTITIONER_FULLNAME=Practitioner|String|/Practitioner/name/text/@value|true
    COD_PRIORITY=Encounter|String|/Encounter/priority/coding/code/@value|true
    DESC_PRIORITY=Encounter|String|/Encounter/priority/coding/display/@value|true
    DATE_START=Encounter|String|/Encounter/period/start/@value|true|yyyy-MM-dd'T'HH:mm:ssXXX
    DATE_START_LTMZ=Encounter|String|/Encounter/period/start/@value|true|yyyy-MM-dd'T'HH:mm:ssXXX
    DATE_UPDATE=Encounter|String|/Encounter/meta/lastUpdated/@value|true|yyyy-MM-dd'T'HH:mm:ss.SSSXXX
    COD_ORGANIZATION2=Organization|String|/Organization/id/@value|true
    DESC_ORGANIZATION2=Organization|String|/Organization/name/@value|true
    ID_ORGANIZATION=Service|String|/Organization/id/@value|true
    COD_ORGANIZATION=Service|String|/Organization/id/@value|true
    DESC_ORGANIZATION=Service|String|/Organization/name/@value|true
    COD_SPECIALITY=Service|String|/Organization/extension[@url='http://hl7.org/fhir/ValueSet/speciality']/valueString/@value|true
    DESC_SPECIALITY=Service|String|/Organization/extension[@url='http://hl7.org/fhir/ValueSet/speciality']/valueString/@value|true
    COD_CARELINE=Encounter|String|/Encounter/class/code/@value|true
    DESC_CARELINE=Encounter|String|/Encounter/class/display/@value|true
    COD_LOCATION=Location|String|/Location/id/@value|true
    DESC_LOCATION=Location|String|/Location/name/@value|true
    ENCOUNTER_STRING_1=Encounter|String|/Encounter/meta/source/@value|true
    ENCOUNTER_STRING_2=Encounter|String|/Encounter/serviceProvider/reference/@value|true
    #END_XML_DATA
    #INIT_INSERT_TABLE
    datastore/insertDTS_CLI_ENCOUNTER.sql
    EncounterResult: DTS_CLI_ENCOUNTER
    ID_ENCOUNTER=Xml|String|mandatory
    COD_STATUS=Xml|String|nullable
    DESC_STATUS=Xml|String|nullable|[Catalogue=COD_STATUS:FHIR401_ENCOUNTERSTATUS]
    #ID_PATIENT=Xml|String|nullable
    COD_PATIENT=Xml|String|nullable
    TEXT_SUMMARY=Xml|String|nullable
    ID_EPISODEOFCARE=Xml|String|nullable
    ID_PRACTITIONER=Xml|String|nullable
    COD_PRACTITIONER=Xml|String|nullable
    PRACTITIONER_FULLNAME=Xml|String|nullable
    COD_PRIORITY=Xml|String|nullable
    DESC_PRIORITY=Xml|String|nullable|[CopyWhenNull=COD_PRIORITY]
    DATE_START=Xml|Timestamp|mandatory
    DATE_START_LTMZ=Xml|Timestamp|mandatory
    DATE_UPDATE=Xml|Timestamp|mandatory
    COD_ORGANIZATION2=Xml|String|nullable
    DESC_ORGANIZATION2=Xml|String|nullable
    ID_ORGANIZATION=Xml|String|nullable
    COD_ORGANIZATION=Xml|String|nullable
    DESC_ORGANIZATION=Xml|String|nullable
    COD_SPECIALITY=Xml|String|nullable|[CopyWhenNull=DESC_SPECIALITY]
    DESC_SPECIALITY=Xml|String|nullable|[CopyWhenNull=COD_SPECIALITY]
    COD_CARELINE=Xml|String|nullable
    DESC_CARELINE=Xml|String|nullable|[CopyWhenNull=COD_CARELINE]
    COD_LOCATION=Xml|String|nullable
    DESC_LOCATION=Xml|String|nullable
    ENCOUNTER_STRING_1=Xml|String|nullable
    ENCOUNTER_STRING_2=Xml|String|nullable|[IdFromReference=ENCOUNTER_STRING_2]
    #END_INSERT_TABLE
  externalResources_client_default_bdExtract_properties___episodeOfCare.properties: |-
    #INIT_CONFIGURATION
    #dataSource=dataSourceDataStore
    dataSource=dataSourceIEngine
    #END_CONFIGURATION
    #INIT_QUERY_DATA_SOURCE
    KEY_COD_EPISODEOFCARE=String
    CLB_EPISODEOFCARE=Xml|EpisodeOfCare|EpisodeOfCare
    CLB_ORGANIZATION=Xml|Organization|Organization
    CLB_PATIENT=Xml|Patient|Patient
    #END_QUERY_DATA_SOURCE
    #INIT_XML_DATA
    ID_EPISODEOFCARE=EpisodeOfCare|String|/EpisodeOfCare/id/@value|true
    COD_STATUS=EpisodeOfCare|String|/EpisodeOfCare/status/@value|true
    COD_TYPE=EpisodeOfCare|String|/EpisodeOfCare/type/coding/code/@value|true
    DESC_TYPE=EpisodeOfCare|String|/EpisodeOfCare/type/coding/display/@value|true
    TEXT_SUMMARY=EpisodeOfCare|String|/EpisodeOfCare/diagnosis/condition/display/@value|true
    DATE_START=EpisodeOfCare|String|/EpisodeOfCare/period/start/@value|true|yyyy-MM-dd'T'HH:mm:ssXXX
    DATE_END=EpisodeOfCare|String|/EpisodeOfCare/period/end/@value|true|yyyy-MM-dd'T'HH:mm:ssXXX
    DATE_UPDATE=EpisodeOfCare|String|/EpisodeOfCare/meta/lastUpdated/@value|true|yyyy-MM-dd'T'HH:mm:ss.SSSXXX
    ID_MANAGINGORGANIZATION=NULL|String|/Organization/id/@value|true
    COD_MANAGINGORGANIZATION=Organization|String|/Organization/id/@value|true
    DESC_MANAGINGORGANIZATION=Organization|String|/Organization/name/@value|true
    FLG_LONGLIFE=EpisodeOfCare|String|/EpisodeOfCare/extension[@url='http://hl7.org/fhir/ValueSet/longlife']/valueString/@value|true
    #ID_PATIENT=Patient|String|/Patient/id/@value|true
    COD_PATIENT=Patient|String|/Patient/id/@value|true
    PATIENT_COD_GENDER=Patient|String|/Patient/gender/@value|true
    PATIENT_BIRTHDATE=Patient|String|/Patient/birthDate/@value|true|yyyy-MM-dd
    EPISODEOFCARE_STRING_1=EpisodeOfCare|String|/EpisodeOfCare/meta/source/@value|true
    EPISODEOFCARE_STRING_2=EpisodeOfCare|String|/EpisodeOfCare/managingOrganization/reference/@value|true
    #END_XML_DATA
    #INIT_INSERT_TABLE
    datastore/insertDTS_CLI_EPISODEOFCARE.sql
    EpisodeOfCareResult: DTS_CLI_EPISODEOFCARE
    ID_EPISODEOFCARE=Xml|String|mandatory
    #ID_PATIENT=Xml|String|nullable
    COD_PATIENT=Xml|String|nullable
    PATIENT_COD_GENDER=Xml|String|nullable
    PATIENT_DESC_GENDER=Xml|String|nullable|[Catalogue=PATIENT_COD_GENDER:FHIR401_ADMINISTRATIVEGENDER]
    PATIENT_AGE_IDENTIFICATION=Xml|Integer|nullable|[DateSub=DATE_START:PATIENT_BIRTHDATE]
    FLG_LONGLIFE=Xml|Boolean|mandatory|[SetValueWhenNull=false]
    COD_STATUS=Xml|String|nullable
    DESC_STATUS=Xml|String|nullable|[Catalogue=COD_STATUS:FHIR401_EPISODEOFCARESTATUS]
    COD_TYPE=Xml|String|nullable
    DESC_TYPE=Xml|String|nullable
    TEXT_SUMMARY=Xml|String|nullable
    DATE_START=Xml|Timestamp|mandatory
    DATE_START_LTMZ=Xml|Timestamp|mandatory|[CopyFrom=DATE_START]
    DATE_END=Xml|Timestamp|nullable
    DATE_END_LTMZ=Xml|Timestamp|nullable|[CopyFrom=DATE_END]
    DATE_UPDATE=Xml|Timestamp|mandatory
    ID_MANAGINGORGANIZATION=Xml|String|nullable
    COD_MANAGINGORGANIZATION=Xml|String|nullable
    DESC_MANAGINGORGANIZATION=Xml|String|nullable
    EPISODEOFCARE_STRING_1=Xml|String|nullable
    EPISODEOFCARE_STRING_2=Xml|String|nullable|[IdFromReference=EPISODEOFCARE_STRING_2]
    #END_INSERT_TABLE
  externalResources_client_default_bdExtract_properties___extension.properties: |-
    #INIT_CONFIGURATION
    #dataSource=dataSourceDataStore
    dataSource=dataSourceIEngine
    #END_CONFIGURATION
    #INIT_QUERY_DATA_SOURCE
    COD_TABLE=String
    COD_VALUE_TABLE=String
    COD_FIELD=String
    VALUE1_FIELD=String
    VALUE2_FIELD=String
    #END_QUERY_DATA_SOURCE
    #INIT_INSERT_TABLE
    datastore/insertDTS_AUT_EXTENSION.sql
    ProcessResult: DTS_AUT_EXTENSION
    COD_TABLE=String|mandatory
    COD_VALUE_TABLE=String|mandatory
    COD_FIELD=String|mandatory
    VALUE1_FIELD=String|mandatory
    VALUE2_FIELD=String|nullable
    #END_INSERT_TABLE
  externalResources_client_default_bdExtract_properties___flag.properties: |-
    #INIT_CONFIGURATION
    #dataSource=dataSourceDataStore
    dataSource=dataSourceIEngine
    #END_CONFIGURATION
    #INIT_QUERY_DATA_SOURCE
    KEY_COD_FLAG=String
    CLB_FLAG=Xml|Flag|Flag
    CLB_AUTHOR=Xml|Practitioner|Author
    CLB_PATIENT=Xml|Patient|Patient
    CLB_ENCOUNTER=Xml|Encounter|Encounter
    CLB_LOCATION=Xml|Location|Location
    CLB_SERVICE=Xml|Organization|Service
    #END_QUERY_DATA_SOURCE
    #INIT_XML_DATA
    ID_FLAG=Flag|String|/Flag/id/@value|true
    TEXT=Flag|String|/Flag/text/div|true
    DESCRIPTION=Flag|String|/Flag/code/text/@value|true
    COD_STATUS=Flag|String|/Flag/status/@value|true
    COD_CATEGORY=Flag|String|/Flag/category/coding/code/@value|true
    DESC_CATEGORY=Flag|String|/Flag/category/coding/display/@value|true
    COD_AUTHOR=Author|String|/Practitioner/id/@value|true
    AUTHOR_FULLNAME=Author|String|/Practitioner/name/text/@value|true
    DATE_START=Flag|String|/Flag/period/start/@value|true|yyyy-MM-dd
    DATE_END=Flag|String|/Flag/period/end/@value|true|yyyy-MM-dd
    ID_ENCOUNTER=Encounter|String|/Encounter/id/@value|true
    COD_ORGANIZATION=Service|String|/Organization/id/@value|true
    DESC_ORGANIZATION=Service|String|/Organization/name/@value|true
    COD_CARELINE=Encounter|String|/Encounter/class/code/@value|true
    DESC_CARELINE=Encounter|String|/Encounter/class/display/@value|true
    COD_LOCATION=Location|String|/Location/id/@value|true
    DESC_LOCATION=Location|String|/Location/name/@value|true
    #ID_PATIENT=Patient|String|/Patient/id/@value|true
    COD_PATIENT=Patient|String|/Patient/id/@value|true
    DATE_UPDATE=Flag|String|/Flag/meta/lastUpdated/@value|true|yyyy-MM-dd'T'HH:mm:ss.SSSXXX
    #END_XML_DATA
    #INIT_INSERT_TABLE
    datastore/insertDTS_CLI_FLAG.sql
    FlagResult: DTS_CLI_FLAG
    ID_FLAG=Xml|String|mandatory
    TEXT=Xml|String|nullable
    DESCRIPTION=Xml|String|nullable
    COD_STATUS=Xml|String|nullable
    DESC_STATUS=Xml|String|nullable|[Catalogue=COD_STATUS:FHIR401_FLAGSTATUS]
    COD_CATEGORY=Xml|String|nullable|[CopyWhenNull=DESC_CATEGORY]
    DESC_CATEGORY=Xml|String|nullable|[CopyWhenNull=COD_CATEGORY]
    COD_AUTHOR=Xml|String|nullable
    AUTHOR_FULLNAME=Xml|String|nullable
    DATE_START=Xml|Timestamp|mandatory
    DATE_START_LTMZ=Xml|Timestamp|mandatory|[CopyFrom=DATE_START]
    DATE_END=Xml|Timestamp|nullable
    DATE_END_LTMZ=Xml|Timestamp|nullable|[CopyFrom=DATE_END]
    ID_ENCOUNTER=Xml|String|nullable
    COD_ORGANIZATION=Xml|String|nullable
    DESC_ORGANIZATION=Xml|String|nullable
    COD_CARELINE=Xml|String|nullable
    DESC_CARELINE=Xml|String|nullable|[CopyWhenNull=COD_CARELINE]
    COD_LOCATION=Xml|String|nullable
    DESC_LOCATION=Xml|String|nullable
    #ID_PATIENT=Xml|String|nullable
    COD_PATIENT=Xml|String|nullable
    DATE_UPDATE=Xml|Timestamp|mandatory
    #END_INSERT_TABLE
  externalResources_client_default_bdExtract_properties___geo1.properties: |-
    #INIT_CONFIGURATION
    #dataSource=dataSourceDataStore
    dataSource=dataSourceIEngine
    #END_CONFIGURATION
    #INIT_QUERY_DATA_SOURCE
    ID_GEOL1=String
    COD_GEOL1=String
    COD_GEOL1_ISO=String
    DESC_GEOL1=String
    COD_TYPE=String
    DESC_TYPE=String
    #END_QUERY_DATA_SOURCE
    #INIT_INSERT_TABLE
    datastore/insertDTS_ONT_GEOGRAPHICL1.sql
    Geography: DTS_ONT_GEOGRAPHICL1
    ID_GEOL1=String|mandatory
    COD_GEOL1=String|mandatory
    COD_GEOL1_ISO=String|mandatory
    DESC_GEOL1=String|mandatory
    COD_TYPE=String|nullable
    DESC_TYPE=String|nullable
    #END_INSERT_TABLE
  externalResources_client_default_bdExtract_properties___geo2.properties: |-
    #INIT_CONFIGURATION
    #dataSource=dataSourceDataStore
    dataSource=dataSourceIEngine
    #END_CONFIGURATION
    #INIT_QUERY_DATA_SOURCE
    ID_GEOL1=String
    COD_GEOL1=String
    DESC_GEOL1=String
    ID_GEOL2=String
    COD_GEOL2=String
    DESC_GEOL2=String
    #END_QUERY_DATA_SOURCE
    #INIT_INSERT_TABLE
    datastore/insertDTS_ONT_GEOGRAPHICL2.sql
    Geography: DTS_ONT_GEOGRAPHICL2
    ID_GEOL1=String|mandatory
    COD_GEOL1=String|mandatory
    DESC_GEOL1=String|mandatory
    ID_GEOL2=String|mandatory
    COD_GEOL2=String|mandatory
    DESC_GEOL2=String|mandatory
    #END_INSERT_TABLE
  externalResources_client_default_bdExtract_properties___geo3.properties: |-
    #INIT_CONFIGURATION
    #dataSource=dataSourceDataStore
    dataSource=dataSourceIEngine
    #END_CONFIGURATION
    #INIT_QUERY_DATA_SOURCE
    ID_GEOL1=String
    COD_GEOL1=String
    DESC_GEOL1=String
    ID_GEOL2=String
    COD_GEOL2=String
    DESC_GEOL2=String
    ID_GEOL3=String
    COD_GEOL3=String
    DESC_GEOL3=String
    #END_QUERY_DATA_SOURCE
    #INIT_INSERT_TABLE
    datastore/insertDTS_ONT_GEOGRAPHICL3.sql
    Geography: DTS_ONT_GEOGRAPHICL3
    ID_GEOL1=String|mandatory
    COD_GEOL1=String|mandatory
    DESC_GEOL1=String|mandatory
    ID_GEOL2=String|mandatory
    COD_GEOL2=String|mandatory
    DESC_GEOL2=String|mandatory
    ID_GEOL3=String|mandatory
    COD_GEOL3=String|mandatory
    DESC_GEOL3=String|mandatory
    #END_INSERT_TABLE
  externalResources_client_default_bdExtract_properties___geo4.properties: |-
    #INIT_CONFIGURATION
    #dataSource=dataSourceDataStore
    dataSource=dataSourceIEngine
    #END_CONFIGURATION
    #INIT_QUERY_DATA_SOURCE
    ID_GEOL1=String
    COD_GEOL1=String
    DESC_GEOL1=String
    ID_GEOL2=String
    COD_GEOL2=String
    DESC_GEOL2=String
    ID_GEOL3=String
    COD_GEOL3=String
    DESC_GEOL3=String
    ID_GEOL4=String
    COD_GEOL4=String
    DESC_GEOL4=String
    #END_QUERY_DATA_SOURCE
    #INIT_INSERT_TABLE
    datastore/insertDTS_ONT_GEOGRAPHICL4.sql
    Geography: DTS_ONT_GEOGRAPHICL4
    ID_GEOL1=String|mandatory
    COD_GEOL1=String|mandatory
    DESC_GEOL1=String|mandatory
    ID_GEOL2=String|mandatory
    COD_GEOL2=String|mandatory
    DESC_GEOL2=String|mandatory
    ID_GEOL3=String|mandatory
    COD_GEOL3=String|mandatory
    DESC_GEOL3=String|mandatory
    ID_GEOL4=String|mandatory
    COD_GEOL4=String|mandatory
    DESC_GEOL4=String|mandatory
    #END_INSERT_TABLE
  externalResources_client_default_bdExtract_properties___geo5.properties: |-
    #INIT_CONFIGURATION
    #dataSource=dataSourceDataStore
    dataSource=dataSourceIEngine
    #END_CONFIGURATION
    #INIT_QUERY_DATA_SOURCE
    ID_GEOL1=String
    COD_GEOL1=String
    DESC_GEOL1=String
    ID_GEOL2=String
    COD_GEOL2=String
    DESC_GEOL2=String
    ID_GEOL3=String
    COD_GEOL3=String
    DESC_GEOL3=String
    ID_GEOL4=String
    COD_GEOL4=String
    DESC_GEOL4=String
    ID_GEOL5=String
    COD_GEOL5=String
    DESC_GEOL5=String
    #END_QUERY_DATA_SOURCE
    #INIT_INSERT_TABLE
    datastore/insertDTS_ONT_GEOGRAPHICL5.sql
    Geography: DTS_ONT_GEOGRAPHICL5
    ID_GEOL1=String|mandatory
    COD_GEOL1=String|mandatory
    DESC_GEOL1=String|mandatory
    ID_GEOL2=String|mandatory
    COD_GEOL2=String|mandatory
    DESC_GEOL2=String|mandatory
    ID_GEOL3=String|mandatory
    COD_GEOL3=String|mandatory
    DESC_GEOL3=String|mandatory
    ID_GEOL4=String|mandatory
    COD_GEOL4=String|mandatory
    DESC_GEOL4=String|mandatory
    ID_GEOL5=String|mandatory
    COD_GEOL5=String|mandatory
    DESC_GEOL5=String|mandatory
    #END_INSERT_TABLE
  externalResources_client_default_bdExtract_properties___laboratory.properties: |-
    #INIT_CONFIGURATION
    #dataSource=dataSourceDataStore
    dataSource=dataSourceIEngine
    #END_CONFIGURATION
    #INIT_QUERY_DATA_SOURCE
    KEY_COD_LABORATORY=String
    CLB_LABORATORY=Xml|Observation|Observation
    CLB_ENCOUNTER=Xml|Encounter|Encounter
    CLB_EPISODEOFCARE=Xml|EpisodeOfCare|EpisodeOfCare
    CLB_PATIENT=Xml|Patient|Patient
    CLB_LOCATION=Xml|Location|Location
    CLB_ORGANIZATION=Xml|Organization|Organization
    CLB_SERVICE=Xml|Organization|Service
    #END_QUERY_DATA_SOURCE
    #INIT_XML_DATA
    ID_LABORATORY=Observation|String|/Observation/id/@value|true
    COD_LABORATORY_PARAMETER=Observation|String|/Observation/code/coding/code/@value|true
    DESC_LABORATORY_PARAMETER=Observation|String|/Observation/code/coding/display/@value|true
    VALUE_LABPARAM=Observation|String|/Observation/valueQuantity/value/@value|true
    UNIT_LABPARAM=Observation|String|/Observation/valueQuantity/unit/@value|true
    FLG_VALUE_LABPARAM=Observation|String|/Observation/valueBoolean/@value|true
    DATE_VALUE_LABPARAM=Observation|String|/Observation/valueDateTime/@value|true|yyyy-MM-dd
    DATE_UPDATE=Observation|String|/Observation/meta/lastUpdated/@value|true|yyyy-MM-dd'T'HH:mm:ss.SSSXXX
    COD_LABPARAM_INTERPRETATION=Observation|String|/Observation/interpretation/coding/code/@value|true
    DESC_LABPARAM_INTERPRETATION=Observation|String|/Observation/interpretation/coding/display/@value|true
    COD_LABORATORY_CATEGORY=Observation|String|/Observation/category/coding[@system='http://hn.indra.es/fhir/StructureDefinition/Laboratory_Results_Category']/code/@value|true
    DESC_LABORATORY_CATEGORY=Observation|String|/Observation/category/coding[@system='http://hn.indra.es/fhir/StructureDefinition/Laboratory_Results_Category']/display/@value|true
    COD_STATUS=Observation|String|/Observation/status/@value|true
    DATE_PERFORMATION=Observation|String|/Observation/effectiveDateTime/@value|true|yyyy-MM-dd
    ID_ENCOUNTER=Encounter|String|/Encounter/id/@value|true
    COD_CARELINE=Encounter|String|/Encounter/class/code/@value|true
    DESC_CARELINE=Encounter|String|/Encounter/class/display/@value|true
    #ID_PATIENT=Patient|String|/Patient/id/@value|true
    COD_PATIENT=Patient|String|/Patient/id/@value|true
    PATIENT_COD_GENDER=Patient|String|/Patient/gender/@value|true
    PATIENT_BIRTHDATE=Patient|String|/Patient/birthDate/@value|true|yyyy-MM-dd
    ID_CENTER=Organization|String|/Organization/id/@value|true
    COD_CENTER=Organization|String|/Organization/id/@value|true
    DESC_CENTER=Organization|String|/Organization/name/@value|true
    ID_FUNCTIONALUNIT=Service|String|/Organization/id/@value|true
    COD_FUNCTIONALUNIT=Service|String|/Organization/id/@value|true
    DESC_FUNCTIONALUNIT=Service|String|/Organization/name/@value|true
    COD_SPECIALITY=Service|String|/Organization/extension[@url='http://hl7.org/fhir/ValueSet/speciality']/valueString/@value|true
    DESC_SPECIALITY=Service|String|/Organization/extension[@url='http://hl7.org/fhir/ValueSet/speciality']/valueString/@value|true
    #END_XML_DATA
    #INIT_INSERT_TABLE
    datastore/insertDTS_CLI_LABORATORY.sql
    LaboratoryResult: DTS_CLI_LABORATORY
    ID_LABORATORY=Xml|String|mandatory
    #ID_PATIENT=Xml|String|nullable
    COD_PATIENT=Xml|String|nullable
    PATIENT_COD_GENDER=Xml|String|nullable
    PATIENT_DESC_GENDER=Xml|String|nullable|[Catalogue=PATIENT_COD_GENDER:FHIR401_ADMINISTRATIVEGENDER]
    PATIENT_PERFORMATION_AGE=Xml|Integer|nullable|[DateSub=DATE_PERFORMATION:PATIENT_BIRTHDATE]
    COD_STATUS=Xml|String|nullable
    DESC_STATUS=Xml|String|nullable|[Catalogue=COD_STATUS:FHIR401_OBSERVATIONSTATUS]
    DATE_PERFORMATION=Xml|Timestamp|nullable|[CopyWhenNull=DATE_UPDATE]
    DATE_PERFORMATION_LTMZ=Xml|Timestamp|nullable|[CopyFrom=DATE_PERFORMATION]
    DATE_UPDATE=Xml|Timestamp|mandatory
    ID_ENCOUNTER=Xml|String|nullable
    ID_CENTER=Xml|String|nullable
    COD_CENTER=Xml|String|nullable
    DESC_CENTER=Xml|String|nullable
    ID_FUNCTIONALUNIT=Xml|String|nullable
    COD_FUNCTIONALUNIT=Xml|String|nullable
    DESC_FUNCTIONALUNIT=Xml|String|nullable
    COD_SPECIALITY=Xml|String|nullable|[CopyWhenNull=DESC_SPECIALITY]
    DESC_SPECIALITY=Xml|String|nullable|[CopyWhenNull=COD_SPECIALITY]
    COD_CARELINE=Xml|String|nullable
    DESC_CARELINE=Xml|String|nullable|[CopyWhenNull=COD_CARELINE]
    #END_INSERT_TABLE
    #INIT_INSERT_TABLE
    datastore/insertDTS_CLI_LABORATORY_PARAMETERS.sql
    LaboratoryResult: DTS_CLI_LABORATORY_PARAMETERS
    ID_LABORATORY=Xml|String|mandatory
    COD_LABORATORY_PARAMETER=Xml|String|mandatory
    DESC_LABORATORY_PARAMETER=Xml|String|nullable
    VALUE_LABPARAM=Xml|String|nullable
    UNIT_LABPARAM=Xml|String|nullable
    FLG_VALUE_LABPARAM=Xml|Boolean|nullable|[SetValueWhenNull=false]
    DATE_VALUE_LABPARAM=Xml|Timestamp|nullable
    COD_LABPARAM_INTERPRETATION=Xml|String|nullable
    DESC_LABPARAM_INTERPRETATION=Xml|String|nullable|[CopyWhenNull=COD_LABPARAM_INTERPRETATION]
    COD_LABORATORY_CATEGORY=Xml|String|nullable|[CopyWhenNull=DESC_LABORATORY_CATEGORY]
    DESC_LABORATORY_CATEGORY=Xml|String|nullable|[CopyWhenNull=COD_LABORATORY_CATEGORY]
    #END_INSERT_TABLE
  externalResources_client_default_bdExtract_properties___location.properties: |-
    #INIT_CONFIGURATION
    #dataSource=dataSourceDataStore
    dataSource=dataSourceIEngine
    #END_CONFIGURATION
    #INIT_QUERY_DATA_SOURCE
    ID_LOC=String
    COD_LOC=String
    COD2_LOC=String
    DESC_LOC=String
    COD_TYPE=String
    DESC_TYPE=String
    ID_ANCESTOR=String
    COD_ANCESTOR=String
    DESC_ANCESTOR=String
    CITY=String
    POSTAL_CODE=String
    ADDRESS=String
    ID_ROW=Integer
    #END_QUERY_DATA_SOURCE
    #INIT_INSERT_TABLE
    datastore/insertDTS_AUT_LOCATION.sql
    ProcessResult: DTS_AUT_LOCATION
    ID_LOC=String|mandatory
    COD_LOC=String|mandatory
    COD2_LOC=String|nullable
    DESC_LOC=String|mandatory
    COD_TYPE=String|nullable
    DESC_TYPE=String|nullable
    ID_ANCESTOR=String|nullable
    COD_ANCESTOR=String|nullable
    DESC_ANCESTOR=String|nullable
    CITY=String|nullable
    POSTAL_CODE=String|nullable
    ADDRESS=String|nullable
    ID_ROW=Integer|nullable
    #END_INSERT_TABLE
  externalResources_client_default_bdExtract_properties___ontologyClassification.properties: |-
    #INIT_CONFIGURATION
    #dataSource=dataSourceDataStore
    dataSource=dataSourceIEngine
    #END_CONFIGURATION
    #INIT_QUERY_DATA_SOURCE
    COD_VALUE=String
    DESC_VALUE=String
    COD_CATALOGUE=String
    #END_QUERY_DATA_SOURCE
    #INIT_INSERT_TABLE
    datastore/insertDTS_ONT_ONTOLOGY.sql
    ProcessResult: DTS_ONT_ONTOLOGY
    COD_VALUE=String|mandatory
    DESC_VALUE=String|mandatory
    COD_CATALOGUE=String|mandatory
    #END_INSERT_TABLE
  externalResources_client_default_bdExtract_properties___ontologyRelations.properties: |-
    #INIT_CONFIGURATION
    #dataSource=dataSourceDataStore
    dataSource=dataSourceIEngine
    #END_CONFIGURATION
    #INIT_QUERY_DATA_SOURCE
    COD_VALUE_ORIGIN=String
    DESC_VALUE_ORIGIN=String
    COD_CATALOGUE_ORIGIN=String
    COD_VALUE_DESTINATION=String
    DESC_VALUE_DESTINATION=String
    COD_CATALOGUE_DESTINATION=String
    #END_QUERY_DATA_SOURCE
    #INIT_INSERT_TABLE
    datastore/insertDTS_ONT_ONTOLOGYRELATIONS.sql
    ProcessResult: DTS_ONT_ONTOLOGYRELATIONS
    COD_VALUE_ORIGIN=String|mandatory
    DESC_VALUE_ORIGIN=String|mandatory
    COD_CATALOGUE_ORIGIN=String|mandatory
    COD_VALUE_DESTINATION=String|mandatory
    DESC_VALUE_DESTINATION=String|mandatory
    COD_CATALOGUE_DESTINATION=String|mandatory
    #END_INSERT_TABLE
  externalResources_client_default_bdExtract_properties___orgLoc.properties: |-
    #INIT_CONFIGURATION
    #dataSource=dataSourceDataStore
    dataSource=dataSourceIEngine
    #END_CONFIGURATION
    #INIT_QUERY_DATA_SOURCE
    ID_ORG=String
    COD_ORG=String
    DESC_ORG=String
    COD_TYPE_ORG=String
    DESC_TYPE_ORG=String
    ID_LOC=String
    COD_LOC=String
    DESC_LOC=String
    COD_TYPE_LOC=String
    DESC_TYPE_LOC=String
    #END_QUERY_DATA_SOURCE
    #INIT_INSERT_TABLE
    datastore/insertDTS_AUT_ORG_LOC.sql
    ProcessResult: DTS_AUT_ORG_LOC
    ID_ORG=String|mandatory
    COD_ORG=String|mandatory
    DESC_ORG=String|mandatory
    COD_TYPE_ORG=String|nullable
    DESC_TYPE_ORG=String|nullable
    ID_LOC=String|mandatory
    COD_LOC=String|mandatory
    DESC_LOC=String|mandatory
    COD_TYPE_LOC=String|nullable
    DESC_TYPE_LOC=String|nullable
    #END_INSERT_TABLE
  externalResources_client_default_bdExtract_properties___orgProcLabel.properties: |-
    #INIT_CONFIGURATION
    #dataSource=dataSourceDataStore
    dataSource=dataSourceIEngine
    #END_CONFIGURATION
    #INIT_QUERY_DATA_SOURCE
    ID_ORG=String
    COD_ORG=String
    DESC_ORG=String
    COD_PROCEDURE=String
    DESC_PROCEDURE=String
    COD_LABEL=String
    DESC_LABEL=String
    #END_QUERY_DATA_SOURCE
    #INIT_INSERT_TABLE
    datastore/insertDTS_AUT_ORG_PROC_LABEL.sql
    ProcessResult: DTS_AUT_ORG_PROC_LABEL
    ID_ORG=String|mandatory
    COD_ORG=String|mandatory
    DESC_ORG=String|nullable
    COD_PROCEDURE=String|mandatory
    DESC_PROCEDURE=String|nullable
    COD_LABEL=String|mandatory
    DESC_LABEL=String|nullable
    #END_INSERT_TABLE
  externalResources_client_default_bdExtract_properties___organization.properties: |-
    #INIT_CONFIGURATION
    #dataSource=dataSourceDataStore
    dataSource=dataSourceIEngine
    #END_CONFIGURATION
    #INIT_QUERY_DATA_SOURCE
    ID_ORG=String
    COD_ORG=String
    COD2_ORG=String
    DESC_ORG=String
    COD_TYPE=String
    DESC_TYPE=String
    ID_ANCESTOR=String
    COD_ANCESTOR=String
    DESC_ANCESTOR=String
    TELEPHONE=String
    MAIL=String
    NAME_CONTACT=String
    OBSERVATIONS=String
    ID_ROW=Integer
    #END_QUERY_DATA_SOURCE
    #INIT_INSERT_TABLE
    datastore/insertDTS_AUT_ORGANIZATION.sql
    OrganizationResult: DTS_AUT_ORGANIZATION
    ID_ORG=String|mandatory
    COD_ORG=String|mandatory
    COD2_ORG=String|nullable
    DESC_ORG=String|mandatory
    COD_TYPE=String|nullable
    DESC_TYPE=String|nullable
    ID_ANCESTOR=String|nullable
    COD_ANCESTOR=String|nullable
    DESC_ANCESTOR=String|nullable
    TELEPHONE=String|nullable
    MAIL=String|nullable
    NAME_CONTACT=String|nullable
    OBSERVATIONS=String|nullable
    ID_ROW=Integer|nullable
    #END_INSERT_TABLE
  externalResources_client_default_bdExtract_properties___patient.properties: |-
    #INIT_CONFIGURATION
    #dataSource=dataSourceDataStore
    dataSource=dataSourceIEngine
    #END_CONFIGURATION
    #INIT_QUERY_DATA_SOURCE
    ID_PATIENT=String
    COD_PATIENT=String
    FLG_ACTIVE=Integer
    DATE_STATUS=Timestamp
    COD_PASIVE_REASON=String
    DESC_PASIVE_REASON=String
    ID_ACTIVE_PATIENT=String
    COD_ACTIVE_PATIENT=String
    J_PATIENT=JSON|Patient
    #NAME=String
    SHORTNAME=String
    #SURNAME1=String
    #SURNAME2=String
    DATE_BIRTH=Timestamp
    #COD_COUNTRY_BIRTH=String
    #DESC_COUNTRY_BIRTH=String
    #COD_PLACE_BIRTH=String
    #DESC_PLACE_BIRTH=String
    COD_GENDER=String
    DESC_GENDER=String
    COD_CIVIL_STATUS=String
    DESC_CIVIL_STATUS=String
    #COD_PLACE_ORIGIN=String
    #DESC_PLACE_ORIGIN=String
    #COD_SITE=String
    #DESC_SITE=String
    #AFF_NUMBER_BENEFACTOR=String
    #IDENTIFICATION_CODE_BENEFACTOR=String
    #COD_TYPE_ASSURANCE=String
    #DESC_TYPE_ASSURANCE=String
    #FLG_INTERNAL_MOVE=Integer
    #FLG_EXTERNAL_MOVE=Integer
    #FLG_BRAILLE=Integer
    #FLG_PREFERENCE=Integer
    #COD_TYPE_CITIZEN=String
    #DESC_TYPE_CITIZEN=String
    #COD_INDEX_PHARMACY=String
    #DESC_INDEX_PHARMACY=String
    #COD_SUBINDEX_PHARMACY=String
    #DESC_SUBINDEX_PHARMACY=String
    FLG_BILLABLE=Integer
    FLG_PENSIONER=Integer
    FLG_MUTUALIST=Integer
    FLG_HOSPITAL=Integer
    FLG_PAYROLL=Integer
    FLG_QUOTA=Integer
    COD_GEOGRAPHY=String
    DESC_GEOGRAPHY=String
    #OBSERVATIONS=String
    ID_ORG=String
    COD_ORG=String
    DESC_ORG=String
    #FLG_PROPOSAL=Integer
    #COD_PROPOSAL_REASON=String
    #DESC_PROPOSAL_REASON=String
    ID_PROPOSAL_ORG=String
    COD_PROPOSAL_ORG=String
    DESC_PROPOSAL_ORG=String
    DATE_CREATED=Timestamp
    DATE_MODIF=Timestamp
    USER_AUDIT=String
    #END_QUERY_DATA_SOURCE
    #INIT_JSON_DATA 
    NAME=Patient|String|$.name[0].given[0]|true
    SURNAME1=Patient|String|$.name[0].extension[?(@.url == 'http://hl7.org/fhir/StructureDefinition/humanname-fathers-family')].valueString|true
    SURNAME2=Patient|String|$.name[0].extension[?(@.url == 'http://hl7.org/fhir/StructureDefinition/humanname-mothers-family')].valueString|true
    COD_COUNTRY_BIRTH=Patient|String|$.extension[?(@.url == 'http://hn.indra.es/fhir/StructureDefinition/patient-birthcountry')].valueCodeableConcept.coding[0].code|true
    DESC_COUNTRY_BIRTH=Patient|String|$.extension[?(@.url == 'http://hn.indra.es/fhir/StructureDefinition/patient-birthcountry')].valueCodeableConcept.text|true
    COD_PLACE_BIRTH=Patient|String|$.extension[?(@.url == 'uri:hn:additional-data:ccaa_nacimiento')].valueCodeableConcept.coding[0].code|true
    DESC_PLACE_BIRTH=Patient|String|$.extension[?(@.url == 'uri:hn:additional-data:ccaa_nacimiento')].valueCodeableConcept.text|true
    COD_PLACE_ORIGIN=Patient|String|$.extension[?(@.url == 'uri:hn:additional-data:ccaa_procedencia')].valueCodeableConcept.coding[0].code|true
    DESC_PLACE_ORIGIN=Patient|String|$.extension[?(@.url == 'uri:hn:additional-data:ccaa_procedencia')].valueCodeableConcept.text|true
    COD_SITE=Patient|String|$.extension[?(@.url == 'uri:hn:additional-data:emplazamiento')].valueCodeableConcept.coding[0].code|true
    DESC_SITE=Patient|String|$.extension[?(@.url == 'uri:hn:additional-data:emplazamiento')].valueCodeableConcept.text|true
    AFF_NUMBER_BENEFACTOR=Patient|String|$.extension[?(@.url == 'uri:hn:additional-data:naf_titular')].valueString|true
    IDENTIFICATION_CODE_BENEFACTOR=Patient|String|$.extension[?(@.url == 'uri:hn:additional-data:cipa_titular')].valueString|true
    COD_TYPE_ASSURANCE=Patient|String|$.extension[?(@.url == 'uri:hn:additional-data:tipo_poblacion')].valueCodeableConcept.coding[0].code|true
    DESC_TYPE_ASSURANCE=Patient|String|$.extension[?(@.url == 'uri:hn:additional-data:tipo_poblacion')].valueCodeableConcept.text|true
    FLG_INTERNAL_MOVE=Patient|String|$.extension[?(@.url == 'uri:hn:additional-data:desplazamiento_interno')].valueCodeableConcept.text|true
    FLG_EXTERNAL_MOVE=Patient|String|$.extension[?(@.url == 'uri:hn:additional-data:desplazado_SNS')].valueCodeableConcept.text|true
    FLG_BRAILLE=Patient|String|$.extension[?(@.url == 'uri:hn:additional-data:braille')].valueCodeableConcept.text|true
    FLG_PREFERENCE=Patient|String|$.extension[?(@.url == 'uri:hn:additional-data:atencion_preferente')].valueCodeableConcept.text|true
    #COD_TYPE_CITIZEN=Patient|String|$.extension[?(@.url == 'uri:hn:additional-data:tipo_ciudadano')].valueCodeableConcept.coding[0].code|true
    #DESC_TYPE_CITIZEN=Patient|String|$.extension[?(@.url == 'uri:hn:additional-data:tipo_ciudadano')].valueCodeableConcept.text|true
    COD_INDEX_PHARMACY=Patient|String|$.extension[?(@.url == 'uri:hn:additional-data:indicador_farmacia')].valueCodeableConcept.coding[0].code|true
    DESC_INDEX_PHARMACY=Patient|String|$.extension[?(@.url == 'uri:hn:additional-data:indicador_farmacia')].valueCodeableConcept.text|true
    COD_SUBINDEX_PHARMACY=Patient|String|$.extension[?(@.url == 'uri:hn:additional-data:subindicador_farmacia')].valueCodeableConcept.coding[0].code|true
    DESC_SUBINDEX_PHARMACY=Patient|String|$.extension[?(@.url == 'uri:hn:additional-data:subindicador_farmacia')].valueCodeableConcept.text|true
    OBSERVATIONS=Patient|String|$.extension[?(@.url == 'uri:hn:additional-data:observaciones_ciudadano')].valueString|true
    FLG_PROPOSAL=Patient|String|$.extension[?(@.url == 'uri:hn:additional-data:propuesta')].valueCodeableConcept.text|true
    COD_PROPOSAL_REASON=Patient|String|$.extension[?(@.url == 'uri:hn:additional-data:mot_propuesta')].valueCodeableConcept.coding[0].code|true
    DESC_PROPOSAL_REASON=Patient|String|$.extension[?(@.url == 'uri:hn:additional-data:mot_propuesta')].valueCodeableConcept.text|true
    #END_JSON_DATA 
    #INIT_INSERT_TABLE
    datastore/insertDTS_MPI_PATIENT.sql
    Patient: STA.DTS_MPI_PATIENT
    ID_PATIENT=String|mandatory
    COD_PATIENT=String|mandatory
    FLG_ACTIVE=Boolean|mandatory|[SetValueWhenNull=false]
    DATE_STATUS=Timestamp|nullable
    COD_PASIVE_REASON=String|nullable
    DESC_PASIVE_REASON=String|nullable
    NAME=JSON|String|nullable
    SHORTNAME=String|nullable
    SURNAME1=JSON|String|nullable
    SURNAME2=JSON|String|nullable
    DATE_BIRTH=Timestamp|nullable
    COD_COUNTRY_BIRTH=JSON|String|nullable
    DESC_COUNTRY_BIRTH=JSON|String|nullable
    COD_PLACE_BIRTH=JSON|String|nullable
    DESC_PLACE_BIRTH=JSON|String|nullable
    COD_GENDER=String|nullable
    DESC_GENDER=String|nullable
    COD_CIVIL_STATUS=String|nullable
    DESC_CIVIL_STATUS=String|nullable
    COD_PLACE_ORIGIN=JSON|String|nullable
    DESC_PLACE_ORIGIN=JSON|String|nullable
    COD_SITE=JSON|String|nullable
    DESC_SITE=JSON|String|nullable
    AFF_NUMBER_BENEFACTOR=JSON|String|nullable
    IDENTIFICATION_CODE_BENEFACTOR=JSON|String|nullable
    COD_TYPE_ASSURANCE=JSON|String|nullable
    DESC_TYPE_ASSURANCE=JSON|String|nullable
    FLG_INTERNAL_MOVE=JSON|Boolean|mandatory|[SetValueWhenNull=false]
    FLG_EXTERNAL_MOVE=JSON|Boolean|mandatory|[SetValueWhenNull=false]
    FLG_BRAILLE=JSON|Boolean|mandatory|[SetValueWhenNull=false]
    FLG_PREFERENCE=JSON|Boolean|mandatory|[SetValueWhenNull=false]
    COD_TYPE_CITIZEN=String|nullable
    DESC_TYPE_CITIZEN=String|nullable
    COD_INDEX_PHARMACY=JSON|String|nullable
    DESC_INDEX_PHARMACY=JSON|String|nullable
    COD_SUBINDEX_PHARMACY=JSON|String|nullable
    DESC_SUBINDEX_PHARMACY=JSON|String|nullable
    FLG_BILLABLE=Boolean|mandatory
    FLG_PENSIONER=Boolean|mandatory
    FLG_MUTUALIST=Boolean|mandatory
    FLG_HOSPITAL=Boolean|mandatory
    FLG_PAYROLL=Boolean|nullable
    FLG_QUOTA=Boolean|nullable
    COD_GEOGRAPHY=String|nullable
    DESC_GEOGRAPHY=String|nullable
    OBSERVATIONS=JSON|String|nullable
    ID_ORG=String|nullable
    COD_ORG=String|nullable
    DESC_ORG=String|nullable
    FLG_PROPOSAL=JSON|Boolean|mandatory|[SetValueWhenNull=false]
    COD_PROPOSAL_REASON=JSON|String|nullable
    DESC_PROPOSAL_REASON=JSON|String|nullable
    ID_PROPOSAL_ORG=String|nullable
    COD_PROPOSAL_ORG=String|nullable
    DESC_PROPOSAL_ORG=String|nullable
    ID_ACTIVE_PATIENT=String|nullable
    COD_ACTIVE_PATIENT=String|nullable
    DATE_CREATED=Timestamp|nullable
    DATE_MODIF=Timestamp|nullable
    USER_AUDIT=String|nullable
    #END_INSERT_TABLE
  externalResources_client_default_bdExtract_properties___patientAddresses.properties: |-
    #INIT_CONFIGURATION
    dataSource=dataSourceIEngine
    #END_CONFIGURATION
    #INIT_QUERY_DATA_SOURCE
    ID_PATIENT=String
    COD_PATIENT=String
    FLG_PPAL=Integer
    FLG_PROVISIONAL=Integer
    COD_ADDRESS_TYPE=String
    DESC_ADDRESS_TYPE=String
    COD_ADDRESS_USE=String
    DESC_ADDRESS_USE=String
    COD_ADDRESS_COUNTRY=String
    DESC_ADDRESS_COUNTRY=String
    COD_ADDRESS_L1=String
    DESC_ADDRESS_L1=String
    COD_ADDRESS_L2=String
    DESC_ADDRESS_L2=String
    COD_ADDRESS_L3=String
    DESC_ADDRESS_L3=String
    COD_ADDRESS_L4=String
    DESC_ADDRESS_L4=String
    COD_ADDRESS_L5=String
    DESC_ADDRESS_L5=String
    COD_TYPE_VIA=String
    DESC_TYPE_VIA=String
    VALUE_VIA=String
    KM=String
    BLOCK=String
    GATE=String
    STAIR=String
    FLOOR=String
    APT=String
    POSTAL_BOX=String
    POSTAL_CODE=String
    ID_ORG=String
    COD_ORG=String
    DESC_ORG=String
    OBSERVATIONS=String
    ADDRESS_ORDER=Integer
    #END_QUERY_DATA_SOURCE
    #INIT_INSERT_TABLE
    datastore/insertDTS_MPI_PATIENT_ADDRESSES.sql
    PatientAddress: DTS_MPI_PATIENT_ADDRESSES
    ID_PATIENT=String|mandatory
    COD_PATIENT=String|mandatory
    FLG_PPAL=boolean|mandatory
    FLG_PROVISIONAL=boolean|mandatory
    COD_ADDRESS_TYPE=String|nullable
    DESC_ADDRESS_TYPE=String|nullable
    COD_ADDRESS_USE=String|nullable
    DESC_ADDRESS_USE=String|nullable
    COD_ADDRESS_COUNTRY=String|nullable
    DESC_ADDRESS_COUNTRY=String|nullable
    COD_ADDRESS_L1=String|nullable
    DESC_ADDRESS_L1=String|nullable
    COD_ADDRESS_L2=String|nullable
    DESC_ADDRESS_L2=String|nullable
    COD_ADDRESS_L3=String|nullable
    DESC_ADDRESS_L3=String|nullable
    COD_ADDRESS_L4=String|nullable
    DESC_ADDRESS_L4=String|nullable
    COD_ADDRESS_L5=String|nullable
    DESC_ADDRESS_L5=String|nullable
    COD_TYPE_VIA=String|nullable
    DESC_TYPE_VIA=String|nullable
    VALUE_VIA=String|nullable
    KM=String|nullable
    BLOCK=String|nullable
    GATE=String|nullable
    STAIR=String|nullable
    FLOOR=String|nullable
    APT=String|nullable
    POSTAL_BOX=String|nullable
    POSTAL_CODE=String|nullable
    ID_ORG=String|nullable
    COD_ORG=String|nullable
    DESC_ORG=String|nullable
    OBSERVATIONS=String|nullable
    ADDRESS_ORDER=Integer|nullable
    #END_INSERT_TABLE
  externalResources_client_default_bdExtract_properties___patientAdscriptions.properties: |-
    #INIT_CONFIGURATION
    dataSource=dataSourceIEngine
    #END_CONFIGURATION
    #INIT_QUERY_DATA_SOURCE
    ID_PATIENT=String
    COD_PATIENT=String
    FLG_HABITUAL=Integer
    COD_ADSCRIPTION_TYPE=String
    DESC_ADSCRIPTION_TYPE=String
    COD_ADSCRIPTION_STATUS=String
    DESC_ADSCRIPTION_STATUS=String
    DATE_START=Timestamp
    DATE_END=Timestamp
    COD_ADSCRIPTION_REASON=String
    DESC_ADSCRIPTION_REASON=String
    ID_ORG=String
    COD_ORG=String
    DESC_ORG=String
    ID_WORKPLACE=String
    COD_WORKPLACE=String
    COD_WORKPLACE_TYPE=String
    DESC_WORKPLACE_TYPE=String
    COD_WORKPLACE_SUBTYPE=String
    DESC_WORKPLACE_SUBTYPE=String
    COD_WORKPLACE_COVERAGE=String
    DESC_WORKPLACE_COVERAGE=String
    ID_PRACTITIONER=String
    COD_PRACTITIONER=String
    NAME_PRACTITIONER=String
    SURNAME1_PRACTITIONER=String
    SURNAME2_PRACTITIONER=String
    COD_CARE_GUARD=String
    DESC_CARE_GUARD=String
    COD_ROLE=String
    DESC_ROLE=String
    #END_QUERY_DATA_SOURCE
    #INIT_INSERT_TABLE
    datastore/insertDTS_MPI_PATIENT_ADSCRIPTIONS.sql
    PatientAdscription:DTS_MPI_PATIENT_ADSCRIPTIONS
    ID_PATIENT=String|mandatory
    COD_PATIENT=String|mandatory
    FLG_HABITUAL=boolean|mandatory
    COD_ADSCRIPTION_TYPE=String|nullable
    DESC_ADSCRIPTION_TYPE=String|nullable
    COD_ADSCRIPTION_STATUS=String|nullable
    DESC_ADSCRIPTION_STATUS=String|nullable
    DATE_START=Timestamp|nullable
    DATE_END=Timestamp|nullable
    COD_ADSCRIPTION_REASON=String|nullable
    DESC_ADSCRIPTION_REASON=String|nullable
    ID_ORG=String|nullable
    COD_ORG=String|nullable
    DESC_ORG=String|nullable
    ID_WORKPLACE=String|nullable
    COD_WORKPLACE=String|nullable
    COD_WORKPLACE_TYPE=String|nullable
    DESC_WORKPLACE_TYPE=String|nullable
    COD_WORKPLACE_SUBTYPE=String|nullable
    DESC_WORKPLACE_SUBTYPE=String|nullable
    COD_WORKPLACE_COVERAGE=String|nullable
    DESC_WORKPLACE_COVERAGE=String|nullable
    ID_PRACTITIONER=String|nullable
    COD_PRACTITIONER=String|nullable
    NAME_PRACTITIONER=String|nullable
    SURNAME1_PRACTITIONER=String|nullable
    SURNAME2_PRACTITIONER=String|nullable
    COD_CARE_GUARD=String|nullable
    DESC_CARE_GUARD=String|nullable
    COD_ROLE=String|nullable
    DESC_ROLE=String|nullable
    #END_INSERT_TABLE
  externalResources_client_default_bdExtract_properties___patientContacts.properties: |-
    #INIT_CONFIGURATION
    dataSource=dataSourceIEngine
    #END_CONFIGURATION
    #INIT_QUERY_DATA_SOURCE
    ID_PATIENT=String
    COD_PATIENT=String
    COD_CONTACT_TYPE=String
    DESC_CONTACT_TYPE=String
    COD_CONTACT_USE=String
    DESC_CONTACT_USE=String
    CONTACT_VALUE=String
    FLG_NOTIFICATION=Integer
    #END_QUERY_DATA_SOURCE
    #INIT_INSERT_TABLE
    datastore/insertDTS_MPI_PATIENT_DATACONTACTS.sql
    PatientContacts: DTS_MPI_PATIENT_DATACONTACTS
    ID_PATIENT=String|mandatory
    COD_PATIENT=String|mandatory
    COD_CONTACT_TYPE=String|nullable
    DESC_CONTACT_TYPE=String|nullable
    COD_CONTACT_USE=String|nullable
    DESC_CONTACT_USE=String|nullable
    CONTACT_VALUE=String|mandatory
    FLG_NOTIFICATION=Boolean|mandatory
    #END_INSERT_TABLE
  externalResources_client_default_bdExtract_properties___patientDocuments.properties: |-
    #INIT_CONFIGURATION
    dataSource=dataSourceIEngine
    #END_CONFIGURATION
    #INIT_QUERY_DATA_SOURCE
    ID_PATIENT=String
    COD_PATIENT=String
    COD_DOCUMENT_TYPE=String
    DESC_DOCUMENT_TYPE=String
    DOCUMENT_VALUE=String
    FLG_TUTOR=Integer
    DATE_EXPIRATION=Timestamp
    COD_COUNTRY_ISSUE=String
    DESC_COUNTRY_ISSUE=String
    #END_QUERY_DATA_SOURCE
    #INIT_INSERT_TABLE
    datastore/insertDTS_MPI_PATIENT_DOCUMENTS.sql
    PatientDocs: DTS_MPI_PATIENT_DOCUMENTS
    ID_PATIENT=String|mandatory
    COD_PATIENT=String|mandatory
    COD_DOCUMENT_TYPE=String|mandatory
    DESC_DOCUMENT_TYPE=String|mandatory
    DOCUMENT_VALUE=String|mandatory
    FLG_TUTOR=Boolean|mandatory
    DATE_EXPIRATION=Timestamp|nullable
    COD_COUNTRY_ISSUE=String|nullable
    DESC_COUNTRY_ISSUE=String|nullable
    #END_INSERT_TABLE
  externalResources_client_default_bdExtract_properties___patientNationalities.properties: |-
    #INIT_CONFIGURATION
    dataSource=dataSourceIEngine
    #END_CONFIGURATION
    #INIT_QUERY_DATA_SOURCE
    ID_PATIENT=String
    COD_PATIENT=String
    COD_NATIONALITY=String
    DESC_NATIONALITY=String
    #END_QUERY_DATA_SOURCE
    #INIT_INSERT_TABLE
    datastore/insertDTS_MPI_PATIENT_NATIONALITIES.sql
    PatientNat: STA.DTS_MPI_PATIENT_NATIONALITIES
    ID_PATIENT=String|mandatory
    COD_PATIENT=String|mandatory
    COD_NATIONALITY=String|mandatory
    DESC_NATIONALITY=String|mandatory
    #END_INSERT_TABLE
  externalResources_client_default_bdExtract_properties___patientPharmacies.properties: |-
    #INIT_CONFIGURATION
    dataSource=dataSourceIEngine
    #END_CONFIGURATION
    #INIT_QUERY_DATA_SOURCE
    ID_PATIENT=String
    COD_PATIENT=String
    DATE_FROM=Timestamp
    COD_INDEX_PHARMACY=String
    DESC_INDEX_PHARMACY=String
    COD_SUB_INDEX_PHARMACY=String
    DESC_SUB_INDEX_PHARMACY=String
    #END_QUERY_DATA_SOURCE
    #INIT_INSERT_TABLE
    datastore/insertDTS_MPI_PATIENT_PHARMACIES.sql
    PatientPharResult: STA.DTS_MPI_PATIENT_PHARMACIES
    ID_PATIENT=String|mandatory
    COD_PATIENT=String|mandatory
    DATE_FROM=Timestamp|mandatory
    COD_INDEX_PHARMACY=String|mandatory
    DESC_INDEX_PHARMACY=String|nullable
    COD_SUB_INDEX_PHARMACY=String|nullable
    DESC_SUB_INDEX_PHARMACY=String|nullable
    #END_INSERT_TABLE
  externalResources_client_default_bdExtract_properties___patientTypeCitizen.properties: |-
    #INIT_CONFIGURATION
    dataSource=dataSourceIEngine
    #END_CONFIGURATION
    #INIT_QUERY_DATA_SOURCE
    ID_PATIENT=String
    COD_PATIENT=String
    DATE_FROM=Timestamp
    COD_TYPE_CITIZEN=String
    DESC_TYPE_CITIZEN=String
    FLG_BILLABLE=Integer
    FLG_PENSIONER=Integer
    FLG_MUTUALIST=Integer
    FLG_HOSPITAL=Integer
    FLG_PAYROLL=Integer
    FLG_QUOTA=Integer
    #END_QUERY_DATA_SOURCE
    #INIT_INSERT_TABLE
    datastore/insertDTS_MPI_HIS_TYPE_CITIZEN.sql
    PatientNatResult: DTS_MPI_HIS_TYPE_CITIZEN
    ID_PATIENT=String|mandatory
    COD_PATIENT=String|mandatory
    DATE_FROM=Timestamp|mandatory
    COD_TYPE_CITIZEN=String|mandatory
    DESC_TYPE_CITIZEN=String|mandatory
    FLG_BILLABLE=Boolean|mandatory
    FLG_PENSIONER=Boolean|mandatory
    FLG_MUTUALIST=Boolean|mandatory
    FLG_HOSPITAL=Boolean|mandatory
    FLG_PAYROLL=Boolean|mandatory
    FLG_QUOTA=Boolean|mandatory
    #END_INSERT_TABLE
  externalResources_client_default_bdExtract_properties___patientTypeInsured.properties: |-
    #INIT_CONFIGURATION
    dataSource=dataSourceIEngine
    #END_CONFIGURATION
    #INIT_QUERY_DATA_SOURCE
    ID_PATIENT=String
    COD_PATIENT=String
    DATE_FROM=Timestamp
    FLG_TITULAR=String
    CODE_BENEFACTOR=String
    #END_QUERY_DATA_SOURCE
    #INIT_INSERT_TABLE
    datastore/insertDTS_MPI_PATIENT_TYPE_INSURED.sql
    PatientNatResult: DTS_MPI_HIS_TYPE_INSURED
    ID_PATIENT=String|mandatory
    COD_PATIENT=String|mandatory
    DATE_FROM=Timestamp|mandatory
    FLG_TITULAR=String|mandatory
    CODE_BENEFACTOR=String|nullable
    #END_INSERT_TABLE
  externalResources_client_default_bdExtract_properties___practitioner.properties: |-
    #INIT_CONFIGURATION
    #dataSource=dataSourceDataStore
    dataSource=dataSourceIEngine
    #END_CONFIGURATION
    #INIT_QUERY_DATA_SOURCE
    ID_PRACTITIONER=String
    COD_PRACTITIONER=String
    FLG_ACTIVE=Integer
    NAME=String
    SURNAME1=String
    SURNAME2=String
    DATE_BIRTH=String
    COD_GENDER=String
    DESC_GENDER=String
    DATE_CREATED=Timestamp
    DATE_MODIFIED=Timestamp
    #END_QUERY_DATA_SOURCE
    #INIT_INSERT_TABLE
    datastore/insertDTS_AUT_PRACTITIONER.sql
    PractitioneResult: DTS_AUT_PRACTITIONER
    ID_PRACTITIONER=String|mandatory
    COD_PRACTITIONER=String|mandatory
    FLG_ACTIVE=Boolean|mandatory
    NAME=String|nullable
    SURNAME1=String|nullable
    SURNAME2=String|nullable
    DATE_BIRTH=Timestamp|nullable
    COD_GENDER=String|nullable
    DESC_GENDER=String|nullable
    DATE_CREATED=Timestamp|nullable
    DATE_MODIFIED=Timestamp|nullable
    #END_INSERT_TABLE
  externalResources_client_default_bdExtract_properties___practitionerDocs.properties: |-
    #INIT_CONFIGURATION
    #dataSource=dataSourceDataStore
    dataSource=dataSourceIEngine
    #END_CONFIGURATION
    #INIT_QUERY_DATA_SOURCE
    ID_PRACTITIONER=String
    COD_PRACTITIONER=String
    COD_DOCUMENT_TYPE=String
    DESC_DOCUMENT_TYPE=String
    DOCUMENT_VALUE=String
    #END_QUERY_DATA_SOURCE
    #INIT_INSERT_TABLE
    datastore/insertDTS_AUT_PRACTITIONER_DOCS.sql
    practitionerDocs: DTS_AUT_PRACTITIONER_DOCS
    ID_PRACTITIONER=String|mandatory
    COD_PRACTITIONER=String|mandatory
    COD_DOCUMENT_TYPE=String|mandatory
    DESC_DOCUMENT_TYPE=String|mandatory
    DOCUMENT_VALUE=String|mandatory
    #END_INSERT_TABLE
  externalResources_client_default_bdExtract_properties___practitionerSpecs.properties: |-
    #INIT_CONFIGURATION
    #dataSource=dataSourceDataStore
    dataSource=dataSourceIEngine
    #END_CONFIGURATION
    #INIT_QUERY_DATA_SOURCE
    ID_PRACTITIONER=String
    COD_PRACTITIONER=String
    COD_PROFESSION=String
    DESC_PROFESSION=String
    COD_SPECIALTIES=String
    DESC_SPECIALTIES=String
    #END_QUERY_DATA_SOURCE
    #INIT_INSERT_TABLE
    datastore/insertDTS_AUT_PRACT_PROFS_SPECS.sql
    practitionerEsps: DTS_AUT_PRACT_PROFS_SPECS
    ID_PRACTITIONER=String|mandatory
    COD_PRACTITIONER=String|mandatory
    COD_PROFESSION=String|mandatory
    DESC_PROFESSION=String|mandatory
    COD_SPECIALTIES=String|nullable
    DESC_SPECIALTIES=String|nullable
    #END_INSERT_TABLE
    
  externalResources_client_default_bdExtract_properties___practitionerWorkplcs.properties: |-
    #INIT_CONFIGURATION
    #dataSource=dataSourceDataStore
    dataSource=dataSourceIEngine
    #END_CONFIGURATION
    #INIT_QUERY_DATA_SOURCE
    ID_PRACTITIONER=String 					
    COD_PRACTITIONER=String 							
    NAME=String 							
    SURNAME1=String 							
    SURNAME2=String 							
    DATE_FROM=String 							
    DATE_TO=String 							
    ID_WORKPLACE=String 						
    COD_WORKPLACE=String 							
    COD_WORKPLACE_TYPE=String 							
    DESC_WORKPLACE_TYPE=String 					
    COD_WORKPLACE_SUBTYPE=String 					
    DESC_WORKPLACE_SUBTYPE=String					
    COD_WORKPLACE_COVERAGE=String	
    DESC_WORKPLACE_COVERAGE=String	
    ID_ORGANIZATION=String 							
    COD_ORGANIZATION=String							
    DESC_ORGANIZATION=String 
    #END_QUERY_DATA_SOURCE
    #INIT_INSERT_TABLE
    datastore/insertDTS_AUT_PRACTITIONER_WORKPLCS.sql
    practitionerWork: DTS_AUT_PRACTITIONER_WORKPLCS
    ID_PRACTITIONER=String|mandatory
    COD_PRACTITIONER=String|mandatory
    NAME=String|nullable
    SURNAME1=String|nullable
    SURNAME2=String|nullable
    DATE_FROM=Timestamp|mandatory
    DATE_TO=Timestamp|nullable
    ID_WORKPLACE=String|mandatory
    COD_WORKPLACE=String|mandatory
    COD_WORKPLACE_TYPE=String|nullable
    DESC_WORKPLACE_TYPE=String|nullable
    COD_WORKPLACE_SUBTYPE=String|nullable
    DESC_WORKPLACE_SUBTYPE=String|nullable
    COD_WORKPLACE_COVERAGE=String|nullable
    DESC_WORKPLACE_COVERAGE=String|nullable
    ID_ORGANIZATION=String|nullable
    COD_ORGANIZATION=String|nullable
    DESC_ORGANIZATION=String|nullable
    #END_INSERT_TABLE
    
    
  externalResources_client_default_bdExtract_properties___pre_patient.properties: |-
    #INIT_CONFIGURATION
    #dataSource=dataSourceDataStore
    dataSource=dataSourceIEngine
    #END_CONFIGURATION
    #INIT_QUERY_DATA_SOURCE
    ID_PATIENT=Integer
    #END_QUERY_DATA_SOURCE
    #INIT_INSERT_TABLE
    datastore/insertPatients.sql
    Pre_PatientResult: STA.MPI_PATIENT_AUX
    ID_PATIENT=Integer|mandatory
    #END_INSERT_TABLE
  externalResources_client_default_bdExtract_properties___procedure.properties: |-
    #INIT_CONFIGURATION
    #dataSource=dataSourceDataStore
    dataSource=dataSourceIEngine
    #END_CONFIGURATION
    #INIT_CONSTANT_LIST
    PROCESS_STATUS=completed
    #END_CONSTANT_LIST
    #INIT_QUERY_DATA_SOURCE
    KEY_COD_PROCEDURE=String
    CLB_PROCEDURE=Xml|Procedure|Procedure
    CLB_PATIENT=Xml|Patient|Patient
    CLB_RECORDED=Xml|Practitioner|Recorder
    CLB_PERFORMER=Xml|Practitioner|Performer
    CLB_ENCOUNTER=Xml|Encounter|Encounter
    CLB_LOCATION=Xml|Location|Location
    CLB_SERVICE=Xml|Organization|Service
    CLB_EPISODEOFCARE=Xml|EpisodeOfCare|EpisodeOfCare
    CLB_ORGANIZATION=Xml|Organization|Organization
    CLB_MAIN_PROCEDURE=Xml|Procedure|MainProcedure
    CLB_SERVICEREQUEST=Xml|ServiceRequest|ServiceRequest
    #END_QUERY_DATA_SOURCE
    #INIT_XML_DATA
    ID_PROCEDURE=Procedure|String|/Procedure/id/@value|true
    #ID_PATIENT=Patient|String|/Patient/id/@value|true
    COD_PATIENT=Patient|String|/Patient/id/@value|true
    PATIENT_COD_GENDER=Patient|String|/Patient/gender/@value|true
    COD_PROCEDURE=Procedure|String|/Procedure/code/coding/code/@value|true
    DESC_PROCEDURE=Procedure|String|/Procedure/code/coding/display/@value|true
    COD_RECORDER=Recorder|String|/Practitioner/id/@value|true
    RECORDER_FULLNAME=Recorder|String|/Practitioner/name/text/@value|true
    DATE_PERFORMED_START=Procedure|String|/Procedure/performedPeriod/start/@value|true|yyyy-MM-dd'T'HH:mm:ssXXX
    DATE_PERFORMED_END=Procedure|String|/Procedure/performedPeriod/end/@value|true|yyyy-MM-dd'T'HH:mm:ssXXX
    COD_PERFORMER=Performer|String|/Practitioner/id/@value|true
    PERFORMER_FULLNAME=Performer|String|/Practitioner/name/text/@value|true
    ID_ENCOUNTER=Encounter|String|/Encounter/id/@value|true
    COD_LOCATION=Location|String|/Location/id/@value|true
    DESC_LOCATION=Location|String|/Location/name/@value|true
    COD_ORGANIZATION2=Organization|String|/Organization/id/@value|true
    DESC_ORGANIZATION2=Organization|String|/Organization/name/@value|true
    COD_CARELINE=Encounter|String|/Encounter/class/code/@value|true
    DESC_CARELINE=Encounter|String|/Encounter/class/display/@value|true
    COD_ORGANIZATION=Service|String|/Organization/id/@value|true
    DESC_ORGANIZATION=Service|String|/Organization/name/@value|true
    FLG_PRIMARY=Procedure|String|/Procedure/extension[@url='http://hn.indra.es/fhir/StructureDefinition/Procedure/extension-hierarchy']/valueBoolean/@value|true
    COD_STATUS=Procedure|String|/Procedure/status/@value|true
    COD_REASONSTATUS=Procedure|String|/Procedure/statusReason/coding/code/@value|true
    DESC_REASONSTATUS=Procedure|String|/Procedure/statusReason/coding/display/@value|true
    COD_CATEGORY=Procedure|String|/Procedure/category/coding/code/@value|true
    DESC_CATEGORY=Procedure|String|/Procedure/category/coding/display/@value|true
    COD_OUTCOME=Procedure|String|/Procedure/outcome/coding/code/@value|true
    DESC_OUTCOME=Procedure|String|/Procedure/outcome/coding/display/@value|true
    ID_MAIN_PROCEDURE=MainProcedure|String|/Procedure/id/@value|true
    ID_SERVICEREQUEST=ServiceRequest|String|/ServiceRequest/id/@value|true
    DATE_UPDATE=Procedure|String|/Procedure/meta/lastUpdated/@value|true|yyyy-MM-dd'T'HH:mm:ss.SSSXXX
    PATIENT_BIRTHDATE=Patient|String|/Patient/birthDate/@value|true|yyyy-MM-dd
    #END_XML_DATA
    #INIT_INSERT_TABLE
    datastore/insertDTS_CLI_PROCEDURE.sql [IN=COD_STATUS:PROCESS_STATUS]
    ProcedureResult: DTS_CLI_PROCEDURE
    ID_PROCEDURE=Xml|String|mandatory
    #ID_PATIENT=Xml|String|nullable
    COD_PATIENT=Xml|String|nullable
    PATIENT_COD_GENDER=Xml|String|nullable
    PATIENT_DESC_GENDER=Xml|String|nullable|[Catalogue=PATIENT_COD_GENDER:FHIR401_ADMINISTRATIVEGENDER]
    PATIENT_PERFORMED_AGE=Xml|String|nullable|[DateSub=DATE_PERFORMED_START:PATIENT_BIRTHDATE]
    COD_PROCEDURE=Xml|String|nullable|[CopyWhenNull=DESC_PROCEDURE]
    DESC_PROCEDURE=Xml|String|nullable|[CopyWhenNull=COD_PROCEDURE]
    COD_RECORDER=Xml|String|nullable
    RECORDER_FULLNAME=Xml|String|nullable
    DATE_PERFORMED_START=Xml|Timestamp|nullable
    DATE_PERFORMED_START_LTMZ=Xml|Timestamp|nullable|[CopyFrom=DATE_PERFORMED_START]
    DATE_PERFORMED_END=Xml|Timestamp|nullable
    DATE_PERFORMED_END_LTMZ=Xml|Timestamp|nullable|[CopyFrom=DATE_PERFORMED_END]
    COD_PERFORMER=Xml|String|nullable
    PERFORMER_FULLNAME=Xml|String|nullable
    ID_ENCOUNTER=Xml|String|nullable
    COD_LOCATION=Xml|String|nullable
    DESC_LOCATION=Xml|String|nullable
    COD_ORGANIZATION2=Xml|String|nullable
    DESC_ORGANIZATION2=Xml|String|nullable
    COD_CARELINE=Xml|String|nullable
    DESC_CARELINE=Xml|String|nullable|[CopyWhenNull=COD_CARELINE]
    COD_ORGANIZATION=Xml|String|nullable
    DESC_ORGANIZATION=Xml|String|nullable
    FLG_PRIMARY=Xml|boolean|mandatory|[SetValueWhenNull=false]
    COD_STATUS=Xml|String|nullable
    DESC_STATUS=Xml|String|nullable|[Catalogue=COD_STATUS:FHIR401_EVENTSTATUS]
    COD_REASONSTATUS=Xml|String|nullable|[CopyWhenNull=DESC_REASONSTATUS]
    DESC_REASONSTATUS=Xml|String|nullable|[CopyWhenNull=COD_REASONSTATUS]
    COD_CATEGORY=Xml|String|nullable|[CopyWhenNull=DESC_CATEGORY]
    DESC_CATEGORY=Xml|String|nullable|[CopyWhenNull=COD_CATEGORY]
    COD_OUTCOME=Xml|String|nullable|[CopyWhenNull=DESC_OUTCOME]
    DESC_OUTCOME=Xml|String|nullable|[CopyWhenNull=COD_OUTCOME]
    ID_MAIN_PROCEDURE=Xml|String|nullable
    ID_SERVICEREQUEST=Xml|String|nullable
    DATE_UPDATE=Xml|Timestamp|mandatory
    #END_INSERT_TABLE
  externalResources_client_default_bdExtract_properties___procedureOnt.properties: |-
    #INIT_CONFIGURATION
    #dataSource=dataSourceDataStore
    dataSource=dataSourceIEngine
    #END_CONFIGURATION
    #INIT_QUERY_DATA_SOURCE
    COD_PROCEDURE=String
    DESC_PROCEDURE=String
    AGE_FROM=String
    AGE_TILL=String
    COD_GENDER=String
    DESC_GENDER=String
    OBSERVATIONS1=String
    OBSERVATIONS2=String
    #END_QUERY_DATA_SOURCE
    #INIT_INSERT_TABLE
    datastore/insertDTS_ONT_PROCEDURE.sql
    ProcessResult: DTS_ONT_PROCEDURE
    COD_PROCEDURE=String|mandatory
    DESC_PROCEDURE=String|nullable
    AGE_FROM=String|nullable
    AGE_TILL=String|nullable
    COD_GENDER=String|nullable
    DESC_GENDER=String|nullable
    OBSERVATIONS1=String|nullable
    OBSERVATIONS2=String|nullable
    #END_INSERT_TABLE
  externalResources_client_default_bdExtract_properties___process.properties: |-
    #INIT_CONFIGURATION
    #dataSource=dataSourceDataStore
    dataSource=dataSourceIEngine
    #END_CONFIGURATION
    #INIT_QUERY_DATA_SOURCE
    KEY_COD_CAREPLAN=String
    CLB_CAREPLAN=Xml|CarePlan|CarePlan
    CLB_PATIENT=Xml|Patient|Patient
    CLB_ENCOUNTER=Xml|Encounter|Encounter
    CLB_LOCATION=Xml|Location|Location
    CLB_SERVICE=Xml|Organization|Service
    CLB_EPISODEOFCARE=Xml|EpisodeOfCare|EpisodeOfCare
    CLB_ORGANIZATION=Xml|Organization|Organization
    CLB_PERFORMER=Xml|Practitioner|Performer
    CLB_PRACTITIONER_START=Xml|Practitioner|PractitionerStart
    CLB_ORGANIZATION_START=Xml|Organization|OrganizationStart
    CLB_PRACTITIONER_END=Xml|Practitioner|PractitionerEnd
    CLB_ORGANIZATION_END=Xml|Organization|OrganizationEnd
    #END_QUERY_DATA_SOURCE
    #INIT_XML_DATA
    ID_PROCESS=CarePlan|String|/CarePlan/id/@value|true
    #ID_PATIENT=Patient|String|/Patient/id/@value|true
    COD_PATIENT=Patient|String|/Patient/id/@value|true
    DATE_CREATED=CarePlan|String|/CarePlan/created/@value|true|yyyy-MM-dd'T'HH:mm:ssXXX
    ID_ENCOUNTER=Encounter|String|/Encounter/id/@value|true
    COD_LOCATION=Location|String|/Location/id/@value|true
    DESC_LOCATION=Location|String|/Location/name/@value|true
    COD_CARELINE=Encounter|String|/Encounter/class/code/@value|true
    DESC_CARELINE=Encounter|String|/Encounter/class/display/@value|true
    COD_ORGANIZATION=Service|String|/Organization/id/@value|true
    DESC_ORGANIZATION=Service|String|/Organization/name/@value|true
    COD_ORGANIZATION2=Organization|String|/Organization/id/@value|true
    DESC_ORGANIZATION2=Organization|String|/Organization/name/@value|true
    COD_ORGANIZATION_START=OrganizationStart|String|/Organization/id/@value|true
    DESC_ORGANIZATION_START=OrganizationStart|String|/Organization/name/@value|true
    COD_PRACTITIONER_START=PractitionerStart|String|/Practitioner/id/@value|true
    PRACTITIONER_FULLNAME_START=PractitionerStart|String|/Practitioner/name/text/@value|true
    DATE_START=CarePlan|String|/CarePlan/period/start/@value|true|yyyy-MM-dd'T'HH:mm:ssXXX
    COD_ORGANIZATION_END=OrganizationEnd|String|/Organization/id/@value|true
    DESC_ORGANIZATION_END=OrganizationEnd|String|/Organization/name/@value|true
    COD_PRACTITIONER_END=PractitionerEnd|String|/Practitioner/id/@value|true
    PRACTITIONER_FULLNAME_END=PractitionerEnd|String|/Practitioner/name/text/@value|true
    DATE_END=CarePlan|String|/CarePlan/period/end/@value|true|yyyy-MM-dd'T'HH:mm:ssXXX
    TITLE=CarePlan|String|/CarePlan/title/@value|true
    COD_STATUS=CarePlan|String|/CarePlan/status/@value|true
    COD_INTENT=CarePlan|String|/CarePlan/intent/@value|true
    FLG_EXTERNAL=CarePlan|String|/CarePlan/meta/tag/system[@value="module"]/../code[@value="ohbpm"]/../code/@value|true
    DATE_UPDATE=CarePlan|String|/CarePlan/meta/lastUpdated/@value|true|yyyy-MM-dd'T'HH:mm:ss.SSSXXX
    #END_XML_DATA
    #INIT_INSERT_TABLE
    datastore/insertDTS_CLI_PROCESS.sql
    ProcessResult: DTS_CLI_PROCESS
    ID_PROCESS=Xml|String|mandatory
    #ID_PATIENT=Xml|String|nullable
    COD_PATIENT=Xml|String|nullable
    DATE_CREATED=Xml|Timestamp|mandatory|[CopyWhenNull=DATE_UPDATE]
    DATE_CREATED_LTMZ=Xml|Timestamp|mandatory|[CopyFrom=DATE_CREATED]
    ID_ENCOUNTER=Xml|String|nullable
    COD_CARELINE=Xml|String|nullable
    DESC_CARELINE=Xml|String|nullable|[CopyWhenNull=COD_CARELINE]
    COD_ORGANIZATION=Xml|String|nullable
    DESC_ORGANIZATION=Xml|String|nullable
    COD_ORGANIZATION2=Xml|String|nullable
    DESC_ORGANIZATION2=Xml|String|nullable
    COD_LOCATION=Xml|String|nullable
    DESC_LOCATION=Xml|String|nullable
    COD_ORGANIZATION_START=Xml|String|nullable
    DESC_ORGANIZATION_START=Xml|String|nullable
    COD_PRACTITIONER_START=Xml|String|nullable
    PRACTITIONER_FULLNAME_START=Xml|String|nullable
    DATE_START=Xml|Timestamp|nullable
    DATE_START_LTMZ=Xml|Timestamp|nullable|[CopyFrom=DATE_START]
    COD_ORGANIZATION_END=Xml|String|nullable
    DESC_ORGANIZATION_END=Xml|String|nullable
    COD_PRACTITIONER_END=Xml|String|nullable
    PRACTITIONER_FULLNAME_END=Xml|String|nullable
    DATE_END=Xml|Timestamp|nullable
    DATE_END_LTMZ=Xml|Timestamp|nullable|[CopyFrom=DATE_END]
    TITLE=Xml|String|nullable
    COD_STATUS=Xml|String|mandatory
    DESC_STATUS=Xml|String|nullable|[Catalogue=COD_STATUS:FHIR401_REQUESTSTATUS]
    COD_INTENT=Xml|String|nullable
    DESC_INTENT=Xml|String|nullable|[Catalogue=COD_INTENT:FHIR401_CAREPLANINTENT]
    FLG_EXTERNAL=Xml|Boolean|mandatory|[SetValueWhenNull=false]
    DATE_UPDATE=Xml|Timestamp|mandatory
    #END_INSERT_TABLE
  externalResources_client_default_bdExtract_properties___questResponse.properties: |-
    #INIT_CONFIGURATION
    #dataSource=dataSourceDataStore
    dataSource=dataSourceIEngine
    #END_CONFIGURATION
    #INIT_QUERY_DATA_SOURCE
    ID_QUESTRESPONSE=String
    ID_TASK=String
    ID_CAREPLAN=String
    COD_PATIENT=String
    COD_STATUS=String
    ID_ENCOUNTER=String
    DATE_RESPONSED=Timestamp
    DATE_RESPONSED_LTMZ=Timestamp
    DATE_UPDATE=Timestamp
    #END_QUERY_DATA_SOURCE
    #INIT_INSERT_TABLE
    datastore/insertDTS_CLI_QUESTRESPONSE.sql
    ProcessResult: DTS_CLI_QUESTRESPONSE
    ID_QUESTRESPONSE=String|mandatory
    ID_TASK=String|nullable
    ID_CAREPLAN=String|nullable
    #ID_PATIENT=String|nullable
    COD_PATIENT=String|nullable
    COD_STATUS=String|mandatory
    DESC_STATUS=String|nullable|[Catalogue=COD_STATUS:FHIR401_QUESTRESPONSESTATUS]	
    ID_ENCOUNTER=String|nullable
    DATE_RESPONSED=Timestamp|nullable
    DATE_RESPONSED_LTMZ=Timestamp|nullable
    DATE_UPDATE=Timestamp|mandatory
    #END_INSERT_TABLE
  externalResources_client_default_bdExtract_properties___report.properties: |-
    #INIT_CONFIGURATION
    #dataSource=dataSourceDataStore
    dataSource=dataSourceIEngine
    #END_CONFIGURATION
    #INIT_QUERY_DATA_SOURCE
    KEY_COD_DOCUMENTREFERENCE=String
    CLB_DOCUMENTREFERENCE=Xml|DocumentReference|DocumentReference
    CLB_AUTHOR=Xml|Practitioner|Practitioner
    CLB_PATIENT=Xml|Patient|Patient
    CLB_ENCOUNTER=Xml|Encounter|Encounter
    CLB_EPISODEOFCARE_E=Xml|EpisodeOfCare|EpisodeOfCareE
    CLB_EPISODEOFCARE=Xml|EpisodeOfCare|EpisodeOfCare
    CLB_LOCATION=Xml|Location|Location
    CLB_SERVICE=Xml|Organization|Service
    #END_QUERY_DATA_SOURCE
    #INIT_XML_DATA
    ID_REPORT=DocumentReference|String|/DocumentReference/id/@value|true
    DESCRIPTION=DocumentReference|String|/DocumentReference/description/@value|true
    COD_STATUS=DocumentReference|String|/DocumentReference/status/@value|true
    COD_DOCSTATUS=DocumentReference|String|/DocumentReference/docStatus/@value|true
    COD_CATEGORY=DocumentReference|String|/DocumentReference/category/coding/code/@value|true
    DESC_CATEGORY=DocumentReference|String|/DocumentReference/category/coding/display/@value|true
    COD_TYPE=DocumentReference|String|/DocumentReference/type/coding/code/@value|true
    DESC_TYPE=DocumentReference|String|/DocumentReference/type/coding/display/@value|true
    COD_AUTHOR=Practitioner|String|/Practitioner/id/@value|true
    AUTHOR_FULLNAME=Practitioner|String|/Practitioner/name/text/@value|true
    DATE_CREATION=DocumentReference|String|/DocumentReference/date/@value|true|yyyy-MM-dd'T'HH:mm:ss.SSSXXX
    DATE_CREATION_LTMZ=DocumentReference|String|/DocumentReference/date/@value|true|yyyy-MM-dd'T'HH:mm:ss.SSSXXX
    ID_EPISODEOFCARE=EpisodeOfCare|String|/EpisodeOfCare/id/@value|true
    ID_EPISODEOFCARE_E=EpisodeOfCareE|String|/EpisodeOfCare/id/@value|true
    ID_ENCOUNTER=Encounter|String|/Encounter/id/@value|true
    COD_CARELINE=Encounter|String|/Encounter/class/code/@value|true
    DESC_CARELINE=Encounter|String|/Encounter/class/display/@value|true
    COD_ORGANIZATION=Service|String|/Organization/id/@value|true
    DESC_ORGANIZATION=Service|String|/Organization/name/@value|true
    COD_LOCATION=Location|String|/Location/id/@value|true
    DESC_LOCATION=Location|String|/Location/name/@value|true
    #ID_PATIENT=Patient|String|/Patient/id/@value|true
    COD_PATIENT=Patient|String|/Patient/id/@value|true
    DATE_UPDATE=DocumentReference|String|/DocumentReference/meta/lastUpdated/@value|true|yyyy-MM-dd'T'HH:mm:ss.SSSXXX
    REPORT_STRING_1=DocumentReference|String|/DocumentReference/meta/source/@value|true
    REPORT_STRING_2=DocumentReference|String|/DocumentReference/context/facilityType/coding/code/@value|true
    #END_XML_DATA
    #INIT_INSERT_TABLE
    datastore/insertDTS_CLI_REPORT.sql
    ReportResult: DTS_CLI_REPORT
    ID_REPORT=Xml|String|mandatory
    DESCRIPTION=Xml|String|nullable
    COD_STATUS=Xml|String|nullable
    DESC_STATUS=Xml|String|nullable|[Catalogue=COD_STATUS:FHIR401_DOCUMENTREFERENCESTATUS]
    COD_DOCSTATUS=Xml|String|nullable|[CopyWhenNull=DESC_DOCSTATUS]
    DESC_DOCSTATUS=Xml|String|nullable|[Catalogue=COD_STATUS:FHIR401_COMPOSITIONSTATUS]|[CopyWhenNull=COD_DOCSTATUS]
    COD_CATEGORY=Xml|String|nullable|[CopyWhenNull=DESC_CATEGORY]
    DESC_CATEGORY=Xml|String|nullable|[CopyWhenNull=COD_CATEGORY]
    COD_TYPE=Xml|String|nullable|[CopyWhenNull=DESC_TYPE]
    DESC_TYPE=Xml|String|nullable|[CopyWhenNull=COD_TYPE]
    COD_AUTHOR=Xml|String|nullable
    AUTHOR_FULLNAME=Xml|String|nullable
    DATE_CREATION=Xml|Timestamp|mandatory|[CopyWhenNull=DATE_UPDATE]
    DATE_CREATION_LTMZ=Xml|Timestamp|mandatory|[CopyFrom=DATE_CREATION]
    ID_EPISODEOFCARE=Xml|String|nullable|[CopyWhenNull=ID_EPISODEOFCARE_E]
    ID_ENCOUNTER=Xml|String|nullable
    COD_CARELINE=Xml|String|nullable
    DESC_CARELINE=Xml|String|nullable|[CopyWhenNull=COD_CARELINE]
    COD_ORGANIZATION=Xml|String|nullable
    DESC_ORGANIZATION=Xml|String|nullable
    COD_LOCATION=Xml|String|nullable
    DESC_LOCATION=Xml|String|nullable
    #ID_PATIENT=Xml|String|nullable
    COD_PATIENT=Xml|String|nullable
    DATE_UPDATE=Xml|Timestamp|mandatory
    REPORT_STRING_1=Xml|String|nullable
    REPORT_STRING_2=Xml|String|nullable|[IdFromReference=REPORT_STRING_2]
    #END_INSERT_TABLE
  externalResources_client_default_bdExtract_properties___serviceRequest.properties: |-
    #INIT_CONFIGURATION
    #dataSource=dataSourceDataStore
    dataSource=dataSourceIEngine
    #END_CONFIGURATION
    #INIT_QUERY_DATA_SOURCE
    KEY_COD_SERVICEREQUEST=String
    CLB_SERVICEREQUEST=Xml|ServiceRequest|ServiceRequest
    CLB_PATIENT=Xml|Patient|Patient
    CLB_REQUESTER=Xml|Practitioner|Requester
    CLB_PERFORMER=Xml|Practitioner|Performer
    CLB_ENCOUNTER=Xml|Encounter|Encounter
    CLB_LOCATION=Xml|Location|Location
    CLB_SERVICE=Xml|Organization|Service
    CLB_EPISODEOFCARE=Xml|EpisodeOfCare|EpisodeOfCare
    CLB_ORGANIZATION=Xml|Organization|Organization
    CLB_SCHEDULED_ENCOUNTER=Xml|Encounter|ScheduledEncounter
    CLB_SCHEDULED_LOCATION=Xml|Location|ScheduledLocation
    CLB_SCHEDULED_SERVICE=Xml|Organization|ScheduledService
    CLB_SCHEDULED_EPISODEOFCARE=Xml|EpisodeOfCare|ScheduledEpisodeOfCare
    CLB_SCHEDULED_ORGANIZATION=Xml|Organization|ScheduledOrganization
    #END_QUERY_DATA_SOURCE
    #INIT_XML_DATA
    ID_SERVICEREQUEST=ServiceRequest|String|/ServiceRequest/id/@value|true
    #ID_PATIENT=Patient|String|/Patient/id/@value|true
    COD_PATIENT=Patient|String|/Patient/id/@value|true
    COD_PROCEDURE=ServiceRequest|String|/ServiceRequest/code/coding/code/@value|true
    DESC_PROCEDURE=ServiceRequest|String|/ServiceRequest/code/text/@value|true
    DATE_AUTHORED=ServiceRequest|String|/ServiceRequest/authoredOn/@value|true|yyyy-MM-dd'T'HH:mm:ssXXX
    COD_REQUESTER=Requester|String|/Practitioner/id/@value|true
    REQUESTER_FULLNAME=Requester|String|/Practitioner/name/text/@value|true
    DATE_OCURRENCE=ServiceRequest|String|/ServiceRequest/occurrenceDateTime/@value|true|yyyy-MM-dd'T'HH:mm:ssXXX
    COD_PERFORMER=Performer|String|/Practitioner/id/@value|true
    PERFORMER_FULLNAME=Performer|String|/Practitioner/name/text/@value|true
    DATE_SCHEDULED=ServiceRequest|String|/ServiceRequest/extension[@url='http://hn.indra.es/fhir/StructureDefinition/ServiceRequest/scheduled-date']/valueDateTime/@value|true|yyyy-MM-dd'T'HH:mm:ssXXX
    ID_ENCOUNTER=Encounter|String|/Encounter/id/@value|true
    COD_LOCATION=Location|String|/Location/id/@value|true
    DESC_LOCATION=Location|String|/Location/name/@value|true
    COD_CARELINE=Encounter|String|/Encounter/class/code/@value|true
    DESC_CARELINE=Encounter|String|/Encounter/class/display/@value|true
    COD_ORGANIZATION=Service|String|/Organization/id/@value|true
    DESC_ORGANIZATION=Service|String|/Organization/name/@value|true
    COD_ORGANIZATION2=Organization|String|/Organization/id/@value|true
    DESC_ORGANIZATION2=Organization|String|/Organization/name/@value|true
    ID_SCHEDULED_ENCOUNTER=ScheduledEncounter|String|/Encounter/id/@value|true
    COD_SCHEDULED_LOCATION=ScheduledLocation|String|/Location/id/@value|true
    DESC_SCHEDULED_LOCATION=ScheduledLocation|String|/Location/name/@value|true
    COD_SCHEDULED_CARELINE=ScheduledEncounter|String|/Encounter/class/code/@value|true
    DESC_SCHEDULED_CARELINE=ScheduledEncounter|String|/Encounter/class/display/@value|true
    COD_SCHEDULED_ORGANIZATION=ScheduledService|String|/Organization/id/@value|true
    DESC_SCHEDULED_ORGANIZATION=ScheduledService|String|/Organization/name/@value|true
    COD_SCHEDULED_ORGANIZATION2=ScheduledOrganization|String|/Organization/id/@value|true
    DESC_SCHEDULED_ORGANIZATION2=ScheduledOrganization|String|/Organization/name/@value|true
    COD_INTENT=ServiceRequest|String|/ServiceRequest/intent/@value|true
    COD_STATUS=ServiceRequest|String|/ServiceRequest/status/@value|true
    COD_MANAGESTATUS=ServiceRequest|String|/ServiceRequest/extension[@url='http://hn.indra.es/fhir/StructureDefinition/ServiceRequest/managment-status']/valueCodeableConcept/coding/code/@value|true
    DESC_MANAGESTATUS=ServiceRequest|String|/ServiceRequest/extension[@url='http://hn.indra.es/fhir/StructureDefinition/ServiceRequest/managment-status']/valueCodeableConcept/coding/display/@value|true
    COD_CATEGORY=ServiceRequest|String|/ServiceRequest/category/coding/code/@value|true
    DESC_CATEGORY=ServiceRequest|String|/ServiceRequest/category/coding/display/@value|true
    COD_PRIORITY=ServiceRequest|String|/ServiceRequest/priority/@value|true
    FLG_EXTERNAL=ServiceRequest|String|/ServiceRequest/extension[@url='http://hn.indra.es/fhir/StructureDefinition/ServiceRequest/external']/valueString/@value|true
    DATE_UPDATE=ServiceRequest|String|/ServiceRequest/meta/lastUpdated/@value|true|yyyy-MM-dd'T'HH:mm:ss.SSSXXX
    #END_XML_DATA
    #INIT_INSERT_TABLE
    datastore/insertDTS_CLI_SERVICEREQUEST.sql
    ServiceRequestResult: DTS_CLI_SERVICEREQUEST
    ID_SERVICEREQUEST=Xml|String|mandatory
    #ID_PATIENT=Xml|String|nullable
    COD_PATIENT=Xml|String|nullable
    COD_PROCEDURE=Xml|String|nullable|[CopyWhenNull=DESC_PROCEDURE]
    DESC_PROCEDURE=Xml|String|nullable|[CopyWhenNull=COD_PROCEDURE]
    DATE_AUTHORED=Xml|Timestamp|mandatory|[CopyWhenNull=DATE_UPDATE]
    DATE_AUTHORED_LTMZ=Xml|Timestamp|nullable|[CopyFrom=DATE_AUTHORED]
    COD_REQUESTER=Xml|String|nullable
    REQUESTER_FULLNAME=Xml|String|nullable
    DATE_OCURRENCE=Xml|String|nullable
    DATE_OCURRENCE_LTMZ=Xml|String|nullable|[CopyFrom=DATE_OCURRENCE]
    COD_PERFORMER=Xml|String|nullable
    PERFORMER_FULLNAME=Xml|String|nullable
    DATE_SCHEDULED=Xml|Timestamp|nullable
    DATE_SCHEDULED_LTMZ=Xml|Timestamp|nullable|[CopyFrom=DATE_SCHEDULED]
    ID_ENCOUNTER=Xml|String|nullable
    COD_LOCATION=Xml|String|nullable
    DESC_LOCATION=Xml|String|nullable
    COD_CARELINE=Xml|String|nullable
    DESC_CARELINE=Xml|String|nullable|[CopyWhenNull=COD_CARELINE]
    COD_ORGANIZATION=Xml|String|nullable
    DESC_ORGANIZATION=Xml|String|nullable
    COD_ORGANIZATION2=Xml|String|nullable
    DESC_ORGANIZATION2=Xml|String|nullable
    ID_SCHEDULED_ENCOUNTER=Xml|String|nullable
    COD_SCHEDULED_LOCATION=Xml|String|nullable
    DESC_SCHEDULED_LOCATION=Xml|String|nullable
    COD_SCHEDULED_CARELINE=Xml|String|nullable
    DESC_SCHEDULED_CARELINE=Xml|String|nullable
    COD_SCHEDULED_ORGANIZATION=Xml|String|nullable
    DESC_SCHEDULED_ORGANIZATION=Xml|String|nullable
    COD_SCHEDULED_ORGANIZATION2=Xml|String|nullable
    DESC_SCHEDULED_ORGANIZATION2=Xml|String|nullable
    COD_INTENT=Xml|String|nullable
    DESC_INTENT=Xml|String|nullable|[Catalogue=COD_STATUS:FHIR401_REQUESTINTENT]
    COD_STATUS=Xml|String|nullable
    DESC_STATUS=Xml|String|nullable|[Catalogue=COD_STATUS:FHIR401_REQUESTSTATUS]
    COD_MANAGESTATUS=Xml|String|nullable|[CopyWhenNull=DESC_MANAGESTATUS]
    DESC_MANAGESTATUS=Xml|String|nullable|[CopyWhenNull=COD_MANAGESTATUS]
    COD_CATEGORY=Xml|String|nullable|[CopyWhenNull=DESC_CATEGORY]
    DESC_CATEGORY=Xml|String|nullable|[CopyWhenNull=COD_CATEGORY]
    COD_PRIORITY=Xml|String|nullable
    DESC_PRIORITY=Xml|String|nullable|[Catalogue=COD_STATUS:FHIR401_REQUESTPRIORITY]
    FLG_EXTERNAL=Xml|Boolean|mandatory|[SetValueWhenNull=false]
    DATE_UPDATE=Xml|Timestamp|mandatory
    #END_INSERT_TABLE
  externalResources_client_default_bdExtract_properties___serviceRequestCondition.properties: |-
    #INIT_CONFIGURATION
    #dataSource=dataSourceDataStore
    dataSource=dataSourceIEngine
    #END_CONFIGURATION
    #INIT_QUERY_DATA_SOURCE
    KEY_COD_SERVICEREQUEST=String
    KEY_COD_CONDITION=String
    #END_QUERY_DATA_SOURCE
    #INIT_INSERT_TABLE
    datastore/insertDTS_CLI_SERVICEREQUEST_CONDITION.sql
    ProcessResult: DTS_CLI_SERVICEREQUEST_CONDITION
    KEY_COD_SERVICEREQUEST=String|mandatory
    KEY_COD_CONDITION=String|mandatory
    #END_INSERT_TABLE
  externalResources_client_default_bdExtract_properties___serviceRequestEvent.properties: |-
    #INIT_CONFIGURATION
    #dataSource=dataSourceDataStore
    dataSource=dataSourceIEngine
    #END_CONFIGURATION
    #INIT_QUERY_DATA_SOURCE
    ID_SERVICEREQUEST=String
    ID_EVENT_ORDER=String
    CLB_PATIENT=Xml|Patient|Patient
    CLB_EVENT=Xml|Bundle|Event
    #CLB_PERFORMER=Xml|Practitioner|Performer
    COD_EVENT_PERFORMER=String
    EVENT_PERFORMER_FULLNAME=String
    CLB_CENTRO_1=Xml|Organization|Organization1
    CLB_CENTRO_2=Xml|Organization|Organization2
    N_TIME=String 
    #END_QUERY_DATA_SOURCE
    #INIT_XML_DATA
    #ID_PATIENT=Patient|String|/Patient/id/@value|true
    COD_PATIENT=Patient|String|/Patient/id/@value|true
    PATIENT_COD_GENDER=Patient|String|/Patient/gender/@value|true
    #PATIENT_DESC_GENDER=Patient|String|/Patient/gender/@value|true
    PATIENT_BIRTH_DATE=Patient|String|/Patient/birthDate/@value|true|yyyy-MM-dd
    DATE_AUTHORED=Event|String|/Bundle/entry/resource/ServiceRequest/authoredOn/@value|true|yyyy-MM-dd'T'HH:mm:ssX
    DATE_EVENT=Event|String|/Bundle/meta/lastUpdated/@value|true|yyyy-MM-dd'T'HH:mm:ss.SSSXXX
    DATE_SCHEDULED=Event|String|/Bundle/entry/resource/Appointment/start/@value|true|yyyy-MM-dd'T'HH:mm:ssX
    #COD_PERFORMER=Performer|String|/Practitioner/id/@value|true
    #PERFORMER_NAME=Performer|String|/Practitioner/name/given/@value|true
    #PERFORMER_FAM_NAME=Performer|String|/Practitioner/name/family/@value|true
    COD_ORGANIZATION=Organization1|String|/Organization/identifier/value/@value|true
    DESC_ORGANIZATION=Organization1|String|/Organization/name/@value|true
    COD_SCHEDULED_ORGANIZATION=Organization2|String|/Organization/identifier/value/@value|true
    DESC_SCHEDULED_ORGANIZATION=Organization2|String|/Organization/name/@value|true
    COD_EVENT_TYPE=Event|String|/Bundle/entry/resource/MessageHeader/eventCoding/code/@value|true
    COD_PRIORITY=Event|String|/Bundle/entry/resource/ServiceRequest/priority/@value|true
    COD_SPECIALITY=Event|String|/Bundle/entry/resource/ServiceRequest/extension[@url="https://interoperabilidad.minsal.cl/fhir/ig/tei/StructureDefinition/EspecialidadMedicaDestinoCodigo"]/valueCodeableConcept/coding/code/@value|true
    DESC_SPECIALITY=Event|String|/Bundle/entry/resource/ServiceRequest/extension[@url="https://interoperabilidad.minsal.cl/fhir/ig/tei/StructureDefinition/EspecialidadMedicaDestinoCodigo"]/valueCodeableConcept/coding/display/@value|true
    COD_APPLICABLE=Event|String|/Bundle/entry/resource/ServiceRequest/extension[@url="https://interoperabilidad.minsal.cl/fhir/ig/tei/StructureDefinition/PertinenciaInterconsulta"]/valueCodeableConcept/coding/code/@value|true
    COD_CLOSURE_REASON=Event|String|/Bundle/entry/resource/ServiceRequest/extension[@url="http://minsal.cl/listaespera/StructureDefinition/MotivoCierreInterconsulta"]/valueCodeableConcept/coding/code/@value|true
    #END_XML_DATA
    #INIT_INSERT_TABLE
    datastore/insertDTS_CLI_SERVICEREQUEST_EVENT.sql
    ServiceRequestResult: DTS_CLI_SERVICEREQUEST_EVENT
    ID_SERVICEREQUEST=String|mandatory
    #ID_PATIENT=Xml|String|nullable
    COD_PATIENT=Xml|String|nullable
    PATIENT_COD_GENDER=Xml|String|nullable
    PATIENT_DESC_GENDER=Xml|String|nullable|[Catalogue=PATIENT_COD_GENDER:FHIR401_ADMINISTRATIVEGENDER]
    PATIENT_AGE_EVENT=Xml|Integer|nullable|[DateSub=DATE_EVENT:PATIENT_BIRTH_DATE]
    DATE_AUTHORED=Xml|Timestamp|nullable
    DATE_AUTHORED_LTMZ=Xml|Timestamp|nullable|[CopyFrom=DATE_AUTHORED]
    DATE_EVENT=Xml|Timestamp|mandatory
    DATE_EVENT_LTMZ=Xml|Timestamp|mandatory|[CopyFrom=DATE_EVENT]
    ID_EVENT_ORDER=String|mandatory
    COD_EVENT_PERFORMER=String|nullable
    EVENT_PERFORMER_FULLNAME=String|nullable
    DATE_SCHEDULED=Xml|Timestamp|nullable
    COD_ORGANIZATION=Xml|String|nullable
    DESC_ORGANIZATION=Xml|String|nullable|[CopyWhenNull=COD_ORGANIZATION]
    COD_SCHEDULED_ORGANIZATION=Xml|String|nullable
    DESC_SCHEDULED_ORGANIZATION=Xml|String|nullable|[CopyWhenNull=COD_SCHEDULED_ORGANIZATION]
    COD_EVENT_TYPE=Xml|String|nullable
    DESC_EVENT_TYPE=Xml|String|nullable|[CopyFrom=COD_EVENT_TYPE]
    COD_PRIORITY=Xml|String|nullable
    DESC_PRIORITY=Xml|String|nullable|[Catalogue=COD_STATUS:FHIR401_REQUESTPRIORITY]
    COD_SPECIALITY=Xml|String|nullable
    #DESC_SPECIALITY=Xml|String|nullable
    COD_APPLICABLE=Xml|String|nullable
    COD_CLOSURE_REASON=Xml|String|nullable
    N_TIME=String|nullable
    #END_INSERT_TABLE
  externalResources_client_default_bdExtract_properties___subtypeEvent.properties: |-
    #INIT_CONFIGURATION
    #dataSource=dataSourceDataStore
    dataSource=dataSourceIEngine
    #END_CONFIGURATION
    #INIT_QUERY_DATA_SOURCE
    COD_SUBTYPE_EVENT=String
    DESC_SUBTYPE_EVENT=String
    #END_QUERY_DATA_SOURCE
    #INIT_INSERT_TABLE
    datastore/insertSubtypeEvent.sql
    SubtypeEventResult: DTS_ONT_SUBTYPE_EVENT
    COD_SUBTYPE_EVENT=String|mandatory
    DESC_SUBTYPE_EVENT=String|mandatory
    #END_INSERT_TABLE
  externalResources_client_default_bdExtract_properties___task.properties: |-
    #INIT_CONFIGURATION
    #dataSource=dataSourceDataStore
    dataSource=dataSourceIEngine
    #END_CONFIGURATION
    #INIT_QUERY_DATA_SOURCE
    ID_TASK=String
    ID_CAREPLAN=String
    #ID_PATIENT=String
    COD_PATIENT=String
    PATIENT_COD_GENDER=String
    COD_STATUS=String
    COD_INTENT=String 
    COD_PRIORITY=String
    ID_ENCOUNTER=String 
    COD_CARELINE=String
    DESC_CARELINE=String
    DATE_CREATED=Timestamp
    DATE_CREATED_LTMZ=Timestamp
    DATE_START=Timestamp
    DATE_START_LTMZ=Timestamp
    DATE_END=Timestamp
    DATE_END_LTMZ=Timestamp
    COD_ORGANIZATION_REQUESTER=String
    DESC_ORGANIZATION_REQUESTER=String
    COD_PRACTITIONER_REQUESTER=String
    PRACTITIONER_REQUESTER_FULLNAME=String
    COD_ORGANIZATION_PERFORMER=String
    DESC_ORGANIZATION_PERFORMER=String
    COD_PRACTITIONER_PERFORMER=String
    PRACTITIONER_PERFORMER_FULLNAME=String
    DATE_UPDATE=Timestamp
    #END_QUERY_DATA_SOURCE
    #INIT_INSERT_TABLE
    datastore/insertDTS_CLI_TASK.sql
    TaskResult: DTS_CLI_TASK-STA
    ID_TASK=String|mandatory
    ID_CAREPLAN=String|nullable
    #ID_PATIENT=String|nullable
    COD_PATIENT=String|nullable
    PATIENT_COD_GENDER=String|nullable
    PATIENT_DESC_GENDER=String|nullable|[Catalogue=PATIENT_COD_GENDER:FHIR401_ADMINISTRATIVEGENDER]
    COD_STATUS=String|mandatory
    DESC_STATUS=String|nullable|[Catalogue=COD_STATUS:FHIR401_TASKSTATUS]
    COD_INTENT=String|mandatory
    DESC_INTENT=String|nullable|[Catalogue=COD_INTENT:FHIR401_TASKINTENT]
    COD_PRIORITY=String|nullable
    DESC_PRIORITY=String|nullable|[Catalogue=COD_PRIORITY:FHIR401_REQUESTPRIORITY]
    ID_ENCOUNTER=String|nullable
    COD_CARELINE=String|nullable
    DESC_CARELINE=String|nullable
    DATE_CREATED=Timestamp|nullable
    DATE_CREATED_LTMZ=Timestamp|nullable
    DATE_START=Timestamp|nullable
    DATE_START_LTMZ=Timestamp|nullable
    DATE_END=Timestamp|nullable
    DATE_END_LTMZ=Timestamp|nullable
    COD_ORGANIZATION_REQUESTER=String|nullable
    DESC_ORGANIZATION_REQUESTER=String|nullable
    COD_PRACTITIONER_REQUESTER=String|nullable
    PRACTITIONER_REQUESTER_FULLNAME=String|nullable
    COD_ORGANIZATION_PERFORMER=String|nullable
    DESC_ORGANIZATION_PERFORMER=String|nullable
    COD_PRACTITIONER_PERFORMER=String|nullable
    PRACTITIONER_PERFORMER_FULLNAME=String|nullable
    DATE_UPDATE=Timestamp|mandatory
    #END_INSERT_TABLE
  externalResources_client_default_bdExtract_properties___typeEvent.properties: |-
    #INIT_CONFIGURATION
    #dataSource=dataSourceDataStore
    dataSource=dataSourceIEngine
    #END_CONFIGURATION
    #INIT_QUERY_DATA_SOURCE
    COD_TYPE_EVENT=String
    DESC_TYPE_EVENT=String
    #END_QUERY_DATA_SOURCE
    #INIT_INSERT_TABLE
    datastore/insertTypeEvent.sql
    TypeEventResult: DTS_ONT_TYPE_EVENT
    COD_TYPE_EVENT=String|mandatory
    DESC_TYPE_EVENT=String|mandatory
    #END_INSERT_TABLE
  externalResources_client_default_bdExtract_properties___typeVia.properties: |-
    #INIT_CONFIGURATION
    #dataSource=dataSourceDataStore
    dataSource=dataSourceIEngine
    #END_CONFIGURATION
    #INIT_QUERY_DATA_SOURCE
    ID_TYPE_VIA=String
    COD_TYPE_VIA=String
    DESC_TYPE_VIA=String
    DESC_EXTENDED_TYPE_VIA=String
    #END_QUERY_DATA_SOURCE
    #INIT_INSERT_TABLE
    datastore/insertDTS_ONT_TYPE_VIA.sql
    TypeViaResult: DTS_ONT_TYPE_VIA
    ID_TYPE_VIA=String|mandatory
    COD_TYPE_VIA=String|mandatory
    DESC_TYPE_VIA=String|mandatory
    DESC_EXTENDED_TYPE_VIA=String|nullable
    #END_INSERT_TABLE
  externalResources_client_default_bdExtract_properties___vitalsign.properties: |-
    #INIT_CONFIGURATION
    #dataSource=dataSourceDataStore
    dataSource=dataSourceIEngine
    #END_CONFIGURATION
    #INIT_QUERY_DATA_SOURCE
    KEY_COD_VITALSIGN=String
    CLB_VITALSIGN=Xml|Observation|Observation
    CLB_ENCOUNTER=Xml|Encounter|Encounter
    CLB_LOCATION=Xml|Location|Location
    CLB_PATIENT=Xml|Patient|Patient
    #END_QUERY_DATA_SOURCE
    #INIT_XML_DATA
    ID_VITALSIGN=Observation|String|/Observation/id/@value|true
    #ID_PATIENT=Patient|String|/Patient/id/@value|true
    COD_PATIENT=Patient|String|/Patient/id/@value|true
    PATIENT_COD_GENDER=Patient|String|/Patient/gender/@value|true
    DATE_EFFECTIVE=Observation|String|/Observation/effectiveDateTime/@value|true|yyyy-MM-dd
    DATE_EFFECTIVE_LTMZ=Observation|String|/Observation/effectiveDateTime/@value|true|yyyy-MM-dd
    COD_VITALSIGN=Observation|String|/Observation/code/coding/code/@value|true
    DESC_VITALSIGN=Observation|String|/Observation/code/coding/display/@value|true
    VALUE_VITALSIGN=Observation|String|/Observation/valueQuantity/value/@value|true
    UNIT_VITALSIGN=Observation|String|/Observation/valueQuantity/unit/@value|true
    COD_INTERPRETATION=Observation|String|/Observation/interpretation/coding/code/@value|true
    DESC_INTERPRETATION=Observation|String|/Observation/interpretation/coding/display/@value|true
    ID_ENCOUNTER=Encounter|String|/Encounter/id/@value|true
    COD_LOCATION=Location|String|/Location/id/@value|true
    DESC_LOCATION=Location|String|/Location/name/@value|true
    DATE_UPDATE=Observation|String|/Observation/meta/lastUpdated/@value|true|yyyy-MM-dd'T'HH:mm:ss.SSSXXX
    PATIENT_BIRTHDATE=Patient|String|/Patient/birthDate/@value|true|yyyy-MM-dd
    #END_XML_DATA
    #INIT_INSERT_TABLE
    datastore/insertDTS_CLI_VITALSIGN.sql
    VitalSignResult: DTS_CLI_VITALSIGN
    ID_VITALSIGN=Xml|String|mandatory
    #ID_PATIENT=Xml|String|nullable
    COD_PATIENT=Xml|String|nullable
    PATIENT_COD_GENDER=Xml|String|nullable
    PATIENT_DESC_GENDER=Xml|String|nullable|[Catalogue=PATIENT_COD_GENDER:FHIR401_ADMINISTRATIVEGENDER]
    PATIENT_PERFORMATION_AGE=Xml|Integer|nullable|[DateSub=DATE_EFFECTIVE:PATIENT_BIRTHDATE]
    DATE_EFFECTIVE=Xml|Timestamp|mandatory|[CopyWhenNull=DATE_UPDATE]
    DATE_EFFECTIVE_LTMZ=Xml|Timestamp|mandatory|[CopyFrom=DATE_EFFECTIVE]
    COD_VITALSIGN=Xml|String|nullable|[CopyWhenNull=DESC_VITALSIGN]
    DESC_VITALSIGN=Xml|String|nullable|[CopyWhenNull=COD_VITALSIGN]
    VALUE_VITALSIGN=Xml|String|nullable
    UNIT_VITALSIGN=Xml|String|nullable
    COD_INTERPRETATION=Xml|String|nullable|[CopyWhenNull=DESC_INTERPRETATION]
    DESC_INTERPRETATION=Xml|String|nullable|[CopyWhenNull=COD_INTERPRETATION]
    ID_ENCOUNTER=Xml|String|nullable
    COD_LOCATION=Xml|String|nullable
    DESC_LOCATION=Xml|String|nullable
    DATE_UPDATE=Xml|Timestamp|mandatory
    #END_INSERT_TABLE
  externalResources_client_default_bdExtract_properties___workplaceOrganization.properties: |-
    #INIT_CONFIGURATION
    #dataSource=dataSourceDataStore
    dataSource=dataSourceIEngine
    #END_CONFIGURATION
    #INIT_QUERY_DATA_SOURCE
    ID_WORKPLACE=String 					
    COD_WORKPLACE=String 							
    FLG_ACTIVE=Integer 							
    COD_TYPE=String 							
    DESC_TYPE=String 							
    COD_SUBTYPE=String 							
    DESC_SUBTYPE=String 							
    COD_COVERAGE=String 						
    DESC_COVERAGE=String 							
    ID_ORGANIZATION1=String 							
    COD_ORGANIZATION1=String 					
    DESC_ORGANIZATION1=String 					
    ID_ORGANIZATION2=String 							
    COD_ORGANIZATION2=String 					
    DESC_ORGANIZATION2=String 					
    OPTIMUM_QUOTA=Integer 							
    MAX_QUOTA=Integer							
    CURRENT_QUOTA=Integer 
    DATE_CREATED=Timestamp 
    DATE_MODIF=Timestamp 
    DATE_ANULATION=Timestamp
    #END_QUERY_DATA_SOURCE
    #INIT_INSERT_TABLE
    datastore/insertDTS_AUT_WORKPLACE_ORGANIZATIONS.sql
    WorkplaceOrganization: DTS_AUT_WORKPLACE_ORGS
    ID_WORKPLACE=String|mandatory 					
    COD_WORKPLACE=String|mandatory 							
    FLG_ACTIVE=Boolean|mandatory 							
    COD_TYPE=String|nullable 							
    DESC_TYPE=String|nullable 							
    COD_SUBTYPE=String|nullable 							
    DESC_SUBTYPE=String|nullable 							
    COD_COVERAGE=String|nullable 						
    DESC_COVERAGE=String|nullable 							
    ID_ORGANIZATION1=String|nullable 							
    COD_ORGANIZATION1=String|nullable 					
    DESC_ORGANIZATION1=String|nullable 					
    ID_ORGANIZATION2=String|nullable 							
    COD_ORGANIZATION2=String|nullable 					
    DESC_ORGANIZATION2=String|nullable 					
    OPTIMUM_QUOTA=Integer|nullable 							
    MAX_QUOTA=Integer|nullable							
    CURRENT_QUOTA=Integer|nullable 
    DATE_CREATED=Timestamp|nullable 
    DATE_MODIF=Timestamp|nullable 
    DATE_ANULATION=Timestamp|nullable
    #END_INSERT_TABLE
    
    
  externalResources_client_default_bdExtract_sql_Oracle_catalogs___getCatalogs.sql: |-
    SELECT *  FROM CATALOGS
  externalResources_client_default_bdExtract_sql_Oracle_catalogs___queryCatalogOnlineValue.sql: |-
    SELECT * FROM "CATALOGS_VALUES" WHERE "originSystemCode" = ? and "originCode" = ?
  externalResources_client_default_bdExtract_sql_Oracle_catalogs___queryCatalogValues.sql: |-
    SELECT * FROM "CATALOGS_VALUES" WHERE "originSystemCode" = ?
  externalResources_client_default_bdExtract_sql_Oracle_hnATNA___queryATNA.sql: |-
    with
      jsonExists AS (
      select * from US_HNATNA.message_resources js
    	  where json_exists(js.message_json, '$.extension[*].valueCoding') 
      ),
      jsonExists2 AS (
      select * from US_HNATNA.message_resources js
    	  where json_exists(js.message_json, '$.agent[*]')
      ),
      tableExt AS (SELECT
            mrJS.id      AS ID,
            jt.url       AS URL,
            jt.system    AS SYSTEM,
            jt.code      AS CODE,
            jt.display   AS DISPLAY
        FROM
        	US_HNATNA.messages mJS,
            jsonExists mrJS,
            json_table(mrJS.message_json, '$.extension[*]' COLUMNS (url VARCHAR2(200) path '$.url' NULL ON ERROR, system VARCHAR2(200) path '$.valueCoding.system' NULL ON ERROR, code VARCHAR2(200) path '$.valueCoding.code' NULL ON ERROR, display VARCHAR2(200) path '$.valueCoding.display' NULL ON ERROR)) AS jt
        WHERE
            mJS.id = mrJS.fk_message_id
            and mJS.eventdatetime >= :#${header.processStartDate} and mJS.eventdatetime < :#${exchangeProperty.processEndDate}
            and jt.system IN (
                        'http://hn.indra.es/CareLine',
                        'http://hn.indra.es/Role',
                        'http://hn.indra.es/Profession',
                        'http://hn.indra.es/Unit',
                        'http://hn.indra.es/Application',
                        'http://hn.indra.es/Specialty'
                        )),
      tableAgent AS (SELECT
            mrJS.id      AS ID,
            jt.code      AS CODE,
            jt.login     AS LOGIN,
            jt.name      AS NAME,
            jt.network   AS NETWORK,
            jt.requestor AS REQUESTOR
        FROM
        	US_HNATNA.messages mJS,
            jsonExists2 mrJS,
            json_table(mrJS.message_json, '$.agent[*]' COLUMNS (code VARCHAR2(200) path '$.altId' NULL ON ERROR, login VARCHAR2(200) path '$.who.identifier.value' NULL ON ERROR, name VARCHAR2(200) path '$.name' NULL ON ERROR, network VARCHAR2(200) path '$.network.address' NULL ON ERROR, requestor VARCHAR2(200) path '$.requestor' NULL ON ERROR)) AS jt
        WHERE
            mJS.id = mrJS.fk_message_id
            and mJS.eventdatetime >= :#${header.processStartDate} and mJS.eventdatetime < :#${exchangeProperty.processEndDate}
            and jt.requestor = 'true'
            and jt.login IS NOT NULL),
      tableMessageContentTCP AS (SELECT  mJS.id as ID_AUDIT, xt.*
        FROM US_HNATNA.messages mJS,
                XMLTABLE('/AuditMessage'
                    PASSING XMLTYPE(asciistr(mJS.MESSAGECONTENT))
                    COLUMNS
                        COD_ROLE varchar(255) PATH '/AuditMessage/ParticipantObjectIdentification[@ParticipantObjectTypeCode="2"][@ParticipantObjectTypeCodeRole="12"][position()=1]/@ParticipantObjectID',
                        DESC_ROLE varchar(255) PATH '/AuditMessage/ParticipantObjectIdentification[@ParticipantObjectTypeCode="2"][@ParticipantObjectTypeCodeRole="12"][position()=1]/ParticipantObjectName',
                        COD_TYPE_EVENT varchar(255) PATH 'EventIdentification/EventID[position()=1]/@csd-code',
                        DESC_TYPE_EVENT varchar(255) PATH 'EventIdentification/EventID[position()=1]/@displayName',
                        COD_SUBTYPE_EVENT varchar(255) PATH 'EventIdentification/EventTypeCode[position()=1]/@csd-code',
                        DESC_SUBTYPE_EVENT varchar(255) PATH 'EventIdentification/EventTypeCode[position()=1]/@displayName',
                        LOGIN varchar(255) PATH '/AuditMessage/ActiveParticipant[@UserIsRequestor="true"][position()=1]/@UserID') xt
        WHERE
    		mJS.MESSAGECONTENT is not NULL
    		and xt.COD_SUBTYPE_EVENT in ('110122')
            and xt.COD_TYPE_EVENT in ('110114')
    		and mJS.eventdatetime >= :#${header.processStartDate} and mJS.eventdatetime < :#${exchangeProperty.processEndDate})
    select
        m.id as ID_AUDIT,
        pr.IDX_ID as ID_USER,
        pr.DAT_COD_PRACTITIONER as COD_USER,
        CASE WHEN jtAgent.login IS NOT NULL THEN jtAgent.login ELSE 'UNDEFINED' END as LOGIN,
        nombre.ds_value  as NAME,
        surname_1.ds_value as SURNAME1,
    	surname_2.ds_value as SURNAME2,
    	etc.eventdatetime as DATE_EVENT,
    	jtApplication.code as COD_APPLICATION,
    	jtapplication.display as DESC_APPLICATION,
    	jtrole.code as COD_ROLE,
    	jtrole.display as DESC_ROLE,
    	prSpe.cod_profession as COD_PROFESSION,
        prSpe.des_profession as DESC_PROFESSION,
    	organization.IDX_ID as ID_ORGANIZATION,
    	organization.COD_KEY as COD_ORGANIZATION,
    	organization.DAT_NAME as DESC_ORGANIZATION,
        orgCen.IDX_ID  as ID_CENTER,
        src.enterprisesiteid as COD_CENTER,
        orgCen.DAT_NAME as DESC_CENTER,
    	uFuncional.idx_id as ID_FUNCTIONAL_UNIT,
    	jtUnit.code as COD_FUNCTIONAL_UNIT,
    	jtUnit.display as DESC_FUNCTIONAL_UNIT,
    	jtcareline.code as COD_CARE_LINE,
    	jtcareline.display as DESC_CARE_LINE,
    	prSpe.key_cod as COD_SPECIALITY,
    	CAT_ESPECIALIDADES.dat_name as DESC_SPECIALITY,
        json_value(mr.message_json, '$.type.code') as COD_TYPE_EVENT,
        json_value(mr.message_json, '$.type.display') as DESC_TYPE_EVENT,
        etcc.code as COD_SUBTYPE_EVENT,
        etcc.displayname as DESC_SUBTYPE_EVENT
    from US_HNATNA.messages m
        left join US_HNATNA.message_resources mr on (m.id = mr.fk_message_id)
        left join US_HNATNA.event_types_codes etc on (m.id = etc.messageentity_id)
        left join US_HNATNA.codes etcc on (etc.eventtypecodes_id = etcc.id and etcc.codesystem in ('http://dicom.nema.org/resources/ontology/DCM'))
        inner join (select distinct etcc.code as COD_TYPE_EVENT, etcc.displayname as DESC_TYPE_EVENT from US_HNATNA.codes etcc where 
        etcc.codesystem in ('http://terminology.hl7.org/CodeSystem/audit-event-type', 'http://dicom.nema.org/resources/ontology/DCM') 
        and etcc.code in ('110100', '110114')) dts_te on (json_value(mr.message_json, '$.type.code') = dts_te.cod_type_event)
        left join US_HNATNA.messages_msources mMSrc on (m.id = mMSrc.messageentity_id)
        left join US_HNATNA.message_sources mSrc on (mMSrc.messagesources_id = mSrc.id)
        left join US_HNATNA.sources src on (mSrc.SOURCE_ID = src.id)
        left join tableExt jtCareLine on (mr.id = jtCareLine.id and jtCareLine.system = 'http://hn.indra.es/CareLine')
        left join tableExt jtRole on (mr.id = jtRole.id and jtRole.system = 'http://hn.indra.es/Role')
        left join tableExt jtProfession on (mr.id = jtProfession.id and jtProfession.system = 'http://hn.indra.es/Profession')
        left join tableExt jtUnit on (mr.id = jtUnit.id and jtUnit.system = 'http://hn.indra.es/Unit')
        left join tableExt jtApplication on (mr.id = jtApplication.id and jtApplication.system = 'http://hn.indra.es/Application')
        left join tableExt jtSpecialty on (mr.id = jtSpecialty.id and jtApplication.system = 'http://hn.indra.es/Specialty')
        left join tableAgent jtAgent on (mr.id = jtAgent.id)
        left join US_HNAUT_V4.dat_organization orgCen on (src.enterprisesiteid = orgCen.cod_key)
        left join US_HNAUT_V4.dat_organization organization on (orgCen.fk_organization = organization.idx_id)
        left join US_HNAUT_V4.DAT_USER usr on usr.dat_login = jtAgent.login
        left join US_HNAUT_V4.DAT_PRACTITIONER pr on pr.idx_id = usr.fk_practitioner
        left join US_HNAUT_V4.DAT_PRACTITIONER_SPECIALTY prSpe on pr.idx_id = prSpe.fk_practitioner
        left join (select i.key_cod, i.DAT_NAME from US_HNCAT_V4.dat_catalog c
            inner join US_HNCAT_V4.dat_cat_ver_items cv on cv.fk_catalog = c.idx_id
            inner join US_HNCAT_V4.dat_item i on i.fk_catalog_version = cv.idx_id
            where c.key_cod = 'speciality') CAT_ESPECIALIDADES on CAT_ESPECIALIDADES.key_cod = prSpe.key_cod
        LEFT JOIN 
        (select fullName.idx_id,fullName.fk_user_id,LISTAGG(nameGiven.ds_value,'') WITHIN GROUP (ORDER BY nameGiven.idx_id) ds_value 
            from US_HNAUT_V4.dat_user_name fullName LEFT OUTER JOIN US_HNAUT_V4.dat_name_field nameGiven 
            ON nameGiven.fk_user_name_id = fullName.idx_id AND nameGiven.type_field = 1 
            group by fullName.idx_id,fullName.fk_user_id) nombre
            ON nombre.fk_user_id = pr.idx_id
        LEFT JOIN 
        (select fullName.idx_id,fullName.fk_user_id,LISTAGG(surname1.ds_value,'') WITHIN GROUP (ORDER BY surname1.idx_id) ds_value
            from US_HNAUT_V4.dat_user_name fullName LEFT OUTER JOIN US_HNAUT_V4.dat_name_field surname1 
            ON surname1.fk_user_name_id = fullName.idx_id AND surname1.type_field = 2 
            group by fullName.idx_id,fullName.fk_user_id) surname_1
            ON surname_1.fk_user_id = pr.idx_id
        LEFT OUTER JOIN 
        (select fullName.idx_id,fullName.fk_user_id,LISTAGG(surname2.ds_value,'') WITHIN GROUP (ORDER BY surname2.idx_id) ds_value
            from US_HNAUT_V4.dat_user_name fullName LEFT OUTER JOIN US_HNAUT_V4.dat_name_field surname2 
            ON surname2.fk_user_name_id = fullName.idx_id AND surname2.type_field = 3 
            group by fullName.idx_id,fullName.fk_user_id) surname_2
            ON surname_2.fk_user_id = pr.idx_id
        left outer join US_HNAUT_V4.DAT_ORGANIZATION uFuncional ON uFuncional.cod_key = jtUnit.code AND uFuncional.cod_type = 'uf'
    where
    	etc.eventdatetime >= :#${header.processStartDate} and etc.eventdatetime < :#${exchangeProperty.processEndDate}
    	and m.id IS NOT NULL
    	and etc.eventdatetime IS NOT NULL
    	and etcc.code in ('110120')
    UNION
    select
        m.id as ID_AUDIT,
        pr.IDX_ID as ID_USER,
        pr.DAT_COD_PRACTITIONER as COD_USER,
        CASE WHEN mXML.LOGIN IS NOT NULL THEN mXML.LOGIN ELSE 'UNDEFINED' END as LOGIN,
        nombre.ds_value  as NAME,
        surname_1.ds_value as SURNAME1,
    	surname_2.ds_value as SURNAME2,
    	etc.eventdatetime as DATE_EVENT,
    	null as COD_APPLICATION,
    	null as DESC_APPLICATION,
    	mXML.COD_ROLE as COD_ROLE,
    	mXML.DESC_ROLE as DESC_ROLE,
    	prSpe.cod_profession as COD_PROFESSION,
        prSpe.des_profession as DESC_PROFESSION,
    	organization.IDX_ID as ID_ORGANIZATION,
    	organization.COD_KEY as COD_ORGANIZATION,
    	organization.DAT_NAME as DESC_ORGANIZATION,
        orgCen.IDX_ID  as ID_CENTER,
        src.enterprisesiteid as COD_CENTER,
        orgCen.DAT_NAME as DESC_CENTER,
    	null as ID_FUNCTIONAL_UNIT,
    	null as COD_FUNCTIONAL_UNIT,
    	null as DESC_FUNCTIONAL_UNIT,
    	null as COD_CARE_LINE,
    	null as DESC_CARE_LINE,
    	prSpe.key_cod as COD_SPECIALITY,
    	CAT_ESPECIALIDADES.dat_name as DESC_SPECIALITY,
        mXML.COD_TYPE_EVENT as COD_TYPE_EVENT,
        mXML.DESC_TYPE_EVENT as DESC_TYPE_EVENT,
        etcc.code as COD_SUBTYPE_EVENT,
        etcc.displayname as DESC_SUBTYPE_EVENT
    from US_HNATNA.messages m
    	left join tableMessageContentTCP mXML on (m.id = mXML.ID_AUDIT)
        left join US_HNATNA.event_types_codes etc on (m.id = etc.messageentity_id)
        left join US_HNATNA.codes etcc on (etc.eventtypecodes_id = etcc.id and etcc.codesystem in ('http://dicom.nema.org/resources/ontology/DCM'))
        inner join (select distinct etcc.code as COD_TYPE_EVENT, etcc.displayname as DESC_TYPE_EVENT from US_HNATNA.codes etcc where 
        etcc.codesystem in ('http://terminology.hl7.org/CodeSystem/audit-event-type', 'http://dicom.nema.org/resources/ontology/DCM') 
        and etcc.code in ('110100', '110114')) dts_te on (mXML.COD_TYPE_EVENT = dts_te.cod_type_event)
        left join US_HNATNA.messages_msources mMSrc on (m.id = mMSrc.messageentity_id)
        left join US_HNATNA.message_sources mSrc on (mMSrc.messagesources_id = mSrc.id)
        left join US_HNATNA.sources src on (mSrc.SOURCE_ID = src.id)
        left join US_HNAUT_V4.dat_organization orgCen on (src.enterprisesiteid = orgCen.cod_key)
        left join US_HNAUT_V4.dat_organization organization on (orgCen.fk_organization = organization.idx_id)
        left join US_HNAUT_V4.DAT_USER usr on usr.dat_login = mXML.LOGIN
        left join US_HNAUT_V4.DAT_PRACTITIONER pr on pr.idx_id = usr.fk_practitioner
    	left join US_HNAUT_V4.DAT_PRACTITIONER_SPECIALTY prSpe on pr.idx_id = prSpe.fk_practitioner
        left join (select i.key_cod, i.DAT_NAME from US_HNCAT_V4.dat_catalog c
            inner join US_HNCAT_V4.dat_cat_ver_items cv on cv.fk_catalog = c.idx_id
            inner join US_HNCAT_V4.dat_item i on i.fk_catalog_version = cv.idx_id
            where c.key_cod = 'speciality') CAT_ESPECIALIDADES on CAT_ESPECIALIDADES.key_cod = prSpe.key_cod
        LEFT JOIN 
        (select fullName.idx_id,fullName.fk_user_id,LISTAGG(nameGiven.ds_value,'') WITHIN GROUP (ORDER BY nameGiven.idx_id) ds_value 
            from US_HNAUT_V4.dat_user_name fullName LEFT OUTER JOIN US_HNAUT_V4.dat_name_field nameGiven 
            ON nameGiven.fk_user_name_id = fullName.idx_id AND nameGiven.type_field = 1 
            group by fullName.idx_id,fullName.fk_user_id) nombre
            ON nombre.fk_user_id = pr.idx_id
        LEFT JOIN 
        (select fullName.idx_id,fullName.fk_user_id,LISTAGG(surname1.ds_value,'') WITHIN GROUP (ORDER BY surname1.idx_id) ds_value
            from US_HNAUT_V4.dat_user_name fullName LEFT OUTER JOIN US_HNAUT_V4.dat_name_field surname1 
            ON surname1.fk_user_name_id = fullName.idx_id AND surname1.type_field = 2 
            group by fullName.idx_id,fullName.fk_user_id) surname_1
            ON surname_1.fk_user_id = pr.idx_id
        LEFT OUTER JOIN 
        (select fullName.idx_id,fullName.fk_user_id,LISTAGG(surname2.ds_value,'') WITHIN GROUP (ORDER BY surname2.idx_id) ds_value
            from US_HNAUT_V4.dat_user_name fullName LEFT OUTER JOIN US_HNAUT_V4.dat_name_field surname2 
            ON surname2.fk_user_name_id = fullName.idx_id AND surname2.type_field = 3 
            group by fullName.idx_id,fullName.fk_user_id) surname_2
            ON surname_2.fk_user_id = pr.idx_id
    where
    	etc.eventdatetime >= :#${header.processStartDate} and etc.eventdatetime < :#${exchangeProperty.processEndDate}
    	and m.id IS NOT NULL
    	and etc.eventdatetime IS NOT NULL
    	and etcc.code in ('110122')
  externalResources_client_default_bdExtract_sql_Oracle_hnATNA___querySubtypeEvent.sql: |-
    select distinct
        etcc.code as COD_SUBTYPE_EVENT,
        etcc.displayname as DESC_SUBTYPE_EVENT
    from  US_HNATNA.event_types_codes etc 
    left join US_HNATNA.codes etcc on (etc.eventtypecodes_id = etcc.id)
    where
    etcc.codesystem in ('http://dicom.nema.org/resources/ontology/DCM')
    and code in ('110120', '110122')
    and etc.eventdatetime >= :#${header.processStartDate} and etc.eventdatetime < :#${exchangeProperty.processEndDate}
  externalResources_client_default_bdExtract_sql_Oracle_hnATNA___queryTypeEvent.sql: |-
    select distinct
        etcc.code as COD_TYPE_EVENT,
        etcc.displayname as DESC_TYPE_EVENT
    from US_HNATNA.codes etcc
    where
        etcc.codesystem in ('http://terminology.hl7.org/CodeSystem/audit-event-type', 'http://dicom.nema.org/resources/ontology/DCM')
        and etcc.code in ('110100', '110114')
  externalResources_client_default_bdExtract_sql_Oracle_hnAllergyint___queryAllergyint.sql: |-
    select
        allInt.key_cod  KEY_COD_ALLERGYINTOLERANCE,   
        allInt.clb_data as CLB_ALLERGYINTOLERANCE,
        pnt.clb_data as CLB_PATIENT,
        prtRec.clb_data as CLB_RECORDER
    from us_hdr.dat_alyine allInt
    left join us_hdr.dat_alyine_ref allInt_refPat on (allInt.idx_id = allInt_refPat.fk_resource_idx_id and upper(allInt_refPat.dat_name) = 'PATIENT' and upper(allInt_refPat.ref_type) = 'PATIENT')
    left join us_hdr.dat_alyine_ref allInt_refPrtRec on (allInt.idx_id = allInt_refPrtRec.fk_resource_idx_id and upper(allInt_refPrtRec.dat_name) = 'RECORDER' and upper(allInt_refPrtRec.ref_type) = 'PRACTITIONER')
    left join us_hdr.dat_patient pnt on (pnt.key_cod = allInt_refPat.ref_id)
    left join us_hdr.dat_practitioner prtRec on (prtRec.key_cod = allInt_refPrtRec.ref_id)
    where 
    allInt.last_dt_updated >= :#${header.processStartDate} and allInt.last_dt_updated < :#${exchangeProperty.processEndDate}
  externalResources_client_default_bdExtract_sql_Oracle_hnAppointment___queryAppointment.sql: |-
    select
        apt.key_cod as KEY_COD_APPOINTMENT,
        apt.clb_data as CLB_APPOINTMENT,
        pnt.clb_data as CLB_PATIENT,
        cnt.clb_data as CLB_CENTER,
        enc.clb_data as CLB_ENCOUNTER,
        lct.clb_data as CLB_LOCATION,
        srv.clb_data as CLB_SERVICE
    from  US_HDR.dat_appointment apt
    left join us_hdr.dat_appointment_ref apt_refPnt on (apt.idx_id = apt_refPnt.fk_resource_idx_id and upper(apt_refPnt.dat_name) = 'PATIENT' and upper(apt_refPnt.ref_type) = 'PATIENT')
    left join us_hdr.dat_patient pnt on (pnt.key_cod = apt_refPnt.ref_id)
    left join us_hdr.dat_appointment_ref apt_refCnt on (apt.idx_id = apt_refCnt.fk_resource_idx_id and upper(apt_refCnt.dat_name) = 'X-CENTER' and upper(apt_refCnt.ref_type) = 'ORGANIZATION')
    left join us_hdr.dat_organization cnt on (cnt.key_cod = apt_refCnt.ref_id)
    left join us_hdr.dat_encounter_ref enc_ref on (apt.key_cod = enc_ref.ref_id and upper(enc_ref.dat_name) = 'APPOINTMENT' and upper(enc_ref.ref_type) = 'APPOINTMENT')
    left join us_hdr.dat_encounter enc on (enc.idx_id = enc_ref.fk_resource_idx_id)
    left join us_hdr.dat_encounter_ref enc_refLoc on (enc.idx_id = enc_refLoc.fk_resource_idx_id and upper(enc_refLoc.dat_name) = 'LOCATION' and upper(enc_refLoc.ref_type) = 'LOCATION')
    left join us_hdr.dat_location lct on (lct.key_cod = enc_refLoc.ref_id)
    left join us_hdr.dat_encounter_ref enc_refSrv on (enc.idx_id = enc_refSrv.fk_resource_idx_id and upper(enc_refSrv.dat_name) = 'SERVICE-PROVIDER' and upper(enc_refSrv.ref_type) = 'ORGANIZATION')
    left join us_hdr.dat_organization srv on (srv.key_cod = enc_refSrv.ref_id)
    where 
    apt.last_dt_updated >= :#${header.processStartDate} and apt.last_dt_updated < :#${exchangeProperty.processEndDate}
  externalResources_client_default_bdExtract_sql_Oracle_hnCondition___queryCondition.sql: |-
    with
        tableRecorder AS (SELECT
            cnd.key_cod as KEY_COD_CONDITION,
            SUBSTR(EXTRACTVALUE(XMLTYPE(cnd.clb_data), '/Condition/recorder/reference/@value', 'xmlns="http://hl7.org/fhir"'),
    				1 + INSTR(EXTRACTVALUE(XMLTYPE(cnd.clb_data), '/Condition/recorder/reference/@value', 'xmlns="http://hl7.org/fhir"'), '/', -1)) AS REF_ID	
            from us_hdr.dat_condition cnd
            where cnd.last_dt_updated >= :#${header.processStartDate} and cnd.last_dt_updated < :#${exchangeProperty.processEndDate}
            and cnd.clb_data is not null
        )
    select
        cnd.key_cod as KEY_COD_CONDITION,
        cnd.clb_data as CLB_CONDITION,
        pnt.clb_data as CLB_PATIENT,
        rec.clb_data as CLB_RECORDER,
        ast.clb_data as CLB_ASSERTER,
    	enc.clb_data as CLB_ENCOUNTER,
    	lct.clb_data as CLB_LOCATION,
    	srv.clb_data as CLB_SERVICE
    from us_hdr.dat_condition cnd
    left join us_hdr.dat_condition_ref cnd_refPnt on (cnd.idx_id = cnd_refPnt.fk_resource_idx_id and upper(cnd_refPnt.dat_name) = 'PATIENT' and upper(cnd_refPnt.ref_type) = 'PATIENT')
    left join us_hdr.dat_patient pnt on (pnt.key_cod = cnd_refPnt.ref_id)
    left join tableRecorder on (tableRecorder.KEY_COD_CONDITION = cnd.key_cod)
    left join us_hdr.dat_practitioner rec on (rec.key_cod = tableRecorder.REF_ID)
    left join us_hdr.dat_condition_ref cnd_refAst on (cnd.idx_id = cnd_refAst.fk_resource_idx_id and upper(cnd_refAst.dat_name) = 'ASSERTER' and upper(cnd_refAst.ref_type) = 'PRACTITIONER')
    left join us_hdr.dat_practitioner ast on (ast.key_cod = cnd_refAst.ref_id)
    left join us_hdr.dat_condition_ref cnd_refEnc on (cnd.idx_id = cnd_refEnc.fk_resource_idx_id and upper(cnd_refEnc.dat_name) = 'ENCOUNTER' and upper(cnd_refEnc.ref_type) = 'ENCOUNTER')
    left join us_hdr.dat_encounter enc on (enc.key_cod = cnd_refEnc.ref_id)
    left join us_hdr.dat_encounter_ref enc_refLoc on (enc.idx_id = enc_refLoc.fk_resource_idx_id and upper(enc_refLoc.dat_name) = 'LOCATION' and upper(enc_refLoc.ref_type) = 'LOCATION')
    left join us_hdr.dat_location lct on (lct.key_cod = enc_refLoc.ref_id)
    left join us_hdr.dat_encounter_ref enc_refSrv on (enc.idx_id = enc_refSrv.fk_resource_idx_id and upper(enc_refSrv.dat_name) = 'SERVICE-PROVIDER' and upper(enc_refSrv.ref_type) = 'ORGANIZATION')
    left join us_hdr.dat_organization srv on (srv.key_cod = enc_refSrv.ref_id)
    where cnd.last_dt_updated >= :#${header.processStartDate} and cnd.last_dt_updated < :#${exchangeProperty.processEndDate}
  externalResources_client_default_bdExtract_sql_Oracle_hnCovid___queryCovid.sql: |-
    select
    	obs.key_cod as KEY_COD_COVID,
    	obs.clb_data as CLB_COVID,
    	prt.clb_data as CLB_PRACTITIONER,
    	enc.clb_data as CLB_ENCOUNTER,
    	lct.clb_data as CLB_LOCATION,
    	srv.clb_data as CLB_SERVICE,
    	pnt.clb_data as CLB_PATIENT
    from us_hdr.dat_observation obs
    left join us_hdr.dat_observation_ref obs_refPrt on (obs.idx_id = obs_refPrt.fk_resource_idx_id and upper(obs_refPrt.dat_name) = 'PERFORMER' and upper(obs_refPrt.ref_type) = 'PRACTITIONER')
    left join us_hdr.dat_practitioner prt on (prt.key_cod = obs_refPrt.ref_id)
    left join us_hdr.dat_observation_ref obs_refEnc on (obs.idx_id = obs_refEnc.fk_resource_idx_id and upper(obs_refEnc.dat_name) = 'ENCOUNTER' and upper(obs_refEnc.ref_type) = 'ENCOUNTER')
    left join us_hdr.dat_encounter enc on (enc.key_cod = obs_refEnc.ref_id)
    left join us_hdr.dat_encounter_ref enc_refLoc on (enc.idx_id = enc_refLoc.fk_resource_idx_id and upper(enc_refLoc.dat_name) = 'LOCATION' and upper(enc_refLoc.ref_type) = 'LOCATION')
    left join us_hdr.dat_location lct on (lct.key_cod = enc_refLoc.ref_id)
    left join us_hdr.dat_encounter_ref enc_refSrv on (enc.idx_id = enc_refSrv.fk_resource_idx_id and upper(enc_refSrv.dat_name) = 'SERVICE-PROVIDER' and upper(enc_refSrv.ref_type) = 'ORGANIZATION')
    left join us_hdr.dat_organization srv on (srv.key_cod = enc_refSrv.ref_id)
    left join us_hdr.dat_observation_ref obs_refPnt on (obs.idx_id = obs_refPnt.fk_resource_idx_id and upper(obs_refPnt.dat_name) = 'PATIENT' and upper(obs_refPnt.ref_type) = 'PATIENT')
    left join us_hdr.dat_patient pnt on (pnt.key_cod = obs_refPnt.ref_id)
    left join us_hdr.dat_observation_token obs_tkn on (obs.idx_id = obs_tkn.fk_resource_idx_id)
    where 
    (upper(obs_tkn.dat_name) = 'CATEGORY' 
    and upper(obs_tkn.tkn_value) = 'LABORATORY')
    and obs.last_dt_updated >= :#${header.processStartDate} and obs.last_dt_updated < :#${exchangeProperty.processEndDate}
  externalResources_client_default_bdExtract_sql_Oracle_hnEncounter___queryEncounter.sql: |-
    select
        enc.key_cod as KEY_COD_ENCOUNTER,
        enc.clb_data as CLB_ENCOUNTER,
        epi.clb_data as CLB_EPISODEOFCARE,
        pnt.clb_data as CLB_PATIENT,
        prt.clb_data as CLB_PRACTITIONER,
    	lct.clb_data as CLB_LOCATION,
    	org.clb_data as CLB_ORGANIZATION,
    	srv.clb_data as CLB_SERVICE  
    from  us_hdr.dat_encounter enc
    left join us_hdr.dat_encounter_ref enc_refEncLoc on (enc.idx_id = enc_refEncLoc.fk_resource_idx_id and upper(enc_refEncLoc.dat_name) = 'LOCATION' and upper(enc_refEncLoc.ref_type) = 'LOCATION')
    left join us_hdr.dat_location lct on (lct.key_cod = enc_refEncLoc.ref_id)
    left join us_hdr.dat_encounter_ref enc_refServ on (enc.idx_id = enc_refServ.fk_resource_idx_id and upper(enc_refServ.dat_name) = 'SERVICE-PROVIDER' and upper(enc_refServ.ref_type) = 'ORGANIZATION')
    left join us_hdr.dat_organization srv on (srv.key_cod = enc_refServ.ref_id)
    left join us_hdr.dat_encounter_ref enc_refEpi on (enc.idx_id = enc_refEpi.fk_resource_idx_id and upper(enc_refEpi.dat_name) = 'EPISODE-OF-CARE' and upper(enc_refEpi.ref_type) = 'EPISODEOFCARE')
    left join us_hdr.dat_epeofcare epi on (epi.key_cod = enc_refEpi.ref_id)
    left join us_hdr.dat_epeofcare_ref epi_refPnt on (epi.idx_id = epi_refPnt.fk_resource_idx_id and upper(epi_refPnt.dat_name) = 'PATIENT' and upper(epi_refPnt.ref_type) = 'PATIENT')
    left join us_hdr.dat_patient pnt on (pnt.key_cod = epi_refPnt.ref_id)
    left join us_hdr.dat_encounter_ref enc_refPrt on (epi.idx_id = enc_refPrt.fk_resource_idx_id and upper(enc_refPrt.dat_name) = 'PRACTITIONER' and upper(enc_refPrt.ref_type) = 'PRACTITIONER')
    left join us_hdr.dat_practitioner prt on (prt.key_cod = enc_refPrt.ref_id)
    left join us_hdr.dat_epeofcare_ref epi_refOrg on (epi.idx_id = epi_refOrg.fk_resource_idx_id and upper(epi_refOrg.dat_name) = 'ORGANIZATION' and upper(epi_refOrg.ref_type) = 'ORGANIZATION')
    left join us_hdr.dat_organization org on (org.key_cod = epi_refOrg.ref_id)
    where 
    enc.last_dt_updated >= :#${header.processStartDate} and enc.last_dt_updated < :#${exchangeProperty.processEndDate}
  externalResources_client_default_bdExtract_sql_Oracle_hnEpisodeOfCare___queryEpisodeOfCare.sql: |-
    select
        epi.key_cod as KEY_COD_EPISODEOFCARE,
    	epi.clb_data as CLB_EPISODEOFCARE, 
        organiz.clb_data as CLB_ORGANIZATION,
        pnt.clb_data as CLB_PATIENT    
    from  us_hdr.dat_epeofcare epi
    left join us_hdr.dat_epeofcare_ref epeo_refOrg on (epi.idx_id = epeo_refOrg.fk_resource_idx_id and upper(epeo_refOrg.dat_name) = 'ORGANIZATION' and upper(epeo_refOrg.ref_type) = 'ORGANIZATION')
    left join us_hdr.dat_organization organiz on (organiz.key_cod = epeo_refOrg.ref_id)
    left join us_hdr.dat_observation_ref epi_refPnt on (epi.idx_id = epi_refPnt.fk_resource_idx_id and upper(epi_refPnt.dat_name) = 'PATIENT' and upper(epi_refPnt.ref_type) = 'PATIENT')
    left join us_hdr.dat_patient pnt on (pnt.key_cod = epi_refPnt.ref_id)
    where 
    epi.last_dt_updated >= :#${header.processStartDate} and epi.last_dt_updated < :#${exchangeProperty.processEndDate}
  externalResources_client_default_bdExtract_sql_Oracle_hnExtension___queryCliExtension.sql: |-
    select
    	'DTS_CLI_PROCESS' 										as COD_TABLE,
    	dtCrePlan.KEY_COD 										as COD_VALUE_TABLE,
        'CANCELREASON'                         					as COD_FIELD,
        code                  									as VALUE1_FIELD,
        display								    				as VALUE2_FIELD
    from us_ohbpm.DAT_CAREPLAN dtCrePlan,
    XMLTABLE(
         xmlnamespaces(default 'http://hl7.org/fhir'), 'for $i in /CarePlan/extension[@url="ohbpm.careplan.cancelationReason"]/valueCodeableConcept/coding return $i' PASSING XMLTYPE(dtCrePlan.CLB_DATA)
         COLUMNS
    	   code varchar2(128) path 'code/@value',
    	   display varchar2(256) path 'display/@value'
    ) xtable
    where dtCrePlan.LAST_DT_UPDATED >= :#${header.processStartDate} and dtCrePlan.LAST_DT_UPDATED < :#${exchangeProperty.processEndDate}
    and dtCrePlan.CLB_DATA is not null
    
    union all
    
    select
    	'DTS_CLI_PROCESS' 										as COD_TABLE,
    	dtCrePlan.KEY_COD 										as COD_VALUE_TABLE,
        'STARTREASON'                         					as COD_FIELD,
        code                  									as VALUE1_FIELD,
        display												    as VALUE2_FIELD
    from us_ohbpm.DAT_CAREPLAN dtCrePlan,
    XMLTABLE(
         xmlnamespaces(default 'http://hl7.org/fhir'), 'for $i in /CarePlan/extension[@url="ohbpm.careplan.reason"]/valueCodeableConcept/coding return $i' PASSING XMLTYPE(dtCrePlan.CLB_DATA)
         COLUMNS
    	   code varchar2(128) path 'code/@value',
    	   display varchar2(256) path 'display/@value'
    ) xtable
    where dtCrePlan.LAST_DT_UPDATED >= :#${header.processStartDate} and dtCrePlan.LAST_DT_UPDATED < :#${exchangeProperty.processEndDate}
    and dtCrePlan.CLB_DATA is not null
    
    union all
    
    select
    	'DTS_CLI_PROCESS' 										as COD_TABLE,
    	dtCrePlan.KEY_COD 										as COD_VALUE_TABLE,
        'COMPLETEDREASON'                         				as COD_FIELD,
        code                  									as VALUE1_FIELD,
        display												    as VALUE2_FIELD
    from us_ohbpm.DAT_CAREPLAN dtCrePlan,
    XMLTABLE(
         xmlnamespaces(default 'http://hl7.org/fhir'), 'for $i in /CarePlan/extension[@url="ohbpm.careplan.completeResult"]/valueCodeableConcept/coding return $i' PASSING XMLTYPE(dtCrePlan.CLB_DATA)
         COLUMNS
    	   code varchar2(128) path 'code/@value',
    	   display varchar2(256) path 'display/@value'
    ) xtable
    where dtCrePlan.LAST_DT_UPDATED >= :#${header.processStartDate} and dtCrePlan.LAST_DT_UPDATED < :#${exchangeProperty.processEndDate}
    and dtCrePlan.CLB_DATA is not null
    
    union all
    
    select
    	'DTS_CLI_PROCESS' 										as COD_TABLE,
    	dtCrePlan.KEY_COD 										as COD_VALUE_TABLE,
        'BIZSTATUS'                                             as COD_FIELD,
        dtTdoCrePlan.CAREPLAN_STATUS_BUSINESS                   as VALUE1_FIELD,
        EXTRACTVALUE(XMLTYPE(dtCrePlan.clb_data), '/CarePlan/extension[@url="ohbpm.careplan.business.status"]/valueCodeableConcept/coding/display/@value', 'xmlns="http://hl7.org/fhir"')     as VALUE2_FIELD
    from us_ohbpm.DAT_CAREPLAN dtCrePlan
    inner join us_ohbpm.DAT_TODO_CAREPLAN dtTdoCrePlan on (dtTdoCrePlan.CAREPLAN_ID = dtCrePlan.KEY_COD)
    where dtCrePlan.LAST_DT_UPDATED >= :#${header.processStartDate} and dtCrePlan.LAST_DT_UPDATED < :#${exchangeProperty.processEndDate}
    and dtCrePlan.clb_data is not null
  externalResources_client_default_bdExtract_sql_Oracle_hnFlag___queryFlag.sql: |-
    select
        flg.key_cod KEY_COD_FLAG,
        flg.clb_data as CLB_FLAG,
        aut.clb_data as CLB_AUTHOR,    
        pnt.clb_data as CLB_PATIENT,
        enc.clb_data as CLB_ENCOUNTER,
        lct.clb_data as CLB_LOCATION,
        srv.clb_data as CLB_SERVICE
    from us_hdr.dat_flag flg
    left join us_hdr.dat_flag_ref flg_refAut on (flg.idx_id = flg_refAut.fk_resource_idx_id and upper(flg_refAut.dat_name) = 'AUTHOR' and upper(flg_refAut.ref_type) = 'PRACTITIONER')
    left join us_hdr.dat_practitioner aut on (aut.key_cod = flg_refAut.ref_id)
    left join us_hdr.dat_flag_ref flg_refPat on (flg.idx_id = flg_refPat.fk_resource_idx_id and upper(flg_refPat.dat_name) = 'PATIENT' and upper(flg_refPat.ref_type) = 'PATIENT')
    left join us_hdr.dat_patient pnt on (pnt.key_cod = flg_refPat.ref_id)
    left join us_hdr.dat_flag_ref flg_refEnc on (flg.idx_id = flg_refEnc.fk_resource_idx_id and upper(flg_refEnc.dat_name) = 'ENCOUNTER' and upper(flg_refEnc.ref_type) = 'ENCOUNTER')
    left join us_hdr.dat_encounter enc on (enc.key_cod = flg_refEnc.ref_id)
    left join us_hdr.dat_encounter_ref enc_refLoc on (enc.idx_id = enc_refLoc.fk_resource_idx_id and upper(enc_refLoc.dat_name) = 'LOCATION' and upper(enc_refLoc.ref_type) = 'LOCATION')
    left join us_hdr.dat_location lct on (lct.key_cod = enc_refLoc.ref_id)
    left join us_hdr.dat_encounter_ref enc_refSrv on (enc.idx_id = enc_refSrv.fk_resource_idx_id and upper(enc_refSrv.dat_name) = 'SERVICE-PROVIDER' and upper(enc_refSrv.ref_type) = 'ORGANIZATION')
    left join us_hdr.dat_organization srv on (srv.key_cod = enc_refSrv.ref_id)
    where
    flg.last_dt_updated >= :#${header.processStartDate} and flg.last_dt_updated < :#${exchangeProperty.processEndDate}
  externalResources_client_default_bdExtract_sql_Oracle_hnLaboratory___queryLaboratory.sql: |-
    select
    	obs.key_cod as KEY_COD_LABORATORY,
    	obs.clb_data as CLB_LABORATORY,
    	enc.clb_data as CLB_ENCOUNTER,
        epi.clb_data as CLB_EPISODEOFCARE,
    	pnt.clb_data as CLB_PATIENT,
    	locat.clb_data as CLB_LOCATION,
      	organiz.clb_data as CLB_ORGANIZATION,
      	serv.clb_data as CLB_SERVICE  
    from us_hdr.dat_observation obs
    left join us_hdr.dat_observation_ref obs_refEnc on (obs.idx_id = obs_refEnc.fk_resource_idx_id and upper(obs_refEnc.dat_name) = 'ENCOUNTER' and upper(obs_refEnc.ref_type) = 'ENCOUNTER')
    left join us_hdr.dat_encounter enc on (enc.key_cod = obs_refEnc.ref_id)
    left join us_hdr.dat_observation_ref obs_refPnt on (obs.idx_id = obs_refPnt.fk_resource_idx_id and upper(obs_refPnt.dat_name) = 'PATIENT' and upper(obs_refPnt.ref_type) = 'PATIENT')
    left join us_hdr.dat_patient pnt on (pnt.key_cod = obs_refPnt.ref_id)
    left join us_hdr.dat_encounter_ref enc_refEpi on (enc.idx_id = enc_refEpi.fk_resource_idx_id and upper(enc_refEpi.dat_name) = 'EPISODE-OF-CARE' and upper(enc_refEpi.ref_type) = 'EPISODEOFCARE')
    left join us_hdr.dat_epeofcare epi on (epi.key_cod = enc_refEpi.ref_id)
    left join us_hdr.dat_observation_token obs_tkn on (obs.idx_id = obs_tkn.fk_resource_idx_id)
    left join us_hdr.dat_encounter_ref enc_refEpiLoc on (enc.idx_id = enc_refEpiLoc.fk_resource_idx_id and upper(enc_refEpiLoc.dat_name) = 'LOCATION' and upper(enc_refEpiLoc.ref_type) = 'LOCATION')
    left join us_hdr.dat_location locat on (locat.key_cod = enc_refEpiLoc.ref_id)
    left join us_hdr.dat_encounter_ref enc_refServ on (enc.idx_id = enc_refServ.fk_resource_idx_id and upper(enc_refServ.dat_name) = 'SERVICE-PROVIDER' and upper(enc_refServ.ref_type) = 'ORGANIZATION')
    left join us_hdr.dat_organization serv on (serv.key_cod = enc_refServ.ref_id)
    left join us_hdr.dat_epeofcare_ref epeo_refOrg on (epi.idx_id = epeo_refOrg.fk_resource_idx_id and upper(epeo_refOrg.dat_name) = 'ORGANIZATION' and upper(epeo_refOrg.ref_type) = 'ORGANIZATION')
    left join us_hdr.dat_organization organiz on (organiz.key_cod = epeo_refOrg.ref_id)
    where 
    upper(obs_tkn.dat_name) = 'CATEGORY' 
    and upper(obs_tkn.tkn_value) = 'GENERAL-LAB'
    and obs.last_dt_updated >= :#${header.processStartDate} and obs.last_dt_updated < :#${exchangeProperty.processEndDate}
  externalResources_client_default_bdExtract_sql_Oracle_hnOnt___queryOntOntology.sql: |-
    select
    null as COD_VALUE, 
    null as DESC_VALUE,
    null as COD_CATALOGUE
    from DUAL where 1 = -1
  externalResources_client_default_bdExtract_sql_Oracle_hnOnt___queryOntOntologyRelations.sql: |-
    select
    null as COD_VALUE_ORIGIN, 
    null as DESC_VALUE_ORIGIN,
    null as COD_CATALOGUE_ORIGIN,
    null as COD_VALUE_DESTINATION,
    null as DESC_VALUE_DESTINATION,
    null as COD_CATALOGUE_DESTINATION
    from DUAL where 1 = -1
  externalResources_client_default_bdExtract_sql_Oracle_hnOnt___queryOntProcedure.sql: |-
    with
        observacionesPrimero AS (
            select 
            distinct(aif.DAT_VALUE) as nombreConcept, item.KEY_COD as key_cod 
            from US_HNCAT_V4.DAT_ADDITIONAL_CATALOG_FIELD acf
            inner join US_HNCAT_V4.DAT_CATALOG cat on cat.idx_id = acf.FK_CATALOG and cat.key_cod = 'benefit'
            inner join US_HNCAT_V4.DAT_ADDITIONAL_ITEM_FIELD aif on aif.FK_ADDITIONAL_CATALOG_FIELD = acf.idx_id
            inner join US_HNCAT_V4.DAT_CAT_VER_ITEMS cvi on cvi.FK_CATALOG = cat.IDX_ID
            inner join US_HNCAT_V4.DAT_ITEM item on item.idx_id = aif.FK_ITEM
            where acf.dat_code = 'Instrucciones Administrativas'
        ),
        observacionesSegundo AS (
             select 
            distinct(aif.DAT_VALUE) as nombreConcept, item.KEY_COD as key_cod 
            from US_HNCAT_V4.DAT_ADDITIONAL_CATALOG_FIELD acf
            inner join US_HNCAT_V4.DAT_CATALOG cat on cat.idx_id = acf.FK_CATALOG and cat.key_cod = 'benefit'
            inner join US_HNCAT_V4.DAT_ADDITIONAL_ITEM_FIELD aif on aif.FK_ADDITIONAL_CATALOG_FIELD = acf.idx_id
            inner join US_HNCAT_V4.DAT_CAT_VER_ITEMS cvi on cvi.FK_CATALOG = cat.IDX_ID
            inner join US_HNCAT_V4.DAT_ITEM item on item.idx_id = aif.FK_ITEM
            where acf.dat_code = 'Instrucciones'
        ),
        edadHasta AS (
            select 
            distinct(aif.DAT_VALUE) as nombreConcept, item.KEY_COD as key_cod 
            from US_HNCAT_V4.DAT_ADDITIONAL_CATALOG_FIELD acf
            inner join US_HNCAT_V4.DAT_CATALOG cat on cat.idx_id = acf.FK_CATALOG and cat.key_cod = 'benefit'
            inner join US_HNCAT_V4.DAT_ADDITIONAL_ITEM_FIELD aif on aif.FK_ADDITIONAL_CATALOG_FIELD = acf.idx_id
            inner join US_HNCAT_V4.DAT_CAT_VER_ITEMS cvi on cvi.FK_CATALOG = cat.IDX_ID
            inner join US_HNCAT_V4.DAT_ITEM item on item.idx_id = aif.FK_ITEM
            where acf.dat_code = 'Edad hasta'
        ),
        edadDesde AS (
            select 
            distinct(aif.DAT_VALUE) as nombreConcept, item.KEY_COD as key_cod 
            from US_HNCAT_V4.DAT_ADDITIONAL_CATALOG_FIELD acf
            inner join US_HNCAT_V4.DAT_CATALOG cat on cat.idx_id = acf.FK_CATALOG and cat.key_cod = 'benefit'
            inner join US_HNCAT_V4.DAT_ADDITIONAL_ITEM_FIELD aif on aif.FK_ADDITIONAL_CATALOG_FIELD = acf.idx_id
            inner join US_HNCAT_V4.DAT_CAT_VER_ITEMS cvi on cvi.FK_CATALOG = cat.IDX_ID
            inner join US_HNCAT_V4.DAT_ITEM item on item.idx_id = aif.FK_ITEM
            where acf.dat_code = 'Edad desde'
        ),
        genero AS (
            select 
            distinct(cod.DAT_CODE) as codigo, cod.DAT_DISPLAY as descripcion, item.KEY_COD as key_cod 
            from US_HNCAT_V4.DAT_ADDITIONAL_CATALOG_FIELD acf
            inner join US_HNCAT_V4.DAT_CATALOG cat on cat.idx_id = acf.FK_CATALOG and cat.key_cod = 'benefit'
            inner join US_HNCAT_V4.DAT_ADDITIONAL_ITEM_FIELD aif on aif.FK_ADDITIONAL_CATALOG_FIELD = acf.idx_id
            inner join US_HNCAT_V4.DAT_CODING cod on cod.IDX_ID = aif.FK_CODING
            inner join US_HNCAT_V4.DAT_CAT_VER_ITEMS cvi on cvi.FK_CATALOG = cat.IDX_ID
            inner join US_HNCAT_V4.DAT_ITEM item on item.idx_id = aif.FK_ITEM
            where acf.dat_code = 'Gnero'
        )
    select
    	distinct vw_bds.benefit as COD_PROCEDURE,
    	c_iDem.dat_name as DESC_PROCEDURE,
        desde.nombreConcept as AGE_FROM,
        hasta.nombreConcept as AGE_TILL,
        CASE WHEN gen.codigo IS NOT NULL THEN gen.codigo ELSE 'T' END as COD_GENDER,
        CASE WHEN gen.descripcion IS NOT NULL THEN gen.descripcion ELSE 'Todos' END as DESC_GENDER,
        obs1.nombreConcept as OBSERVATIONS1,
        obs2.nombreConcept as OBSERVATIONS2
    from US_HNAUT_V4.vw_benefits_demand_supply vw_bds
    inner join US_HNAUT_V4.dat_config_benefit d_cb on (d_cb.dat_benefit_cod = vw_bds.benefit)
    left join US_HNCAT_V4.dat_item c_iDem on (c_iDem.key_cod = vw_bds.benefit)
    inner join US_HNCAT_V4.DAT_CAT_VER_ITEMS cvi on cvi.IDX_ID = c_iDem.fk_catalog_version
    inner join US_HNCAT_V4.DAT_CATALOG cat on cat.idx_id = cvi.fk_catalog and cat.key_cod = 'benefit'
    left join observacionesPrimero obs1 on obs1.key_cod=vw_bds.benefit
    left join observacionesSegundo obs2 on obs2.key_cod=vw_bds.benefit
    left join edadHasta hasta on hasta.key_cod=vw_bds.benefit
    left join edadDesde desde on desde.key_cod=vw_bds.benefit
    left join genero gen on gen.key_cod=vw_bds.benefit
    where
    	CASE WHEN d_cb.dt_modification IS NOT NULL THEN d_cb.dt_modification ELSE d_cb.dt_creation END >= :#${header.processStartDate} and
    	CASE WHEN d_cb.dt_modification IS NOT NULL THEN d_cb.dt_modification ELSE d_cb.dt_creation END < :#${exchangeProperty.processEndDate}
            and vw_bds.benefit is not null
  externalResources_client_default_bdExtract_sql_Oracle_hnOnt___queryOntologyClassification.sql: |-
    select
    null as COD_VALUE, 
    null as DESC_VALUE,
    null as COD_CATALOGUE
    from DUAL where 1 = -1
  externalResources_client_default_bdExtract_sql_Oracle_hnProcedure___queryProcedure.sql: |-
    with
        tableRecorded AS (
            select
            pdr.key_cod as KEY_COD_PROCEDURE,
            SUBSTR(EXTRACTVALUE(XMLTYPE(pdr.clb_data), '/Procedure/recorder[1]/reference/@value', 'xmlns="http://hl7.org/fhir"'),
                    1 + INSTR(EXTRACTVALUE(XMLTYPE(pdr.clb_data), '/Procedure/recorder[1]/reference/@value', 'xmlns="http://hl7.org/fhir"'), '/', -1)) AS ID_RECORDED
    		from us_hdr.dat_procedure pdr
    		where pdr.clb_data is not null and EXTRACTVALUE(XMLTYPE(pdr.clb_data), '/Procedure/recorder[1]/reference/@value', 'xmlns="http://hl7.org/fhir"') is not null
    			and pdr.last_dt_updated >= :#${header.processStartDate} and pdr.last_dt_updated < :#${exchangeProperty.processEndDate}
    )
    select
        pdr.key_cod as KEY_COD_PROCEDURE,
        pdr.clb_data as CLB_PROCEDURE,
    	pnt.clb_data as CLB_PATIENT,
    	rdr.clb_data as CLB_RECORDED,
    	pfm.clb_data as CLB_PERFORMER,
    	enc.clb_data as CLB_ENCOUNTER,
        lct.clb_data as CLB_LOCATION,
        srv.clb_data as CLB_SERVICE,
    	epi.clb_data as CLB_EPISODEOFCARE,
    	org.clb_data as CLB_ORGANIZATION,
    	mpr.clb_data as CLB_MAIN_PROCEDURE,
    	sqt.clb_data as CLB_SERVICEREQUEST
    from us_hdr.dat_procedure pdr
    left join us_hdr.dat_procedure_ref pdr_refPnt on (pdr.idx_id = pdr_refPnt.fk_resource_idx_id and upper(pdr_refPnt.dat_name) = 'PATIENT' and upper(pdr_refPnt.ref_type) = 'PATIENT')
    left join us_hdr.dat_patient pnt on (pnt.key_cod = pdr_refPnt.ref_id)
    left join tableRecorded on (tableRecorded.KEY_COD_PROCEDURE = pdr.key_cod)
    left join us_hdr.dat_practitioner rdr on (rdr.key_cod = tableRecorded.ID_RECORDED)
    left join us_hdr.dat_procedure_ref pdr_refPfm on (pdr.idx_id = pdr_refPfm.fk_resource_idx_id and upper(pdr_refPfm.dat_name) = 'PERFORMER' and upper(pdr_refPfm.ref_type) = 'PRACTITIONER')
    left join us_hdr.dat_practitioner pfm on (pfm.key_cod = pdr_refPfm.ref_id)
    left join us_hdr.dat_procedure_ref pdr_refEnc on (pdr.idx_id = pdr_refEnc.fk_resource_idx_id and upper(pdr_refEnc.dat_name) = 'ENCOUNTER' and upper(pdr_refEnc.ref_type) = 'ENCOUNTER')
    left join us_hdr.dat_encounter enc on (enc.key_cod = pdr_refEnc.ref_id)
    left join us_hdr.dat_encounter_ref enc_refLoc on (enc.idx_id = enc_refLoc.fk_resource_idx_id and upper(enc_refLoc.dat_name) = 'LOCATION' and upper(enc_refLoc.ref_type) = 'LOCATION')
    left join us_hdr.dat_location lct on (lct.key_cod = enc_refLoc.ref_id)
    left join us_hdr.dat_encounter_ref enc_refSrv on (enc.idx_id = enc_refSrv.fk_resource_idx_id and upper(enc_refSrv.dat_name) = 'SERVICE-PROVIDER' and upper(enc_refSrv.ref_type) = 'ORGANIZATION')
    left join us_hdr.dat_organization srv on (srv.key_cod = enc_refSrv.ref_id)
    left join us_hdr.dat_encounter_ref enc_refEpi on (enc.idx_id = enc_refEpi.fk_resource_idx_id and upper(enc_refEpi.dat_name) = 'EPISODE-OF-CARE' and upper(enc_refEpi.ref_type) = 'EPISODEOFCARE')
    left join us_hdr.dat_epeofcare epi on (epi.key_cod = enc_refEpi.ref_id)
    left join us_hdr.dat_epeofcare_ref epi_refOrg on (epi.idx_id = epi_refOrg.fk_resource_idx_id and upper(epi_refOrg.dat_name) = 'ORGANIZATION' and upper(epi_refOrg.ref_type) = 'ORGANIZATION')
    left join us_hdr.dat_organization org on (org.key_cod = epi_refOrg.ref_id)
    left join us_hdr.dat_procedure_ref pdr_refMpr on (pdr.idx_id = pdr_refMpr.fk_resource_idx_id and upper(pdr_refMpr.dat_name) = 'PART-OF' and upper(pdr_refMpr.ref_type) = 'PROCEDURE')
    left join us_hdr.dat_procedure mpr on (mpr.key_cod = pdr_refMpr.ref_id)
    left join us_hdr.dat_procedure_ref pdr_refSqt on (pdr.idx_id = pdr_refSqt.fk_resource_idx_id and upper(pdr_refSqt.dat_name) = 'BASED-ON' and upper(pdr_refSqt.ref_type) = 'SERVICEREQUEST')
    left join us_hdr.dat_servicerequest sqt on (sqt.key_cod = pdr_refSqt.ref_id)
    where
    pdr.last_dt_updated >= :#${header.processStartDate} and pdr.last_dt_updated < :#${exchangeProperty.processEndDate}
    order by pdr.last_dt_updated desc
  externalResources_client_default_bdExtract_sql_Oracle_hnProcess___queryProcess.sql: |-
    select
    tableProcess.KEY_COD_CAREPLAN,
    tableProcess.CLB_CAREPLAN,
    tableProcess.CLB_PATIENT,
    tableProcess.CLB_ENCOUNTER,
    tableProcess.CLB_LOCATION,
    tableProcess.CLB_SERVICE,
    tableProcess.CLB_EPISODEOFCARE,
    tableProcess.CLB_ORGANIZATION,
    tableProcess.CLB_PERFORMER,
    	prtStr.clb_data as CLB_PRACTITIONER_START,
    	orgStr.clb_data as CLB_ORGANIZATION_START,
    	prtEnd.clb_data as CLB_PRACTITIONER_END,
    	orgEnd.clb_data as CLB_ORGANIZATION_END
    from 
    (select
        cpl.key_cod as KEY_COD_CAREPLAN,
        cpl.clb_data as CLB_CAREPLAN,
    	pnt.clb_data as CLB_PATIENT,
    	enc.clb_data as CLB_ENCOUNTER,
        lct.clb_data as CLB_LOCATION,
        srv.clb_data as CLB_SERVICE,
    	epi.clb_data as CLB_EPISODEOFCARE,
    	org.clb_data as CLB_ORGANIZATION,
    	pfm.clb_data as CLB_PERFORMER,
    	cpl.last_dt_updated,
    SUBSTR(EXTRACTVALUE(XMLTYPE(cpl.clb_data), 'CarePlan/contained/PractitionerRole/id[@value="pr-init"]/../organization/reference/@value', 'xmlns="http://hl7.org/fhir"'),
    		1 + INSTR(EXTRACTVALUE(XMLTYPE(cpl.clb_data), 'CarePlan/contained/PractitionerRole/id[@value="pr-init"]/../organization/reference/@value', 'xmlns="http://hl7.org/fhir"'), '/', -1)) AS COD_ORGANIZATION_INIT,
    SUBSTR(EXTRACTVALUE(XMLTYPE(cpl.clb_data), 'CarePlan/contained/PractitionerRole/id[@value="pr-init"]/../practitioner/reference/@value', 'xmlns="http://hl7.org/fhir"'),
    		1 + INSTR(EXTRACTVALUE(XMLTYPE(cpl.clb_data), 'CarePlan/contained/PractitionerRole/id[@value="pr-init"]/../practitioner/reference/@value', 'xmlns="http://hl7.org/fhir"'), '/', -1)) AS COD_PRACTITIONER_INIT,
    SUBSTR(EXTRACTVALUE(XMLTYPE(cpl.clb_data), 'CarePlan/contained/PractitionerRole/id[@value="pr-end"]/../organization/reference/@value', 'xmlns="http://hl7.org/fhir"'),
    		1 + INSTR(EXTRACTVALUE(XMLTYPE(cpl.clb_data), 'CarePlan/contained/PractitionerRole/id[@value="pr-end"]/../organization/reference/@value', 'xmlns="http://hl7.org/fhir"'), '/', -1)) AS COD_ORGANIZATION_END,
    SUBSTR(EXTRACTVALUE(XMLTYPE(cpl.clb_data), 'CarePlan/contained/PractitionerRole/id[@value="pr-end"]/../practitioner/reference/@value', 'xmlns="http://hl7.org/fhir"'),
    		1 + INSTR(EXTRACTVALUE(XMLTYPE(cpl.clb_data), 'CarePlan/contained/PractitionerRole/id[@value="pr-end"]/../practitioner/reference/@value', 'xmlns="http://hl7.org/fhir"'), '/', -1)) AS COD_PRACTITIONER_END           
    from us_hdr.dat_careplan cpl 
    left join us_hdr.dat_careplan_ref cpl_refPnt on (cpl.idx_id = cpl_refPnt.fk_resource_idx_id and upper(cpl_refPnt.dat_name) = 'PATIENT' and upper(cpl_refPnt.ref_type) = 'PATIENT')
    left join us_hdr.dat_patient pnt on (pnt.key_cod = cpl_refPnt.ref_id)
    left join us_hdr.dat_careplan_ref cpl_refEnc on (cpl.idx_id = cpl_refEnc.fk_resource_idx_id and upper(cpl_refEnc.dat_name) = 'ENCOUNTER' and upper(cpl_refEnc.ref_type) = 'ENCOUNTER')
    left join us_hdr.dat_encounter enc on (enc.key_cod = cpl_refEnc.ref_id)
    left join us_hdr.dat_encounter_ref enc_refLoc on (enc.idx_id = enc_refLoc.fk_resource_idx_id and upper(enc_refLoc.dat_name) = 'LOCATION' and upper(enc_refLoc.ref_type) = 'LOCATION')
    left join us_hdr.dat_location lct on (lct.key_cod = enc_refLoc.ref_id)
    left join us_hdr.dat_encounter_ref enc_refSrv on (enc.idx_id = enc_refSrv.fk_resource_idx_id and upper(enc_refSrv.dat_name) = 'SERVICE-PROVIDER' and upper(enc_refSrv.ref_type) = 'ORGANIZATION')
    left join us_hdr.dat_organization srv on (srv.key_cod = enc_refSrv.ref_id)
    left join us_hdr.dat_encounter_ref enc_refEpi on (enc.idx_id = enc_refEpi.fk_resource_idx_id and upper(enc_refEpi.dat_name) = 'EPISODE-OF-CARE' and upper(enc_refEpi.ref_type) = 'EPISODEOFCARE')
    left join us_hdr.dat_epeofcare epi on (epi.key_cod = enc_refEpi.ref_id)
    left join us_hdr.dat_epeofcare_ref epi_refOrg on (epi.idx_id = epi_refOrg.fk_resource_idx_id and upper(epi_refOrg.dat_name) = 'ORGANIZATION' and upper(epi_refOrg.ref_type) = 'ORGANIZATION')
    left join us_hdr.dat_organization org on (org.key_cod = epi_refOrg.ref_id)
    left join us_hdr.dat_careplan_ref cpl_refPfm on (cpl.idx_id = cpl_refPfm.fk_resource_idx_id and upper(cpl_refPfm.dat_name) = 'PERFORMER' and upper(cpl_refPfm.ref_type) = 'PRACTITIONER')
    left join us_hdr.dat_practitioner pfm on (pfm.key_cod = cpl_refPfm.ref_id)
    where cpl.clb_data is not null
    ) tableProcess
    left join us_hdr.dat_practitioner prtStr on (prtStr.key_cod = tableProcess.COD_PRACTITIONER_INIT)
    left join us_hdr.dat_organization orgStr on (orgStr.key_cod = tableProcess.COD_ORGANIZATION_INIT)
    left join us_hdr.dat_practitioner prtEnd on (prtEnd.key_cod = tableProcess.COD_PRACTITIONER_END)
    left join us_hdr.dat_organization orgEnd on (orgEnd.key_cod = tableProcess.COD_ORGANIZATION_END)
    where 
    tableProcess.last_dt_updated >= :#${header.processStartDate} and tableProcess.last_dt_updated < :#${exchangeProperty.processEndDate}
  externalResources_client_default_bdExtract_sql_Oracle_hnQuestResponse___queryQuestResponse.sql: |-
    select
        dtQstRsp.KEY_COD		                    		as ID_QUESTRESPONSE,
        dtTdTsk.TASK_ID							            as ID_TASK,
        dtTdTsk.TASK_CAREPLAN_ID							as ID_CAREPLAN,
      --  persona.id                                         as ID_PATIENT,
        dtTdTsk.TASK_PATIENT         						as COD_PATIENT,
        dtQstRspTkn.TKN_VALUE   							as COD_STATUS,
        dtTskRf.REF_ID  			        				as ID_ENCOUNTER,
        dtQstRspDte.DTE_LOW        							as DATE_RESPONSED,
        dtQstRspDte.DTE_LOW        							as DATE_RESPONSED_LTMZ,
        dtQstRsp.LAST_DT_UPDATED							as DATE_UPDATE
    from us_ohbpm.DAT_QUERESPONSE dtQstRsp
    left join us_ohbpm.DAT_TODO_TASK dtTdTsk on (dtTdTsk.TASK_QUERESPONSE_ID = dtQstRsp.KEY_COD)
    --left JOIN us_hnpob_v4.PERSONA persona on dtTdTsk.TASK_PATIENT=persona.codigo
    left join us_ohbpm.DAT_QUERESPONSE_TOKEN dtQstRspTkn on (dtQstRsp.IDX_ID = dtQstRspTkn.FK_RESOURCE_IDX_ID and dtQstRspTkn.DAT_NAME = 'status')
    left join us_ohbpm.DAT_QUERESPONSE_DATE dtQstRspDte on (dtQstRsp.IDX_ID = dtQstRspDte.FK_RESOURCE_IDX_ID and dtQstRspDte.dat_name='authored')
    left join us_ohbpm.DAT_TASK dtTsk on dtTdTsk.TASK_ID=dtTsk.key_cod
    left join us_ohbpm.DAT_TASK_REF dtTskRf on dtTsk.idx_id=dtTskRf.FK_RESOURCE_IDX_ID and dtTskRf.DAT_NAME='encounter'
    where dtQstRsp.LAST_DT_UPDATED >= :#${header.processStartDate} and dtQstRsp.LAST_DT_UPDATED < :#${exchangeProperty.processEndDate}
    and dtQstRspTkn.TKN_VALUE is not null
  externalResources_client_default_bdExtract_sql_Oracle_hnReport___queryReport.sql: |-
    select
        drf.key_cod as KEY_COD_DOCUMENTREFERENCE,
        drf.clb_data as CLB_DOCUMENTREFERENCE,
    	aut.clb_data as CLB_AUTHOR,
        pnt.clb_data as CLB_PATIENT,
    	enc.clb_data as CLB_ENCOUNTER,
    	epE.clb_data as CLB_EPISODEOFCARE_E,
    	epi.clb_data as CLB_EPISODEOFCARE,
        lct.clb_data as CLB_LOCATION,
        srv.clb_data as CLB_SERVICE
    from us_hdr.dat_dotreference drf
    left join us_hdr.dat_dotreference_ref drf_refAut on (drf.idx_id = drf_refAut.fk_resource_idx_id and upper(drf_refAut.dat_name) = 'AUTHOR' and upper(drf_refAut.ref_type) = 'PRACTITIONER')
    left join us_hdr.dat_practitioner aut on (aut.key_cod = drf_refAut.ref_id)
    left join us_hdr.dat_dotreference_ref drf_refPat on (drf.idx_id = drf_refPat.fk_resource_idx_id and upper(drf_refPat.dat_name) = 'PATIENT' and upper(drf_refPat.ref_type) = 'PATIENT')
    left join us_hdr.dat_patient pnt on (pnt.key_cod = drf_refPat.ref_id)
    left join us_hdr.dat_dotreference_ref drf_refEpE on (drf.idx_id = drf_refEpE.fk_resource_idx_id and upper(drf_refEpE.dat_name) = 'ENCOUNTER' and upper(drf_refEpE.ref_type) = 'EPISODEOFCARE')
    left join us_hdr.dat_epeofcare epE on (epE.key_cod = drf_refEpE.ref_id)
    left join us_hdr.dat_dotreference_ref drf_refEnc on (drf.idx_id = drf_refEnc.fk_resource_idx_id and upper(drf_refEnc.dat_name) = 'ENCOUNTER' and upper(drf_refEnc.ref_type) = 'ENCOUNTER')
    left join us_hdr.dat_encounter enc on (enc.key_cod = drf_refEnc.ref_id)
    left join us_hdr.dat_encounter_ref enc_refEpi on (enc.idx_id = enc_refEpi.fk_resource_idx_id and upper(enc_refEpi.dat_name) = 'EPISODE-OF-CARE' and upper(enc_refEpi.ref_type) = 'EPISODEOFCARE')
    left join us_hdr.dat_epeofcare epi on (epi.key_cod = enc_refEpi.ref_id)
    left join us_hdr.dat_encounter_ref enc_refLoc on (enc.idx_id = enc_refLoc.fk_resource_idx_id and upper(enc_refLoc.dat_name) = 'LOCATION' and upper(enc_refLoc.ref_type) = 'LOCATION')
    left join us_hdr.dat_location lct on (lct.key_cod = enc_refLoc.ref_id)
    left join us_hdr.dat_encounter_ref enc_refSrv on (enc.idx_id = enc_refSrv.fk_resource_idx_id and upper(enc_refSrv.dat_name) = 'SERVICE-PROVIDER' and upper(enc_refSrv.ref_type) = 'ORGANIZATION')
    left join us_hdr.dat_organization srv on (srv.key_cod = enc_refSrv.ref_id)
    where
    drf.last_dt_updated >= :#${header.processStartDate} and drf.last_dt_updated < :#${exchangeProperty.processEndDate}
  externalResources_client_default_bdExtract_sql_Oracle_hnServiceRequest___queryServiceRequest.sql: |-
    with
        tableEncounterPerformer AS (
            select
            sqt.key_cod as KEY_COD_SERVICEREQUEST,
            SUBSTR(EXTRACTVALUE(XMLTYPE(sqt.clb_data), '/ServiceRequest/extension[@url="http://hn.indra.es/fhir/StructureDefinition/ServiceRequest/encounter-performer"]/valueReference/reference/@value', 'xmlns="http://hl7.org/fhir"'),
                    1 + INSTR(EXTRACTVALUE(XMLTYPE(sqt.clb_data), '/ServiceRequest/extension[@url="http://hn.indra.es/fhir/StructureDefinition/ServiceRequest/encounter-performer"]/valueReference/reference/@value', 'xmlns="http://hl7.org/fhir"'), '/', -1)) AS ID_PERFORMER_ENCOUNTER
            from us_hdr.dat_servicerequest sqt
            where sqt.clb_data is not null and EXTRACTVALUE(XMLTYPE(sqt.clb_data), '/ServiceRequest/extension[@url="http://hn.indra.es/fhir/StructureDefinition/ServiceRequest/encounter-performer"]/valueReference/reference/@value', 'xmlns="http://hl7.org/fhir"') is not null
            	and sqt.last_dt_updated >= :#${header.processStartDate} and sqt.last_dt_updated < :#${exchangeProperty.processEndDate}
    )
    select
        sqt.key_cod as KEY_COD_SERVICEREQUEST,
        sqt.clb_data as CLB_SERVICEREQUEST,
    	pnt.clb_data as CLB_PATIENT,
        rtr.clb_data as CLB_REQUESTER,
        pfm.clb_data as CLB_PERFORMER,
    	enc.clb_data as CLB_ENCOUNTER,
        lct.clb_data as CLB_LOCATION,
        srv.clb_data as CLB_SERVICE,
    	epi.clb_data as CLB_EPISODEOFCARE,
    	org.clb_data as CLB_ORGANIZATION,
    	pfmEnc.clb_data as CLB_SCHEDULED_ENCOUNTER,
        pfmLct.clb_data as CLB_SCHEDULED_LOCATION,
    	pfmSrv.clb_data as CLB_SCHEDULED_SERVICE,
    	pfmEpi.clb_data as CLB_SCHEDULED_EPISODEOFCARE,
    	pfmOrg.clb_data as CLB_SCHEDULED_ORGANIZATION
    from us_hdr.dat_servicerequest sqt
    left join us_hdr.dat_servicerequest_ref sqt_refPnt on (sqt.idx_id = sqt_refPnt.fk_resource_idx_id and upper(sqt_refPnt.dat_name) = 'PATIENT' and upper(sqt_refPnt.ref_type) = 'PATIENT')
    left join us_hdr.dat_patient pnt on (pnt.key_cod = sqt_refPnt.ref_id)
    left join us_hdr.dat_servicerequest_ref sqt_refRtr on (sqt.idx_id = sqt_refRtr.fk_resource_idx_id and upper(sqt_refRtr.dat_name) = 'REQUESTER' and upper(sqt_refRtr.ref_type) = 'PRACTITIONER')
    left join us_hdr.dat_practitioner rtr on (rtr.key_cod = sqt_refRtr.ref_id)
    left join us_hdr.dat_servicerequest_ref sqt_refPfm on (sqt.idx_id = sqt_refPfm.fk_resource_idx_id and upper(sqt_refPfm.dat_name) = 'PERFORMER' and upper(sqt_refPfm.ref_type) = 'PRACTITIONER')
    left join us_hdr.dat_practitioner pfm on (pfm.key_cod = sqt_refPfm.ref_id)
    left join us_hdr.dat_servicerequest_ref sqt_refEnc on (sqt.idx_id = sqt_refEnc.fk_resource_idx_id and upper(sqt_refEnc.dat_name) = 'ENCOUNTER' and upper(sqt_refEnc.ref_type) = 'ENCOUNTER')
    left join us_hdr.dat_encounter enc on (enc.key_cod = sqt_refEnc.ref_id)
    left join us_hdr.dat_encounter_ref enc_refLoc on (enc.idx_id = enc_refLoc.fk_resource_idx_id and upper(enc_refLoc.dat_name) = 'LOCATION' and upper(enc_refLoc.ref_type) = 'LOCATION')
    left join us_hdr.dat_location lct on (lct.key_cod = enc_refLoc.ref_id)
    left join us_hdr.dat_encounter_ref enc_refSrv on (enc.idx_id = enc_refSrv.fk_resource_idx_id and upper(enc_refSrv.dat_name) = 'SERVICE-PROVIDER' and upper(enc_refSrv.ref_type) = 'ORGANIZATION')
    left join us_hdr.dat_organization srv on (srv.key_cod = enc_refSrv.ref_id)
    left join us_hdr.dat_encounter_ref enc_refEpi on (enc.idx_id = enc_refEpi.fk_resource_idx_id and upper(enc_refEpi.dat_name) = 'EPISODE-OF-CARE' and upper(enc_refEpi.ref_type) = 'EPISODEOFCARE')
    left join us_hdr.dat_epeofcare epi on (epi.key_cod = enc_refEpi.ref_id)
    left join us_hdr.dat_epeofcare_ref epi_refOrg on (epi.idx_id = epi_refOrg.fk_resource_idx_id and upper(epi_refOrg.dat_name) = 'ORGANIZATION' and upper(epi_refOrg.ref_type) = 'ORGANIZATION')
    left join us_hdr.dat_organization org on (org.key_cod = epi_refOrg.ref_id)
    left join tableEncounterPerformer on (tableEncounterPerformer.KEY_COD_SERVICEREQUEST = sqt.key_cod)
    left join us_hdr.dat_encounter pfmEnc on (pfmEnc.key_cod = tableEncounterPerformer.ID_PERFORMER_ENCOUNTER)
    left join us_hdr.dat_encounter_ref pfmEnc_refLoc on (pfmEnc.idx_id = pfmEnc_refLoc.fk_resource_idx_id and upper(pfmEnc_refLoc.dat_name) = 'LOCATION' and upper(pfmEnc_refLoc.ref_type) = 'LOCATION')
    left join us_hdr.dat_location pfmLct on (pfmLct.key_cod = enc_refLoc.ref_id)
    left join us_hdr.dat_encounter_ref pfmEnc_refSrv on (pfmEnc.idx_id = pfmEnc_refSrv.fk_resource_idx_id and upper(pfmEnc_refSrv.dat_name) = 'SERVICE-PROVIDER' and upper(pfmEnc_refSrv.ref_type) = 'ORGANIZATION')
    left join us_hdr.dat_organization pfmSrv on (pfmSrv.key_cod = pfmEnc_refSrv.ref_id)
    left join us_hdr.dat_encounter_ref pfmEnc_refEpi on (pfmEnc.idx_id = pfmEnc_refEpi.fk_resource_idx_id and upper(pfmEnc_refEpi.dat_name) = 'EPISODE-OF-CARE' and upper(pfmEnc_refEpi.ref_type) = 'EPISODEOFCARE')
    left join us_hdr.dat_epeofcare pfmEpi on (pfmEpi.key_cod = pfmEnc_refEpi.ref_id)
    left join us_hdr.dat_epeofcare_ref pfmEpi_refOrg on (pfmEpi.idx_id = pfmEpi_refOrg.fk_resource_idx_id and upper(pfmEpi_refOrg.dat_name) = 'ORGANIZATION' and upper(pfmEpi_refOrg.ref_type) = 'ORGANIZATION')
    left join us_hdr.dat_organization pfmOrg on (pfmOrg.key_cod = pfmEpi_refOrg.ref_id)
    where
    sqt.last_dt_updated >= :#${header.processStartDate} and sqt.last_dt_updated < :#${exchangeProperty.processEndDate}
  externalResources_client_default_bdExtract_sql_Oracle_hnServiceRequest___queryServiceRequestEvent.sql: |-
    select
    null ID_SERVICEREQUEST, 
    null ID_EVENT_ORDER,
    null as CLB_PATIENT,
    null as CLB_EVENT,
    null,
    null as EVENT_PERFORMER_FULLNAME,
    null as CLB_CENTRO_1, 
    null as CLB_CENTRO_2,
    null N_TIME
    from DUAL where 1 = -1
  externalResources_client_default_bdExtract_sql_Oracle_hnServiceRequestCondition___queryServiceRequestCondition.sql: |-
    SELECT  distinct
    		sqt.key_cod as KEY_COD_SERVICEREQUEST,
            SUBSTR(xt.REFERENCE_CONDITION,
                   1 + INSTR(xt.REFERENCE_CONDITION, '/', -1)) as KEY_COD_CONDITION
    FROM   us_hdr.dat_servicerequest sqt,
                   XMLTABLE(xmlnamespaces(default 'http://hl7.org/fhir'),
                     '/ServiceRequest/reasonReference'
                     PASSING XMLTYPE(sqt.clb_data)
                     COLUMNS
                       REFERENCE_CONDITION VARCHAR2(100) PATH 'reference/@value'
                     ) xt
    where 'Condition/' = SUBSTR(xt.REFERENCE_CONDITION,
                                1,
                                INSTR(xt.REFERENCE_CONDITION, '/', -1))
    	  and sqt.last_dt_updated >= :#${header.processStartDate} and sqt.last_dt_updated < :#${exchangeProperty.processEndDate}
  externalResources_client_default_bdExtract_sql_Oracle_hnTask___queryTask.sql: |-
    with
        tableRecorder AS (SELECT
            enc.key_cod as cod_encounter,
            EXTRACTVALUE(XMLTYPE(enc.clb_data), '/Encounter/class/code/@value', 'xmlns="http://hl7.org/fhir"') AS COD_CARELINE,
            EXTRACTVALUE(XMLTYPE(enc.clb_data), '/Encounter/class/display/@value', 'xmlns="http://hl7.org/fhir"') AS DESC_CARELINE	
            from us_hdr.dat_encounter enc 
            where enc.clb_data is not null
        ),
        practitionerFullName AS (SELECT
            pfn.DAT_URL as url_pfn,
            EXTRACTVALUE(XMLTYPE(pfn.clb_data), '/PractitionerRole/practitioner/display/@value', 'xmlns="http://hl7.org/fhir"') AS nombrePFull	
            from us_ohbpm.DAT_PRRROLE pfn where KEY_COD like '%pr-init%' and DAT_URL like 'Task%'
            and pfn.clb_data is not null
        ),
        practitionerFullName2 AS (SELECT
            pfn.DAT_URL as url_pfn,
            EXTRACTVALUE(XMLTYPE(pfn.clb_data), '/PractitionerRole/practitioner/display/@value', 'xmlns="http://hl7.org/fhir"') AS nombrePFull	
            from us_ohbpm.DAT_PRRROLE pfn where KEY_COD like '%pr-last_update%' and DAT_URL like 'Task%'
            and pfn.clb_data is not null
        )
    select 
        task.TASK_ID as ID_TASK,
        task.TASK_CAREPLAN_ID as ID_CAREPLAN,
       -- persona.id AS ID_PATIENT,
        task.TASK_PATIENT as COD_PATIENT,
        persona.cod_sexo as PATIENT_COD_GENDER,
        task.TASK_STATUS as COD_STATUS,
        token.TKN_VALUE as COD_INTENT,  
        task.TASK_PRIORITY as COD_PRIORITY,
        ref.REF_ID as ID_ENCOUNTER, 
        enc.COD_CARELINE as COD_CARELINE,
        CASE WHEN enc.DESC_CARELINE IS NOT NULL THEN enc.DESC_CARELINE ELSE enc.COD_CARELINE END AS DESC_CARELINE,
        task.TASK_DATE_INI_EXECUTION AS DATE_CREATED,
        task.TASK_DATE_INI_EXECUTION AS DATE_CREATED_LTMZ,
        task.TASK_DATE_INI_EXECUTION AS DATE_START,
        task.TASK_DATE_INI_EXECUTION AS DATE_START_LTMZ,
        task.TASK_DATE_END_EXECUTION AS DATE_END,
        task.TASK_DATE_END_EXECUTION AS DATE_END_LTMZ,
        prRef.REF_ID AS COD_ORGANIZATION_REQUESTER,
        org.dat_name AS DESC_ORGANIZATION_REQUESTER,
        prPractRef.REF_ID as COD_PRACTITIONER_REQUESTER,
        pfn.nombrePFull as PRACTITIONER_REQUESTER_FULLNAME,
        prRef2.REF_ID as COD_ORGANIZATION_PERFORMER,
        org2.dat_name AS DESC_ORGANIZATION_PERFORMER,
        prPractRef2.REF_ID as COD_PRACTITIONER_PERFORMER,
        pfn2.nombrePFull as PRACTITIONER_PERFORMER_FULLNAME,
        task.TASK_LAST_UPDATE as DATE_UPDATE
    from us_ohbpm.DAT_TODO_TASK task
    inner join us_ohbpm.dat_task taskOriginal on task.TASK_ID=taskOriginal.key_cod
    left join us_ohbpm.DAT_TASK_TOKEN token on task.TASK_IDX=token.FK_RESOURCE_IDX_ID and token.DAT_NAME='intent'
    left join us_ohbpm.DAT_TASK_REF ref on task.TASK_IDX=ref.FK_RESOURCE_IDX_ID and ref.DAT_NAME='encounter'
    left JOIN us_hnpob_v4.PERSONA persona on task.TASK_PATIENT=persona.codigo
    left join tableRecorder enc on enc.cod_encounter=ref.REF_ID
    left join us_ohbpm.DAT_PRRROLE pr on pr.DAT_URL = 'Task/' || task.TASK_ID and pr.KEY_COD like '%pr-init%'
    inner join us_ohbpm.DAT_PRRROLE_REF prRef on prRef.FK_RESOURCE_IDX_ID=pr.IDX_ID 
    AND prRef.DAT_NAME='organization'
    left join US_HNAUT_V4.DAT_ORGANIZATION org on org.cod_key=prRef.REF_ID
    left join us_ohbpm.DAT_PRRROLE prPract on prPract.DAT_URL = 'Task/' || task.TASK_ID and prPract.KEY_COD like '%pr-init%'
    inner join us_ohbpm.DAT_PRRROLE_REF prPractRef on prPractRef.FK_RESOURCE_IDX_ID=prPract.IDX_ID 
    AND prPractRef.DAT_NAME='practitioner'
    left join practitionerFullName pfn on pfn.url_pfn='Task/' || task.TASK_ID
    left join us_ohbpm.DAT_PRRROLE pr2 on pr2.DAT_URL = 'Task/' || task.TASK_ID and pr2.KEY_COD like '%pr-last_update%'
    inner join us_ohbpm.DAT_PRRROLE_REF prRef2 on prRef2.FK_RESOURCE_IDX_ID=pr2.IDX_ID 
    AND prRef2.DAT_NAME='organization'
    left join US_HNAUT_V4.DAT_ORGANIZATION org2 on org2.cod_key=prRef2.REF_ID
    left join us_ohbpm.DAT_PRRROLE prPract2 on prPract2.DAT_URL = 'Task/' || task.TASK_ID and prPract2.KEY_COD like '%pr-last_update%'
    inner join us_ohbpm.DAT_PRRROLE_REF prPractRef2 on prPractRef2.FK_RESOURCE_IDX_ID=prPract2.IDX_ID 
    AND prPractRef2.DAT_NAME='practitioner'
    left join practitionerFullName2 pfn2 on pfn2.url_pfn='Task/' || task.TASK_ID
    where task.TASK_STATUS is not null and token.TKN_VALUE is not null and task.TASK_LAST_UPDATE is not null and task.TASK_TYPE in ('humanTask','userTask') 
  externalResources_client_default_bdExtract_sql_Oracle_hnVitalsign___queryVitalsign.sql: |-
    select
    	obs.key_cod as KEY_COD_VITALSIGN,
    	obs.clb_data as CLB_VITALSIGN,
    	enc.clb_data as CLB_ENCOUNTER,
    	lct.clb_data as CLB_LOCATION,
    	pnt.clb_data as CLB_PATIENT
    from us_hdr.dat_observation obs
    left join us_hdr.dat_observation_ref obs_refEnc on (obs.idx_id = obs_refEnc.fk_resource_idx_id and upper(obs_refEnc.dat_name) = 'ENCOUNTER' and upper(obs_refEnc.ref_type) = 'ENCOUNTER')
    left join us_hdr.dat_encounter enc on (enc.key_cod = obs_refEnc.ref_id)
    left join us_hdr.dat_encounter_ref enc_refLoc on (enc.idx_id = enc_refLoc.fk_resource_idx_id and upper(enc_refLoc.dat_name) = 'LOCATION' and upper(enc_refLoc.ref_type) = 'LOCATION')
    left join us_hdr.dat_location lct on (lct.key_cod = enc_refLoc.ref_id)
    left join us_hdr.dat_observation_ref obs_refPnt on (obs.idx_id = obs_refPnt.fk_resource_idx_id and upper(obs_refPnt.dat_name) = 'PATIENT' and upper(obs_refPnt.ref_type) = 'PATIENT')
    left join us_hdr.dat_patient pnt on (pnt.key_cod = obs_refPnt.ref_id)
    left join us_hdr.dat_observation_token obs_tkn on (obs.idx_id = obs_tkn.fk_resource_idx_id)
    where (upper(obs_tkn.dat_name) = 'CATEGORY' and upper(obs_tkn.tkn_value) = 'VITAL-SIGNS')
    and obs.last_dt_updated >= :#${header.processStartDate} and obs.last_dt_updated < :#${exchangeProperty.processEndDate}
  externalResources_client_default_bdExtract_sql_Oracle_hnaut___queryAutConfigProc.sql: |-
    with tableOrganization AS (
            select
                org.idx_id as ID,
                org.cod_key as COD,
                org.dat_name as DES,
                orgF.idx_id as FID,
                orgF.cod_key as FCOD,
                orgF.dat_name as FDES
            from US_HNAUT_V4.dat_organization org
            left join US_HNAUT_V4.dat_organization orgF on (orgF.idx_id = org.fk_part_of)
        )
    select
    distinct
    	vw_bds.benefit as COD_PROCEDURE,
    	c_iDem.dat_name as DESC_PROCEDURE,
    	orgDem.ID as ID_APPLICANT_ORG,
    	orgDem.COD as COD_APPLICANT_ORG,
    	orgDem.DES as DESC_APPLICANT_ORG,
    	orgDem.FID  as ID_ANCESTOR_APPLICANT_ORG,
    	orgDem.FCOD as COD_ANCESTOR_APPLICANT_ORG,
    	orgDem.FDES as DESC_ANCESTOR_APPLICANT_ORG,
    	orgSup.ID as ID_PERFORMER_ORG,
    	orgSup.COD as COD_PERFORMER_ORG,
    	orgSup.DES as DESC_PERFORMER_ORG,
    	orgSup.FID as ID_ANCESTOR_PERFORMER_ORG,
    	orgSup.FCOD as COD_ANCESTOR_PERFORMER_ORG,
    	orgSup.FDES as DESC_ANCESTOR_PERFORMER_ORG
    from US_HNAUT_V4.vw_benefits_demand_supply vw_bds
    inner join US_HNAUT_V4.dat_config_benefit d_cb on (d_cb.dat_benefit_cod = vw_bds.benefit)
    inner join tableOrganization orgDem on (orgDem.cod = vw_bds.cod_unit_dem)
    left join tableOrganization orgSup on (orgSup.cod = vw_bds.cod_unit_sup)
    left join US_HNCAT_V4.dat_benefit c_bDem on (c_bDem.idx_id = d_cb.idx_id)
    left join US_HNCAT_V4.dat_item c_iDem on (c_iDem.key_cod = vw_bds.benefit)
    inner join US_HNCAT_V4.DAT_CAT_VER_ITEMS cvi on cvi.IDX_ID = c_iDem.fk_catalog_version
    inner join US_HNCAT_V4.DAT_CATALOG cat on cat.idx_id = cvi.fk_catalog and cat.key_cod = 'benefit'
    left join US_HNCAT_V4.dat_benefit_gender c_bgDem on (c_bgDem.fk_benefit = c_bDem.idx_id)
    left join US_HNCAT_V4.dat_item c_igDem on (c_igDem.idx_id = c_bgDem.fk_gender)
    where vw_bds.benefit is not null and c_iDem.dat_name is not null and orgDem.ID is not null and orgDem.COD is not null and 
    orgDem.DES is not null and orgSup.ID is not null and orgSup.COD is not null and orgSup.DES is not null
  externalResources_client_default_bdExtract_sql_Oracle_hnaut___queryAutExtension.sql: |-
    with
        tableExtensionTipoProfNumExists AS (
            SELECT
                d_oRes.idx_id IDX_ID,
                d_oRes.organization_json AS JSON_DATA
            FROM
            US_HNAUT_V4.dat_organization_resource d_oRes
            WHERE json_exists(d_oRes.organization_json, '$.extension.extension')
        ),
        tableExtensionTipoProfNum AS (
            SELECT
                d_oRes.idx_id       AS IDX_ID,
                jt.prof_name         AS prof_name,
                jt.prof_code          AS prof_code,
                jt.counter          AS prof_count
            FROM
            tableExtensionTipoProfNumExists d_oRes,
            json_table(d_oRes.JSON_DATA, '$.extension[*]'
                        COLUMNS (url path '$.url' NULL ON ERROR,
                                counter VARCHAR2(100) PATH '$.extension.valueString' NULL ON ERROR,
                                prof_name VARCHAR2(100)  path '$.extension.valueCoding.display' NULL ON ERROR,
                                prof_code VARCHAR2(100)  path '$.extension.valueCoding.code' NULL ON ERROR
                                         )
                                       ) AS jt
            WHERE jt.url='http://hn.indra.es/fhir/StructureDefinition/perfil-profesionales'
        ),
        tableExtensionClassificationExists AS (
            SELECT
                d_oRes.idx_id IDX_ID,
                d_oRes.organization_json AS JSON_DATA
            FROM
            US_HNAUT_V4.dat_organization_resource d_oRes
            --WHERE json_exists(d_oRes.organization_json, '$.meta.tags')
            WHERE json_exists(d_oRes.organization_json, '$.extension.valueCodeableConcept')
        ),
        tableExtensionClassification AS (
    		SELECT
    			d_oRes.idx_id       AS IDX_ID,
    			jt.ext_name         AS EXT_NAME,
    			jt.ext_cod          AS EXT_COD,
    			jt.display          AS DISPLAY
    		FROM
    			tableExtensionClassificationExists d_oRes,
    			json_table(d_oRes.JSON_DATA, '$.extension[*]'
    					COLUMNS (ext_name VARCHAR2(200) path '$.url',
    					NESTED path '$.valueCodeableConcept.coding[*]'
    						COLUMNS (
    							ext_cod VARCHAR2(100) PATH '$.code' NULL ON ERROR,
    							display VARCHAR2(100) PATH '$.display' NULL ON ERROR
    						)
    					)) AS jt
    		WHERE jt.ext_name = 'http://hn.indra.es/hncat/fhir/ValueSet/organization_subtype'
    	),
        tableExtensionSectorExists AS (
            SELECT
                d_oRes.idx_id IDX_ID,
                d_oRes.organization_json AS JSON_DATA
            FROM
            US_HNAUT_V4.dat_organization_resource d_oRes
            WHERE json_exists(d_oRes.organization_json, '$.identifier.type.coding')
        ),
        tableExtensionSector AS (
    		SELECT
    			d_oRes.idx_id       AS IDX_ID,
    			jt.ext_value         AS EXT_VAL
    		FROM
    			tableExtensionSectorExists d_oRes,
    			json_table(d_oRes.JSON_DATA, '$.identifier[*]'
    					COLUMNS (ext_value VARCHAR2(200) path '$.value' NULL ON ERROR,
                        codigo VARCHAR2(200) path '$.type.coding.code' NULL ON ERROR
    					)) AS jt
    		WHERE jt.codigo = 'Cod_Sector'
    	),
    	  tableJsonOrganizationTypeExists AS (
            SELECT d_oRes.idx_id IDX_ID, d_oRes.organization_json AS JSON_DATA 
            FROM US_HNAUT_V4.dat_organization_resource d_oRes
            WHERE json_exists(d_oRes.organization_json, '$.type.coding[0].display')
            ),
    	  tableJsonOrganizationType AS (
            SELECT tableJson.idx_id AS IDX_ID, jt.cod_type AS COD_TYPE, jt.desc_type AS DESC_TYPE
            FROM tableJsonOrganizationTypeExists tableJson, 
            json_table(tableJson.JSON_DATA, '$.type.coding[0]' COLUMNS (cod_type VARCHAR2(200) path '$.code' NULL ON ERROR, desc_type VARCHAR2(200) path '$.display' NULL ON ERROR) ) AS jt
            ),
        DTS_AUT_ORGANIZATION AS (
          SELECT 
    	    org.IDX_ID						AS ID_ORG,
    	    org.COD_KEY						AS COD_ORG,
    	    orgType.COD_TYPE				AS COD_TYPE
          FROM US_HNAUT_V4.DAT_ORGANIZATION org
    	  LEFT JOIN tableJsonOrganizationType orgType 
    		ON org.FK_ORGANIZATION_JSON = orgType.IDX_ID
          START WITH org.FK_PART_OF IS NULL 
          CONNECT BY PRIOR org.IDX_ID = org.FK_PART_OF)
    SELECT
        'DTS_AUT_ORGANIZATION' as COD_TABLE,
        d_aOrg.cod_org as COD_VALUE_TABLE,
        'SECTOR' as COD_FIELD,
        tExtSect.EXT_VAL as VALUE1_FIELD,
    	NULL as VALUE2_FIELD
    FROM DTS_AUT_ORGANIZATION d_aOrg
    inner join US_HNAUT_V4.dat_organization d_org on (d_org.idx_id = d_aOrg.id_org)
    inner join tableExtensionSector tExtSect on (tExtSect.idx_id = d_org.fk_organization_json)
    WHERE d_aOrg.cod_type='crt' and d_aOrg.cod_org is not null and tExtSect.EXT_VAL is not null
    UNION
    SELECT
        'DTS_AUT_ORGANIZATION' as COD_TABLE,
        d_aOrg.cod_org as COD_VALUE_TABLE,
        'CLASSIFICATION' as COD_FIELD,
        tExtClass.EXT_COD as VALUE1_FIELD,
        CASE WHEN tExtClass.DISPLAY IS NOT NULL THEN tExtClass.DISPLAY ELSE tExtClass.EXT_COD END as VALUE2_FIELD
    FROM DTS_AUT_ORGANIZATION d_aOrg
    inner join US_HNAUT_V4.dat_organization d_org on (d_org.idx_id = d_aOrg.id_org)
    inner join tableExtensionClassification tExtClass on (tExtClass.idx_id = d_org.fk_organization_json)
    WHERE d_aOrg.cod_type='crt' and d_aOrg.cod_org is not null and tExtClass.EXT_COD is not null
    UNION
    SELECT 
        'DTS_AUT_ORGANIZATION' as COD_TABLE,
        d_aOrg.cod_org as COD_VALUE_TABLE,
        'TIPOPROFNUM' as COD_FIELD,
        tExtProf.prof_code as VALUE1_FIELD,
    	tExtProf.prof_count as VALUE2_FIELD
    FROM DTS_AUT_ORGANIZATION d_aOrg
    INNER JOIN US_HNAUT_V4.dat_organization d_org on (d_org.idx_id = d_aOrg.id_org)
    INNER JOIN tableExtensionTipoProfNum tExtProf on (tExtProf.idx_id = d_org.fk_organization_json)
    WHERE d_aOrg.cod_type='crt' and d_aOrg.cod_org is not null and tExtProf.prof_code is not null
  externalResources_client_default_bdExtract_sql_Oracle_hnaut___queryAutLocation.sql: |-
    with tableType as (
        select
            item.key_cod,
            item.dat_name
        from US_HNCAT_V4.DAT_ITEM item
        join US_HNCAT_V4.DAT_CAT_VER_ITEMS cvi on cvi.IDX_ID = item.FK_CATALOG_VERSION
        join US_HNCAT_V4.DAT_CATALOG cat on cat.IDX_ID = cvi.FK_CATALOG and cat.KEY_COD = 'tipo_organization'
        ),
    jsonExists AS (
        select * from US_HNAUT_V4.dat_location_resource js
        where json_exists(js.location_json, '$.address')
        ),
    locAdd AS (
        select res.idx_id idx_id, jt.cp_a,jt.city_a,jt.line_a from jsonExists res, 
        json_table(res.location_json, '$.address' COLUMNS (
        cp_a VARCHAR(20) path '$.postalCode' NULL ON ERROR
        ,city_a VARCHAR(50) path '$.city' NULL ON ERROR
        ,line_a VARCHAR(200) path '$.line[0]' NULL ON ERROR)) jt
        ),
    identExists AS (
        select * from US_HNAUT_V4.dat_location_resource js
        where json_exists(js.location_json, '$.identifier')
        ),
    loc_identifiers AS (
        select res.IDX_ID, LISTAGG(jt.code_i || '|' || jt.desc_i , '*') WITHIN GROUP(ORDER BY jt.code_i) as identifiers from
        identExists res, 
        json_table(res.location_json, '$.identifier[*]' COLUMNS (
        code_i VARCHAR(50) path '$.type.coding[*].code' NULL ON ERROR
        ,desc_i VARCHAR(200) path '$.value' NULL ON ERROR)) jt 
        group by res.IDX_ID 
        ) 
    SELECT 
        loc.idx_id as ID_LOC,
        loc.cod_key as COD_LOC,
        vpnr.IDENTIFIERS as COD2_LOC,
        loc.dat_name as DESC_LOC,
        loc.cod_type as COD_TYPE,
        typLoc.dat_name as DESC_TYPE,
        locAnc.idx_id as ID_ANCESTOR,
        locAnc.cod_key as COD_ANCESTOR,
        locAnc.dat_name as DESC_ANCESTOR,
        locadd.city_a as CITY,
        locadd.cp_a as POSTAL_CODE,
        locAdd.line_a as ADDRESS
    FROM 
      US_HNAUT_V4.DAT_LOCATION loc
      left join locAdd ON loc.FK_LOCATION_JSON = locAdd.idx_id
      left join tableType typLoc on (typLoc.key_cod = loc.cod_type)
      left join US_HNAUT_V4.dat_location locAnc on (loc.fk_part_of = locAnc.idx_id)
      left join loc_identifiers vpnr on (loc.FK_LOCATION_JSON = vpnr.idx_id)
    WHERE 
        CASE WHEN loc.fx_modification IS NOT NULL THEN loc.fx_modification ELSE loc.fx_creation END >= :#${header.processStartDate} and
        CASE WHEN loc.fx_modification IS NOT NULL THEN loc.fx_modification ELSE loc.fx_creation END < :#${exchangeProperty.processEndDate}
        AND loc.idx_id is not null and loc.cod_key is not null and loc.dat_name is not null
    START WITH loc.fk_part_of IS NULL 
    CONNECT BY PRIOR loc.idx_id = loc.fk_part_of 
  externalResources_client_default_bdExtract_sql_Oracle_hnaut___queryAutOrgLoc.sql: |-
    with tableType as (
        select
            item.key_cod,
            item.dat_name
        from US_HNCAT_V4.DAT_ITEM item
        inner join US_HNCAT_V4.DAT_CAT_VER_ITEMS cvi 
        on cvi.IDX_ID = item.FK_CATALOG_VERSION
        inner join US_HNCAT_V4.DAT_CATALOG cat 
        on cat.IDX_ID = cvi.FK_CATALOG and cat.KEY_COD = 'tipo_organization'
    ),
    tableTypeLoc as (
        select
            item.key_cod,
            item.dat_name
        from US_HNCAT_V4.DAT_ITEM item
        inner join US_HNCAT_V4.DAT_CAT_VER_ITEMS cvi 
        on cvi.IDX_ID = item.FK_CATALOG_VERSION
        inner join US_HNCAT_V4.DAT_CATALOG cat 
        on cat.IDX_ID = cvi.FK_CATALOG and cat.KEY_COD = 'tipo_location'
    )
    select distinct 
        org.idx_id as ID_ORG,
    	org.cod_key as COD_ORG,
    	org.dat_name as DESC_ORG,
    	org.cod_type as COD_TYPE_ORG,
    	typOrg.dat_name as DESC_TYPE_ORG,
    	loc.idx_id as ID_LOC,
    	loc.cod_key as COD_LOC,
    	loc.dat_name as DESC_LOC,
    	loc.cod_type as COD_TYPE_LOC,
    	typLoc.dat_name as DESC_TYPE_LOC
    from US_HNAUT_V4.rel_location_organization locOrg
    inner join US_HNAUT_V4.dat_organization org on (org.idx_id = locOrg.fk_organization)
    inner join US_HNAUT_V4.dat_location loc on (loc.idx_id = locOrg.fk_location)
    inner join tableType typOrg on (typOrg.key_cod = org.cod_type)
    inner join tableTypeLoc typLoc on (typLoc.key_cod = loc.cod_type)
    where org.idx_id is not null and org.cod_key is not null and org.dat_name is not null
    and loc.idx_id is not null and loc.cod_key is not null and loc.dat_name is not null
  externalResources_client_default_bdExtract_sql_Oracle_hnaut___queryAutOrgProcLabel.sql: |-
    with
        tableJsonMetaTags AS (
                            SELECT
                                d_oRes.idx_id IDX_ID,
                                d_oRes.organization_json AS JSON_DATA
                            FROM
                                US_HNAUT_V4.dat_organization_resource d_oRes
                            WHERE json_exists(d_oRes.organization_json, '$.meta.tag')
                            ),
         tableJsonLabel AS (
                            SELECT
                                tableJson.idx_id    AS IDX_ID,
                                jt.cod_label        AS COD_LABEL,
                                jt.desc_label       AS DESC_LABEL
                            FROM
                                tableJsonMetaTags tableJson,
                                json_table(tableJson.JSON_DATA, '$.meta.tag[*]' 
                                	COLUMNS (cod_label VARCHAR2(200) path '$.code' NULL ON ERROR, 
                                	desc_label VARCHAR2(200) path '$.display' NULL ON ERROR)
                                	) AS jt
                            )
    select
        d_org.idx_id as ID_ORG,
        d_org.cod_key as COD_ORG,
        d_org.dat_name as DESC_ORG,
        vw_bds.benefit as COD_PROCEDURE,
        c_iDem.dat_description as DESC_PROCEDURE,
        tL.COD_LABEL as COD_LABEL,
        tL.DESC_LABEL as DESC_LABEL
    from US_HNAUT_V4.vw_benefits_demand_supply vw_bds
    inner join US_HNAUT_V4.dat_config_benefit d_cb on (d_cb.dat_benefit_cod = vw_bds.benefit)
    inner join US_HNCAT_V4.dat_item c_iDem on (c_iDem.key_cod=d_cb.dat_benefit_cod)
    inner join US_HNCAT_V4.dat_benefit c_bDem on (c_bdem.fk_benefit = c_iDem.idx_id)
    inner join US_HNAUT_V4.dat_organization d_org on (d_org.cod_key = vw_bds.cod_unit_sup)
    left join tableJsonLabel tL on (tl.idx_id = d_org.fk_organization_json)
    where d_org.idx_id is not null and d_org.cod_key is not null and vw_bds.benefit is not null and tL.COD_LABEL is not null
  externalResources_client_default_bdExtract_sql_Oracle_hnaut___queryOrganizations.sql: |-
    with
    	tableJsonOrganizationTypeExists AS (
                            SELECT
                                d_oRes.idx_id IDX_ID,
                                d_oRes.organization_json AS JSON_DATA
                            FROM
                                US_HNAUT_V4.dat_organization_resource d_oRes
                            WHERE json_exists(d_oRes.organization_json, '$.type.coding[0]')
                            ),
    	tableJsonOrganizationType AS (
                            SELECT
                                tableJson.idx_id    AS IDX_ID,
                                jt.cod_type        AS COD_TYPE,
                                jt.desc_type       AS DESC_TYPE
                            FROM
                                tableJsonOrganizationTypeExists tableJson,
                                json_table(tableJson.JSON_DATA, '$.type.coding[0]' 
                                	COLUMNS (cod_type VARCHAR2(200) path '$.code' NULL ON ERROR, 
                                	desc_type VARCHAR2(200) path '$.display' NULL ON ERROR) 
                                	) AS jt
                            ),
    	tableJsonTelecomExists AS (
                            SELECT
                                d_oRes.idx_id               AS IDX_ID,
                                d_oRes.organization_json    AS JSON_DATA
                            FROM
                                US_HNAUT_V4.dat_organization_resource d_oRes
                            WHERE json_exists(d_oRes.organization_json, '$.contact.telecom[*]')
                            ),
    	tableJsonTelecom AS (
                            SELECT
                                tableJson.idx_id   AS IDX_ID,
                                jt.system          AS SYSTEM,
                                jt.value           AS VALUE,
                                json_value(tableJson.JSON_DATA, '$.contact.name.text') AS NAME_CONTACT
                            FROM
                                tableJsonTelecomExists tableJson,
                                json_table(tableJson.JSON_DATA, '$.contact.telecom[*]' 
                                            COLUMNS (   system VARCHAR2(200) path '$.system' NULL ON ERROR, 
                                                        value VARCHAR2(200) path '$.value' NULL ON ERROR) 
                                                    ) AS jt
                            WHERE
                                jt.system is NULL or jt.system like 'email' or jt.system like 'phone'
                            )
    SELECT 
    	org.IDX_ID						AS ID_ORG,
    	org.COD_KEY						AS COD_ORG,
    	orgIden.DAT_IDENTIFIER			AS COD2_ORG,	
    	org.DAT_NAME					AS DESC_ORG,
    	orgType.COD_TYPE				AS COD_TYPE,
    	orgType.DESC_TYPE				AS DESC_TYPE,
    	orgAncestor.IDX_ID				AS ID_ANCESTOR,
    	orgAncestor.COD_KEY				AS COD_ANCESTOR,
    	orgAncestor.DAT_NAME			AS DESC_ANCESTOR,
    	orgTelePhone.VALUE				AS TELEPHONE,
    	orgTeleMail.VALUE				AS MAIL,
    	orgTeleMail.NAME_CONTACT		AS NAME_CONTACT,
    	SUBSTR(org.DAT_OBSERV,1,400)	AS OBSERVATIONS,
        rownum							AS ID_ROW 
    FROM US_HNAUT_V4.DAT_ORGANIZATION org
    	LEFT OUTER JOIN	US_HNAUT_V4.DAT_ORGANIZATION orgAncestor 
    		ON org.FK_PART_OF = orgAncestor.IDX_ID
    	LEFT JOIN tableJsonOrganizationType orgType 
    		ON org.FK_ORGANIZATION_JSON = orgType.IDX_ID
        LEFT JOIN US_HNAUT_V4.DAT_ORGANIZATION_IDENTIFIER orgIden
    		ON org.IDX_ID = orgIden.FK_ORGANIZATION 
            AND orgIden.DAT_TYPE_IDENTIFIER = 'SEC'
    	left join tableJsonTelecom orgTeleMail on (org.FK_ORGANIZATION_JSON = orgTeleMail.IDX_ID and orgTeleMail.SYSTEM like 'email')
    	left join tableJsonTelecom orgTelePhone on (org.FK_ORGANIZATION_JSON = orgTelePhone.IDX_ID and orgTelePhone.SYSTEM like 'phone')	   
    where org.IDX_ID is not null and org.COD_KEY is not null and org.DAT_NAME is not null
    START WITH org.FK_PART_OF IS NULL 
    CONNECT BY PRIOR org.IDX_ID = org.FK_PART_OF
  externalResources_client_default_bdExtract_sql_Oracle_hnaut___queryPractitioner.sql: |-
    SELECT pr.idx_id               AS ID_PRACTITIONER,
           pr.dat_cod_practitioner AS COD_PRACTITIONER, 
           pr.flg_active           AS FLG_ACTIVE, 
           nameGiven.ds_value      AS NAME, 
           surname1.ds_value       AS SURNAME1, 
           surname2.ds_value       AS SURNAME2, 
           pr.dt_birth_date        AS DATE_BIRTH, 
           pr.dat_cod_gender       AS COD_GENDER, 
           pr.dat_cod_gender       AS DESC_GENDER, 
           pr.dt_creation          AS DATE_CREATED, 
           pr.dt_modification      AS DATE_MODIF 
        FROM US_HNAUT_V4.DAT_PRACTITIONER pr 
           left outer join US_HNAUT_V4.DAT_USER_NAME fullName 
                        ON fullName.fk_user_id = pr.idx_id 
           left outer join US_HNAUT_V4.DAT_NAME_FIELD nameGiven 
                        ON nameGiven.fk_user_name_id = fullName.idx_id 
                           AND nameGiven.type_field = 1 
           left outer join US_HNAUT_V4.DAT_NAME_FIELD surname1 
                        ON surname1.fk_user_name_id = fullName.idx_id 
                           AND surname1.type_field = 2 
           left outer join US_HNAUT_V4.DAT_NAME_FIELD surname2 
                        ON surname2.fk_user_name_id = fullName.idx_id 
                           AND surname2.type_field = 3 
    /* WHERE
    	pr.idx_id = :#${exchangeProperty.idPractitioner}*/
  externalResources_client_default_bdExtract_sql_Oracle_hnaut___queryPractitionerDocs.sql: |-
    SELECT pr.idx_id               AS ID_PRACTITIONER,
           pr.dat_cod_practitioner AS COD_PRACTITIONER, 
           doc.dat_cod_type        AS COD_DOCUMENT_TYPE, 
           doc.dat_ds_type         AS DESC_DOCUMENT_TYPE, 
           doc.dat_value           AS DOCUMENT_VALUE 
    FROM   US_HNAUT_V4.DAT_PRACTITIONER pr, 
           US_HNAUT_V4.DAT_DOCUMENT doc 
    WHERE  
    pr.idx_id = doc.fk_user_id
    and pr.dat_cod_practitioner is not null
    and doc.dat_cod_type is not null
    and doc.dat_value is not null
  externalResources_client_default_bdExtract_sql_Oracle_hnaut___queryPractitionerSpecs.sql: |-
    SELECT pr.idx_id               AS ID_PRACTITIONER,
           pr.dat_cod_practitioner AS COD_PRACTITIONER, 
           prof.key_cod            AS COD_PROFESSION, 
           prof.key_cod            AS DESC_PROFESSION, 
           spec.key_cod            AS COD_SPECIALTIES, 
           spec.key_cod            AS DESC_SPECIALTIES 
    FROM   US_HNAUT_V4.DAT_PRACTITIONER pr, 
           US_HNAUT_V4.DAT_PRACTITIONER_PROFESSION prof, 
           US_HNAUT_V4.REL_USER_ROL rol 
           left outer join US_HNAUT_V4.DAT_PRACTITIONER_SPECIALTY spec 
                        ON rol.fk_specialty = spec.idx_id 
    WHERE  pr.idx_id = rol.fk_user 
           	AND rol.fk_profession = prof.idx_id
  externalResources_client_default_bdExtract_sql_Oracle_hnaut___queryPractitionerWorkplcs.sql: |-
    SELECT pr.idx_id                AS ID_PRACTITIONER,
           pr.dat_cod_practitioner  AS COD_PRACTITIONER, 
           nombre.ds_value       	AS NAME, 
           surname_1.ds_value        AS SURNAME1, 
           surname_2.ds_value        AS SURNAME2, 
           occu.initial_date        AS DATE_FROM, 
           occu.end_date            AS DATE_TO, 
           workp.IDX_ID            	AS ID_WORKPLACE, 
           workp.code               AS COD_WORKPLACE, 
           workp.cod_type           AS COD_WORKPLACE_TYPE, 
           workp.cod_type    		AS DESC_WORKPLACE_TYPE, 
           workp.COD_SUB_TYPE  		AS COD_WORKPLACE_SUBTYPE, 
           workp.DESC_SUB_TYPE  	AS DESC_WORKPLACE_SUBTYPE,
           subTypeCob.FORMACOB_CODE      AS COD_WORKPLACE_COVERAGE,
           subTypeCob.FORMACOB_DES       AS DESC_WORKPLACE_COVERAGE,
           org.idx_id               AS ID_ORGANIZATION, 
           org.cod_key              AS COD_ORGANIZATION,
           org.dat_name             AS DESC_ORGANIZATION 
      FROM   US_HNAUT_V4.DAT_PRACTITIONER pr 
        LEFT OUTER JOIN 
        (select fullName.idx_id,fullName.fk_user_id,LISTAGG(nameGiven.ds_value,'') WITHIN GROUP (ORDER BY nameGiven.idx_id) ds_value 
            from US_HNAUT_V4.dat_user_name fullName 
    	LEFT OUTER JOIN US_HNAUT_V4.dat_name_field nameGiven 
            ON nameGiven.fk_user_name_id = fullName.idx_id 
            AND nameGiven.type_field = 1 
            group by fullName.idx_id,fullName.fk_user_id) nombre
            ON nombre.fk_user_id = pr.idx_id
        LEFT OUTER JOIN 
        (select fullName.idx_id,fullName.fk_user_id,LISTAGG(surname1.ds_value,'') WITHIN GROUP (ORDER BY surname1.idx_id) ds_value
            from US_HNAUT_V4.dat_user_name fullName 
    	LEFT OUTER JOIN US_HNAUT_V4.dat_name_field surname1 
            ON surname1.fk_user_name_id = fullName.idx_id 
            AND surname1.type_field = 2 
            group by fullName.idx_id,fullName.fk_user_id) surname_1
            ON surname_1.fk_user_id = pr.idx_id
        LEFT OUTER JOIN 
        (select fullName.idx_id,fullName.fk_user_id,LISTAGG(surname2.ds_value,'') WITHIN GROUP (ORDER BY surname2.idx_id) ds_value
            from US_HNAUT_V4.dat_user_name fullName 
    	LEFT OUTER JOIN US_HNAUT_V4.dat_name_field surname2 
            ON surname2.fk_user_name_id = fullName.idx_id 
            AND surname2.type_field = 3 
            group by fullName.idx_id,fullName.fk_user_id) surname_2
            ON surname_2.fk_user_id = pr.idx_id,
           US_HNAUT_V4.DAT_PRACTITIONER_OCCUPATION occu, 
           US_HNAUT_V4.DAT_WORKPLACE workp
           left outer join (
             SELECT elemento1.KEY_COD as SUBTYPE_CODE, elemento1.DAT_NAME as SUBTYPE_DES, formacob.KEY_COD as FORMACOB_CODE, formacob.DAT_NAME as FORMACOB_DES 
             FROM  US_HNCAT_V4.DAT_CATALOG cat1, US_HNCAT_V4.DAT_CAT_VER_ITEMS catVers1, US_HNCAT_V4.DAT_ITEM elemento1 
                  LEFT OUTER JOIN
                  ( SELECT elemento1.IDX_ID, elemento1.KEY_COD, elemento1.DAT_NAME, it.FK_ITEM_SOURCE 
                    FROM US_HNCAT_V4.DAT_CATALOG cat1, US_HNCAT_V4.DAT_CAT_VER_ITEMS catVers1, US_HNCAT_V4.DAT_ITEM elemento1 
                    left outer join US_HNCAT_V4.REL_ITEM_ITEM it  on it.FK_ITEM_TARGET = elemento1.IDX_ID 
                    WHERE
                    cat1.KEY_COD = 'FORMACOB' 
                    AND catVers1.FK_CATALOG = cat1.IDX_ID AND catVers1.FLG_STATUS = 1 AND elemento1.FK_CATALOG_VERSION = catVers1.IDX_ID
                  ) formacob 
                 ON elemento1.IDX_ID = formacob.FK_ITEM_SOURCE 
             WHERE
             cat1.KEY_COD = 'workplace_sub_type' 
             AND catVers1.FK_CATALOG = cat1.IDX_ID  AND catVers1.FLG_STATUS = 1  AND elemento1.FK_CATALOG_VERSION = catVers1.IDX_ID) subTypeCob
            ON subTypeCob.SUBTYPE_CODE = workp.COD_SUB_TYPE
            left outer join US_HNAUT_V4.DAT_ORGANIZATION org 
            ON workp.fk_organization = org.idx_id
      WHERE  pr.idx_id = occu.fk_practitioner 
        AND occu.fk_workplace = workp.idx_id
  externalResources_client_default_bdExtract_sql_Oracle_hnaut___queryWorkplaceOrganizations.sql: |-
    SELECT workpl.IDX_ID 				AS ID_WORKPLACE,
           workpl.CODE 					AS COD_WORKPLACE,
           workpl.FLG_ACTIVE 			AS FLG_ACTIVE,
           workpl.COD_TYPE 				AS COD_TYPE,
           workpl.COD_TYPE 				AS DESC_TYPE,
    	   workpl.COD_SUB_TYPE			AS COD_SUBTYPE,			--NUEVO
    	   workpl.DESC_SUB_TYPE			AS DESC_SUBTYPE,		--NUEVO
    	   subTypeCob.FORMACOB_CODE		AS COD_COVERAGE,		--NUEVO
    	   subTypeCob.FORMACOB_DES		AS DESC_COVERAGE,		--NUEVO
           orgUF.IDX_ID 				AS ID_ORGANIZATION1,
           orgUF.COD_KEY 				AS COD_ORGANIZATION1,
           orgUF.DAT_NAME 				AS DESC_ORGANIZATION1,
           orgCen.IDX_ID				AS ID_ORGANIZATION2,
           orgCen.COD_KEY 				AS COD_ORGANIZATION2,
           orgCen.DAT_NAME 				AS DESC_ORGANIZATION2,
           workorg.OPTIMUM_AMOUNT 		AS OPTIMUM_QUOTA,
           workorg.MAXIMUM_AMOUNT 		AS MAX_QUOTA,        
           (select DISTINCT(occ.ORGANIZATION_ASSIGNED)
            from US_HNAUT_V4.V_CARE_TEAM_OCCUPATION/*_DTS*/ occ
            where workorg.FK_WORKPLACE = occ.FK_WORKPLACE 
            AND orgCen.COD_KEY = ORGANIZATION_ID ) AS CURRENT_QUOTA,
           workpl.DT_CREATION 			AS DATE_CREATED,
           workpl.DT_MODIFICATION 		AS DATE_MODIF,
    	   workorg.PASSIVEDATE		AS DATE_ANULATION		--NUEVO
    FROM US_HNAUT_V4.DAT_WORKPLACE workpl
           left outer join (
             SELECT elemento1.KEY_COD as SUBTYPE_CODE, elemento1.DAT_NAME as SUBTYPE_DES, formacob.KEY_COD as FORMACOB_CODE, formacob.DAT_NAME as FORMACOB_DES 
             FROM  US_HNCAT_V4.DAT_CATALOG cat1, US_HNCAT_V4.DAT_CAT_VER_ITEMS catVers1, US_HNCAT_V4.DAT_ITEM elemento1 
                  LEFT OUTER JOIN
                  ( SELECT elemento1.IDX_ID, elemento1.KEY_COD, elemento1.DAT_NAME, it.FK_ITEM_SOURCE 
                    FROM US_HNCAT_V4.DAT_CATALOG cat1, US_HNCAT_V4.DAT_CAT_VER_ITEMS catVers1, US_HNCAT_V4.DAT_ITEM elemento1 
                    left outer join US_HNCAT_V4.REL_ITEM_ITEM it  on it.FK_ITEM_TARGET = elemento1.IDX_ID 
                    WHERE
                    cat1.KEY_COD = 'FORMACOB' 
                    AND catVers1.FK_CATALOG = cat1.IDX_ID AND catVers1.FLG_STATUS = 1 AND elemento1.FK_CATALOG_VERSION = catVers1.IDX_ID
                  ) formacob 
                 ON elemento1.IDX_ID = formacob.FK_ITEM_SOURCE 
             WHERE
             cat1.KEY_COD = 'workplace_sub_type'	--'WORKPLACE_SUBTYPE'
             AND catVers1.FK_CATALOG = cat1.IDX_ID  AND catVers1.FLG_STATUS = 1  AND elemento1.FK_CATALOG_VERSION = catVers1.IDX_ID) subTypeCob
            ON subTypeCob.SUBTYPE_CODE = workpl.COD_SUB_TYPE
    LEFT OUTER JOIN US_HNAUT_V4.DAT_ORGANIZATION orgUF 
    	ON workpl.FK_ORGANIZATION = orgUF.IDX_ID
    LEFT OUTER JOIN US_HNAUT_V4.REL_WORKPLACE_ORGANIZATION workorg
        ON workpl.IDX_ID = workorg.FK_WORKPLACE
    LEFT OUTER JOIN US_HNAUT_V4.DAT_ORGANIZATION orgCen 
    	ON workorg.FK_ORGANIZATION = orgCen.IDX_ID
  externalResources_client_default_bdExtract_sql_Oracle_hncard___queryCards.sql: |-
    SELECT card.IDX_ID 							AS ID_CARD,
           patient.IDX_ID 						AS ID_PATIENT,
           patient.COD_PATIENT 					AS COD_PATIENT,
           card.DAT_TYPE_DOCUMENT 				AS COD_TYPE,
           card.DAT_DESCRIPTION_SUPPORT_TYPE 	AS DESC_TYPE,
           card.ORDER_NUMBER 					AS ORDER_NUMBER,
           card.COD_STATE 						AS COD_STATUS,
           card.DAT_DESCRIPTION_STATE 			AS DESC_STATUS,
           card.COD_MOTIVE 						AS COD_REQUEST_REASON,
           card.DAT_DESCRIPTION_MOTIVE			AS DESC_REQUEST_REASON,
           CASE WHEN card.FLG_TOUCH_LEGEND IS NULL  THEN 0 ELSE card.FLG_TOUCH_LEGEND END AS FLG_BRAILLE,
           org.IDX_ID 							AS ID_ORG_REQUEST,
           card.COD_CENTER 						AS COD_ORG_REQUEST,
           card.DAT_NAME_REQUEST_CENTER 		AS DESC_ORG_REQUEST,
           card.DAT_NAME_COMPLETE 				AS FULL_NAME_PATIENT,
           card.DT_CREATION						AS DATE_REQUEST,
           card.DT_EMISSION 					AS DATE_CREATION,
           card.DT_EXPIRY 						AS DATE_EXPIRATION,
           card.DT_DELETED 						AS DATE_ANULATION,
           card.COD_MOTIVE_DELETED 				AS COD_REASON_ANULATION,
           card.DAT_DESCRIPTION_MOTIVE_DELETED 	AS DESC_REASON_ANULATION
    FROM us_hncard.DAT_CARD card
    	LEFT OUTER JOIN US_HNAUT_V4.DAT_ORGANIZATION org 
    	ON card.COD_CENTER = org.COD_KEY,
    	us_hncard.DAT_PATIENT patient
    WHERE card.FK_PATIENT = patient.IDX_ID
    AND
    	card.DT_MODIFICATION >= TRUNC(:#${header.processStartDate}) and card.DT_MODIFICATION < TRUNC(:#${exchangeProperty.processEndDate})
    	and card.DT_CREATION is not null
     
  externalResources_client_default_bdExtract_sql_Oracle_hncat___queryGeo1.sql: |-
    SELECT elemento.IDX_ID AS ID_GEOL1,
           elemento.KEY_COD AS COD_GEOL1,
           elemento2.KEY_COD AS COD_GEOL1_ISO,
           elemento.DAT_NAME AS DESC_GEOL1,
            geografiaPais.COD_TYPE AS COD_TYPE,
            geografias.DESC_TYPE AS DESC_TYPE
    FROM US_HNCAT_V4.DAT_CATALOG cat,
         US_HNCAT_V4.DAT_CAT_VER_ITEMS catVers,
         US_HNCAT_V4.DAT_ITEM elemento,
         US_HNCAT_V4.DAT_CATALOG cat2,
         US_HNCAT_V4.DAT_CAT_VER_ITEMS catVers2,
         US_HNCAT_V4.DAT_ITEM elemento2,
         US_HNCAT_V4.rel_cat_ver_cat_ver rel,
         US_HNCAT_V4.rel_item_item itemRel,
       (
    SELECT
      elementoGeog.KEY_COD as COD_TYPE,   
      elementoGeog.DAT_NAME as DESC_TYPE 
    FROM      
      US_HNCAT_V4.DAT_CATALOG catGeog,
      US_HNCAT_V4.DAT_CAT_VER_ITEMS catGeogVers,
      US_HNCAT_V4.DAT_ITEM elementoGeog
    WHERE catGeog.KEY_COD = 'Geografias'
      AND catGeogVers.FK_CATALOG = catGeog.IDX_ID
      AND catGeogVers.FLG_STATUS = 1
      AND elementoGeog.FK_CATALOG_VERSION = catGeogVers.IDX_ID) geografias,
        (
    SELECT
      itemRelGeogPais.FK_ITEM_TARGET AS ID_PAIS,
      min(elementoGeog.KEY_COD) AS COD_TYPE
    FROM      
        US_HNCAT_V4.DAT_CATALOG catGeog,
        US_HNCAT_V4.DAT_CAT_VER_ITEMS catGeogVers,
        US_HNCAT_V4.DAT_ITEM elementoGeog,
        US_HNCAT_V4.rel_item_item itemRelGeogPais
    WHERE catGeog.KEY_COD = 'Geografias'
        AND catGeogVers.FK_CATALOG = catGeog.IDX_ID
        AND catGeogVers.FLG_STATUS = 1
        AND elementoGeog.FK_CATALOG_VERSION = catGeogVers.IDX_ID
        AND itemRelGeogPais.FK_ITEM_SOURCE = elementoGeog.idx_id GROUP BY itemRelGeogPais.FK_ITEM_TARGET) geografiaPais
    WHERE cat.KEY_COD = 'pais'
      AND catVers.FK_CATALOG = cat.IDX_ID
      AND catVers.FLG_STATUS = 1
      AND elemento.FK_CATALOG_VERSION = catVers.IDX_ID
      AND cat2.KEY_COD = 'pais_numerico'
      AND catVers2.FK_CATALOG = cat2.IDX_ID
      AND catVers2.FLG_STATUS = 1
      AND elemento2.FK_CATALOG_VERSION = catVers2.IDX_ID
      AND rel.FK_CATALOG_VERSION_SOURCE = catVers2.idx_id
      AND rel.FK_CATALOG_VERSION_TARGET = catVers.idx_id
      AND itemRel.FK_REL_CAT_VER = rel.IDX_ID
      AND itemRel.FK_ITEM_SOURCE = elemento2.idx_id
      AND itemRel.FK_ITEM_target = elemento.idx_id
      AND geografiaPais.ID_PAIS = elemento.idx_id
      AND geografiaPais.COD_TYPE = geografias.COD_TYPE
      
  externalResources_client_default_bdExtract_sql_Oracle_hncat___queryGeo2.sql: |-
    SELECT elemento1.IDX_ID AS ID_GEOL1,
           elemento1.KEY_COD AS COD_GEOL1,
           elemento1.DAT_NAME AS DESC_GEOL1,
           elemento2.IDX_ID AS ID_GEOL2,
           elemento2.KEY_COD AS COD_GEOL2,
           elemento2.DAT_NAME AS DESC_GEOL2
    FROM US_HNCAT_V4.DAT_CATALOG cat1,
         US_HNCAT_V4.DAT_CAT_VER_ITEMS catVers1,
         US_HNCAT_V4.DAT_ITEM elemento1,
         US_HNCAT_V4.DAT_CATALOG cat2,
         US_HNCAT_V4.DAT_CAT_VER_ITEMS catVers2,
         US_HNCAT_V4.DAT_ITEM elemento2,
         US_HNCAT_V4.rel_cat_ver_cat_ver rel,
         US_HNCAT_V4.rel_item_item itemRel
    WHERE cat1.KEY_COD = 'pais'
      AND catVers1.FK_CATALOG = cat1.IDX_ID
      AND catVers1.FLG_STATUS = 1
      AND elemento1.FK_CATALOG_VERSION = catVers1.IDX_ID
    
      AND cat2.KEY_COD = 'CCAA'
      AND catVers2.FK_CATALOG = cat2.IDX_ID
      AND catVers2.FLG_STATUS = 1
      AND elemento2.FK_CATALOG_VERSION = catVers2.IDX_ID
    
      AND rel.FK_CATALOG_VERSION_SOURCE = catVers1.idx_id
      AND rel.FK_CATALOG_VERSION_TARGET = catVers2.idx_id
      AND itemRel.FK_REL_CAT_VER = rel.IDX_ID
      AND itemRel.FK_ITEM_SOURCE = elemento1.idx_id
      AND itemRel.FK_ITEM_target = elemento2.idx_id
  externalResources_client_default_bdExtract_sql_Oracle_hncat___queryGeo3.sql: |-
    SELECT elemento1.IDX_ID AS ID_GEOL1,
             elemento1.KEY_COD AS COD_GEOL1,
             elemento1.DAT_NAME AS DESC_GEOL1,
             elemento2.IDX_ID AS ID_GEOL2,
             elemento2.KEY_COD AS COD_GEOL2,
             elemento2.DAT_NAME AS DESC_GEOL2,
             elemento3.IDX_ID AS ID_GEOL3,
             elemento3.KEY_COD AS COD_GEOL3,
             elemento3.DAT_NAME AS DESC_GEOL3
             
             
      FROM US_HNCAT_V4.DAT_CATALOG cat1,
           US_HNCAT_V4.DAT_CAT_VER_ITEMS catVers1,
           US_HNCAT_V4.DAT_ITEM elemento1,
           
           US_HNCAT_V4.DAT_CATALOG cat2,
           US_HNCAT_V4.DAT_CAT_VER_ITEMS catVers2,
           US_HNCAT_V4.DAT_ITEM elemento2,
           
           US_HNCAT_V4.DAT_CATALOG cat3,
           US_HNCAT_V4.DAT_CAT_VER_ITEMS catVers3,
           US_HNCAT_V4.DAT_ITEM elemento3,
           
           US_HNCAT_V4.rel_cat_ver_cat_ver rel12,
           US_HNCAT_V4.rel_item_item itemRel12,
           
           US_HNCAT_V4.rel_cat_ver_cat_ver rel23,
           US_HNCAT_V4.rel_item_item itemRel23 
      
      WHERE cat1.KEY_COD = 'pais'
      AND catVers1.FK_CATALOG = cat1.IDX_ID
      AND catVers1.FLG_STATUS = 1
      AND elemento1.FK_CATALOG_VERSION = catVers1.IDX_ID
      
      AND cat2.KEY_COD = 'CCAA'
      AND catVers2.FK_CATALOG = cat2.IDX_ID
      AND catVers2.FLG_STATUS = 1
      AND elemento2.FK_CATALOG_VERSION = catVers2.IDX_ID
      
      AND cat3.KEY_COD = 'provincia'
      AND catVers3.FK_CATALOG = cat3.IDX_ID
      AND catVers3.FLG_STATUS = 1
      AND elemento3.FK_CATALOG_VERSION = catVers3.IDX_ID
      
      AND rel12.FK_CATALOG_VERSION_SOURCE = catVers1.idx_id
      AND rel12.FK_CATALOG_VERSION_TARGET = catVers2.idx_id
      AND itemRel12.FK_REL_CAT_VER = rel12.IDX_ID
      AND itemRel12.FK_ITEM_SOURCE = elemento1.idx_id
      AND itemRel12.FK_ITEM_target = elemento2.idx_id
      
      AND rel23.FK_CATALOG_VERSION_SOURCE = catVers2.idx_id
      AND rel23.FK_CATALOG_VERSION_TARGET = catVers3.idx_id
      AND itemRel23.FK_REL_CAT_VER = rel23.IDX_ID
      AND itemRel23.FK_ITEM_SOURCE = elemento2.idx_id
      AND itemRel23.FK_ITEM_target = elemento3.idx_id
  externalResources_client_default_bdExtract_sql_Oracle_hncat___queryGeo4.sql: |-
    
    SELECT elemento1.IDX_ID AS ID_GEOL1,
           elemento1.KEY_COD AS COD_GEOL1,
           elemento1.DAT_NAME AS DESC_GEOL1,
           elemento2.IDX_ID AS ID_GEOL2,
           elemento2.KEY_COD AS COD_GEOL2,
           elemento2.DAT_NAME AS DESC_GEOL2,
           elemento3.IDX_ID AS ID_GEOL3,
           elemento3.KEY_COD AS COD_GEOL3,
           elemento3.DAT_NAME AS DESC_GEOL3,
           elemento4.IDX_ID AS ID_GEOL4,
           elemento4.KEY_COD AS COD_GEOL4,
           elemento4.DAT_NAME AS DESC_GEOL4
           
    FROM US_HNCAT_V4.DAT_CATALOG cat1,
         US_HNCAT_V4.DAT_CAT_VER_ITEMS catVers1,
         US_HNCAT_V4.DAT_ITEM elemento1,
         
         US_HNCAT_V4.DAT_CATALOG cat2,
         US_HNCAT_V4.DAT_CAT_VER_ITEMS catVers2,
         US_HNCAT_V4.DAT_ITEM elemento2,
         
         US_HNCAT_V4.DAT_CATALOG cat3,
         US_HNCAT_V4.DAT_CAT_VER_ITEMS catVers3,
         US_HNCAT_V4.DAT_ITEM elemento3,
         
         US_HNCAT_V4.DAT_CATALOG cat4,
         US_HNCAT_V4.DAT_CAT_VER_ITEMS catVers4,
         US_HNCAT_V4.DAT_ITEM elemento4,
         
         US_HNCAT_V4.rel_cat_ver_cat_ver rel12,
         US_HNCAT_V4.rel_item_item itemRel12,
         
         US_HNCAT_V4.rel_cat_ver_cat_ver rel23,
         US_HNCAT_V4.rel_item_item itemRel23,
         
         US_HNCAT_V4.rel_cat_ver_cat_ver rel34,
         US_HNCAT_V4.rel_item_item itemRel34
         
    WHERE cat1.KEY_COD = 'pais'
      AND catVers1.FK_CATALOG = cat1.IDX_ID
      AND catVers1.FLG_STATUS = 1
      AND elemento1.FK_CATALOG_VERSION = catVers1.IDX_ID
      
      AND cat2.KEY_COD = 'CCAA'
      AND catVers2.FK_CATALOG = cat2.IDX_ID
      AND catVers2.FLG_STATUS = 1
      AND elemento2.FK_CATALOG_VERSION = catVers2.IDX_ID
      
      AND cat3.KEY_COD = 'provincia'
      AND catVers3.FK_CATALOG = cat3.IDX_ID
      AND catVers3.FLG_STATUS = 1
      AND elemento3.FK_CATALOG_VERSION = catVers3.IDX_ID
      
      AND cat4.KEY_COD = 'municipio'
      AND catVers4.FK_CATALOG = cat4.IDX_ID
      AND catVers4.FLG_STATUS = 1
      AND elemento4.FK_CATALOG_VERSION = catVers4.IDX_ID
      
      AND rel12.FK_CATALOG_VERSION_SOURCE = catVers1.idx_id
      AND rel12.FK_CATALOG_VERSION_TARGET = catVers2.idx_id
      AND itemRel12.FK_REL_CAT_VER = rel12.IDX_ID
      AND itemRel12.FK_ITEM_SOURCE = elemento1.idx_id
      AND itemRel12.FK_ITEM_target = elemento2.idx_id
      
      AND rel23.FK_CATALOG_VERSION_SOURCE = catVers2.idx_id
      AND rel23.FK_CATALOG_VERSION_TARGET = catVers3.idx_id
      AND itemRel23.FK_REL_CAT_VER = rel23.IDX_ID
      AND itemRel23.FK_ITEM_SOURCE = elemento2.idx_id
      AND itemRel23.FK_ITEM_target = elemento3.idx_id
      
      AND rel34.FK_CATALOG_VERSION_SOURCE = catVers3.idx_id
      AND rel34.FK_CATALOG_VERSION_TARGET = catVers4.idx_id
      AND itemRel34.FK_REL_CAT_VER = rel34.IDX_ID
      AND itemRel34.FK_ITEM_SOURCE = elemento3.idx_id
      AND itemRel34.FK_ITEM_target = elemento4.idx_id
  externalResources_client_default_bdExtract_sql_Oracle_hncat___queryGeo5.sql: |-
    
    SELECT elemento1.IDX_ID AS ID_GEOL1,
           elemento1.KEY_COD AS COD_GEOL1,
           elemento1.DAT_NAME AS DESC_GEOL1,
           elemento2.IDX_ID AS ID_GEOL2,
           elemento2.KEY_COD AS COD_GEOL2,
           elemento2.DAT_NAME AS DESC_GEOL2,
           elemento3.IDX_ID AS ID_GEOL3,
           elemento3.KEY_COD AS COD_GEOL3,
           elemento3.DAT_NAME AS DESC_GEOL3,
           elemento4.IDX_ID AS ID_GEOL4,
           elemento4.KEY_COD AS COD_GEOL4,
           elemento4.DAT_NAME AS DESC_GEOL4,
           elemento5.IDX_ID AS ID_GEOL5,
           elemento5.KEY_COD AS COD_GEOL5,
           elemento5.DAT_NAME AS DESC_GEOL5
           
    FROM US_HNCAT_V4.DAT_CATALOG cat1,
         US_HNCAT_V4.DAT_CAT_VER_ITEMS catVers1,
         US_HNCAT_V4.DAT_ITEM elemento1,
         
         US_HNCAT_V4.DAT_CATALOG cat2,
         US_HNCAT_V4.DAT_CAT_VER_ITEMS catVers2,
         US_HNCAT_V4.DAT_ITEM elemento2,
         
         US_HNCAT_V4.DAT_CATALOG cat3,
         US_HNCAT_V4.DAT_CAT_VER_ITEMS catVers3,
         US_HNCAT_V4.DAT_ITEM elemento3,
         
         US_HNCAT_V4.DAT_CATALOG cat4,
         US_HNCAT_V4.DAT_CAT_VER_ITEMS catVers4,
         US_HNCAT_V4.DAT_ITEM elemento4,
         
         US_HNCAT_V4.DAT_CATALOG cat5,
         US_HNCAT_V4.DAT_CAT_VER_ITEMS catVers5,
         US_HNCAT_V4.DAT_ITEM elemento5,
         
         US_HNCAT_V4.rel_cat_ver_cat_ver rel12,
         US_HNCAT_V4.rel_item_item itemRel12,
         
         US_HNCAT_V4.rel_cat_ver_cat_ver rel23,
         US_HNCAT_V4.rel_item_item itemRel23,
         
         US_HNCAT_V4.rel_cat_ver_cat_ver rel34,
         US_HNCAT_V4.rel_item_item itemRel34,
         
         US_HNCAT_V4.rel_cat_ver_cat_ver rel45,
         US_HNCAT_V4.rel_item_item itemRel45
         
    WHERE cat1.KEY_COD = 'pais'
      AND catVers1.FK_CATALOG = cat1.IDX_ID
      AND catVers1.FLG_STATUS = 1
      AND elemento1.FK_CATALOG_VERSION = catVers1.IDX_ID
      
      AND cat2.KEY_COD = 'CCAA'
      AND catVers2.FK_CATALOG = cat2.IDX_ID
      AND catVers2.FLG_STATUS = 1
      AND elemento2.FK_CATALOG_VERSION = catVers2.IDX_ID
      
      AND cat3.KEY_COD = 'provincia'
      AND catVers3.FK_CATALOG = cat3.IDX_ID
      AND catVers3.FLG_STATUS = 1
      AND elemento3.FK_CATALOG_VERSION = catVers3.IDX_ID
      
      AND cat4.KEY_COD = 'municipio'
      AND catVers4.FK_CATALOG = cat4.IDX_ID
      AND catVers4.FLG_STATUS = 1
      AND elemento4.FK_CATALOG_VERSION = catVers4.IDX_ID
      
      AND cat5.KEY_COD = 'localidad'
      AND catVers5.FK_CATALOG = cat5.IDX_ID
      AND catVers5.FLG_STATUS = 1
      AND elemento5.FK_CATALOG_VERSION = catVers5.IDX_ID
      
      AND rel12.FK_CATALOG_VERSION_SOURCE = catVers1.idx_id
      AND rel12.FK_CATALOG_VERSION_TARGET = catVers2.idx_id
      AND itemRel12.FK_REL_CAT_VER = rel12.IDX_ID
      AND itemRel12.FK_ITEM_SOURCE = elemento1.idx_id
      AND itemRel12.FK_ITEM_target = elemento2.idx_id
      
      AND rel23.FK_CATALOG_VERSION_SOURCE = catVers2.idx_id
      AND rel23.FK_CATALOG_VERSION_TARGET = catVers3.idx_id
      AND itemRel23.FK_REL_CAT_VER = rel23.IDX_ID
      AND itemRel23.FK_ITEM_SOURCE = elemento2.idx_id
      AND itemRel23.FK_ITEM_target = elemento3.idx_id
      
      AND rel34.FK_CATALOG_VERSION_SOURCE = catVers3.idx_id
      AND rel34.FK_CATALOG_VERSION_TARGET = catVers4.idx_id
      AND itemRel34.FK_REL_CAT_VER = rel34.IDX_ID
      AND itemRel34.FK_ITEM_SOURCE = elemento3.idx_id
      AND itemRel34.FK_ITEM_target = elemento4.idx_id
      
      AND rel45.FK_CATALOG_VERSION_SOURCE = catVers4.idx_id
      AND rel45.FK_CATALOG_VERSION_TARGET = catVers5.idx_id
      AND itemRel45.FK_REL_CAT_VER = rel45.IDX_ID
      AND itemRel45.FK_ITEM_SOURCE = elemento4.idx_id
      AND itemRel45.FK_ITEM_target = elemento5.idx_id
  externalResources_client_default_bdExtract_sql_Oracle_hncat___queryTypeVia.sql: |-
    select
    elemento.IDX_ID as ID_TYPE_VIA,
    elemento.KEY_COD as COD_TYPE_VIA,
    elemento.DAT_NAME as DESC_TYPE_VIA,
    elemento.DAT_DESCRIPTION as DESC_EXTENDED_TYPE_VIA
    from  
    US_HNCAT_V4.DAT_CATALOG cat, US_HNCAT_V4.DAT_CAT_VER_ITEMS catVers,
    US_HNCAT_V4.DAT_ITEM elemento
    WHERE 
    cat.KEY_COD = 'street-type' and catVers.FK_CATALOG = cat.IDX_ID and catVers.FLG_STATUS = 1
    and elemento.FK_CATALOG_VERSION = catVers.IDX_ID
  externalResources_client_default_bdExtract_sql_Oracle_hnpob___extract_id_Patients.sql: |-
    SELECT
      patient.ID as ID_PATIENT
    FROM
      us_hnpob_v4.PERSONA patient
    WHERE  patient.FECHAACTUALIZACION >= TRUNC(:#${header.processStartDate}) and patient.FECHAACTUALIZACION < :#${exchangeProperty.processEndDate}
  externalResources_client_default_bdExtract_sql_Oracle_hnpob___queryPatient.sql: |-
    with
        jsonExists AS (
          select * from us_hnpob_v4.DAT_PATIENT_RESOURCE js
          where json_exists(js.patient_json, '$.address[*].extension[*]')
        ),
        extensionExists AS (
          select * from us_hnpob_v4.DAT_PATIENT_RESOURCE js
          where json_exists(js.patient_json, '$.extension[*]')
        )
    SELECT  
       persona.id                                 AS ID_PATIENT,
       persona.codigo                             AS COD_PATIENT,
       persona.estado                             AS FLG_ACTIVE,
      causaPasivo.fechapasivo                     AS DATE_STATUS, 
       causaPasivo.cod_passive_cause              AS COD_PASIVE_REASON,
       causaPasivo.ds_passive_cause               AS DESC_PASIVE_REASON, 
       causaPasivo.duplicadoactivo_id             AS ID_ACTIVE_PATIENT,
       null                                       AS COD_ACTIVE_PATIENT,
       p_resource.patient_json                          AS J_PATIENT,
    --   ' '                            AS NAME, -- va al json
       ' '                       AS SHORTNAME, 
    --   ' '                        AS SURNAME1, -- va al json
    --   ' '                        AS SURNAME2, -- va al json
      persona.fechanAScimiento AS DATE_BIRTH,
    --   ' '            AS COD_COUNTRY_BIRTH,  -- va al json
    --   ' '        AS DESC_COUNTRY_BIRTH,  -- va al json
       -- ' ' ccaaNacimiento.CODE                 AS COD_PLACE_BIRTH, -- va al json 
       -- ' ' ccaaNacimiento.VALUE             AS DESC_PLACE_BIRTH, -- va al json 
       persona.cod_sexo                         AS COD_GENDER,
       persona.nombre_sexo                         AS DESC_GENDER,
       persona.cod_marital_status                 AS COD_CIVIL_STATUS,
       persona.ds_marital_status                 AS DESC_CIVIL_STATUS,
       -- ' ' procedencia.code                            AS COD_PLACE_ORIGIN,  va al json
       -- ' ' procedencia.value                        AS DESC_PLACE_ORIGIN,  va al json
       -- ' ' emplazamiento.code                         AS COD_SITE, -- va al json
       -- ' ' emplazamiento.value                        AS DESC_SITE, -- va al json
       -- ' ' naf_titular.value                         AS AFF_NUMBER_BENEFACTOR, -- va al json
       -- ' ' cipa_titular.value                       AS IDENTIFICATION_CODE_BENEFACTOR, -- va al json
       -- ' ' tipo_poblacion.CODE                         AS COD_TYPE_ASSURANCE, -- va al json
       -- ' ' tipo_poblacion.VALUE                        AS DESC_TYPE_ASSURANCE, -- va al json
       -- ' ' CASE WHEN desplazamientoInterno.value = 'true' then 1 else 0 end  AS FLG_INTERNAL_MOVE, -- va al json
       -- ' ' CASE WHEN desplazamientoExterno.value = 'true' then 1 else 0 end AS FLG_EXTERNAL_MOVE, -- va al json
       -- ' ' CASE WHEN braille.value = 'true' then 1 else 0 end AS FLG_BRAILLE, -- va al json
       -- ' ' CASE WHEN preferente.value = 'true' then 1 else 0 end AS FLG_PREFERENCE, -- va al json
       tipo_ciudadano.code                         AS COD_TYPE_CITIZEN, 
       tipo_ciudadano.value                     AS DESC_TYPE_CITIZEN, 
       -- ' ' indicador_farmacia.code                     AS COD_INDEX_PHARMACY, -- va al json
       -- ' ' indicador_farmacia.value                    AS DESC_INDEX_PHARMACY, -- va al json
       -- ' ' subindicador_farmacia.code                 AS COD_SUBINDEX_PHARMACY, -- va al json
       -- ' ' subindicador_farmacia.value                 AS DESC_SUBINDEX_PHARMACY, -- va al json
       CASE WHEN facturable.dat_value = 'true' then 1 else 0 end AS FLG_BILLABLE, 
       CASE WHEN pensionista.dat_value = 'true' then 1 else 0 end AS FLG_PENSIONER, 
       CASE WHEN mutualista.dat_value = 'true' then 1 else 0 end AS FLG_MUTUALIST, 
       CASE WHEN hospital.dat_value = 'true' then 1 else 0 end AS FLG_HOSPITAL, 
       CASE WHEN datosEmplazamiento.PAYROLL_VALUE = 'true' then 1 else 0 end AS FLG_PAYROLL, 
       CASE WHEN datosEmplazamiento.QUOTA_VALUE = 'true' then 1 else 0 end AS FLG_QUOTA, 
       ' '                        AS COD_GEOGRAPHY,     
       ' '                       AS DESC_GEOGRAPHY,     
       -- ' ' observaciones.value                         AS OBSERVATIONS, va al json    
       org.IDX_ID                                 AS ID_ORG,
       zbsDirPrin.CODEZBS                         AS COD_ORG,
       org.DAT_NAME                             AS DESC_ORG,
       -- ' ' CASE WHEN propuesta.value = 'true' then 1 else 0 end AS FLG_PROPOSAL, va al json
       -- ' ' mot_propuesta.code                         AS COD_PROPOSAL_REASON, va al json
       -- ' ' mot_propuesta.value                         AS DESC_PROPOSAL_REASON, va al json
       orgPropuesta.IDX_ID                         AS ID_PROPOSAL_ORG, 
       centroPropuesta.CODE                     AS COD_PROPOSAL_ORG, 
       orgPropuesta.DAT_NAME                     AS DESC_PROPOSAL_ORG, 
       persona.fecharegistro                     AS DATE_CREATED,    
       persona.fechaactualizacion                 AS DATE_MODIF,        
       persona.USER_AUDIT                       AS USER_AUDIT
    FROM 
       us_hnpob_v4.PERSONA persona 
       LEFT OUTER JOIN
          us_hnpob_v4.DAT_PATIENT_RESOURCE p_resource 
          ON persona.id = p_resource.fk_patient_id 
       LEFT OUTER JOIN
          us_hnpob_v4.CAUSA_PASIVO_PERSONA causaPasivo 
          ON persona.fk_passivecause = causaPasivo.id 
        LEFT OUTER JOIN
          (
            SELECT
            res.FK_PATIENT_ID AS PERSONA_ID,
            jt.code_c AS CODE,
            jt.value_c AS VALUE
       FROM
          extensionExists res,
          json_table(res.patient_json, '$.extension[*]' COLUMNS (
              system_c VARCHAR(100) path '$.url' NULL ON ERROR, 
              code_c VARCHAR(50) path '$.valueCodeableConcept.coding[0].code' NULL ON ERROR,
              value_c VARCHAR(200) path '$.valueCodeableConcept.text' NULL ON ERROR)
          ) AS jt 
       WHERE
          res.fk_patient_id= :#${headers.idPatient}
          and jt.system_c = 'uri:hn:additional-data:tipo_ciudadano' 
          and jt.code_c IS NOT NULL 
          )
          tipo_ciudadano
          ON tipo_ciudadano.PERSONA_ID = persona.id 
       LEFT OUTER JOIN
          (
             SELECT
                elemento.KEY_COD AS code,
                elemento.DAT_NAME AS description,
                elemento.IDX_ID AS idTipo 
             FROM
                US_HNCAT_V4.DAT_CATALOG cat,
                US_HNCAT_V4.DAT_CAT_VER_ITEMS catVers,
                US_HNCAT_V4.DAT_ITEM elemento 
             WHERE
                cat.key_cod = 'tipo_ciudadano' 
                AND catVers.FK_CATALOG = cat.IDX_ID 
                AND catVers.FLG_STATUS = 1 
                AND elemento.FK_CATALOG_VERSION = catVers.IDX_ID 
          )
          catTipo 
          ON tipo_ciudadano.code = catTipo.code 
       LEFT OUTER JOIN
          (
             SELECT
                itemAdit.FK_ITEM,
                catAdit.IDX_ID,
                itemAdit.dat_value,
                catAdit.dat_name 
             FROM
                US_HNCAT_V4.DAT_ADDITIONAL_ITEM_FIELD itemAdit,
                US_HNCAT_V4.DAT_ADDITIONAL_CATALOG_FIELD catAdit 
             WHERE
                itemAdit.FK_ADDITIONAL_CATALOG_FIELD = catAdit.IDX_ID 
                and catAdit.dat_name = 'Facturable' 
          )
          facturable 
          ON facturable.FK_ITEM = catTipo.idTipo 
       LEFT OUTER JOIN
          (
             SELECT
                itemAdit.FK_ITEM,
                catAdit.IDX_ID,
                itemAdit.dat_value,
                catAdit.dat_name 
             FROM
                US_HNCAT_V4.DAT_ADDITIONAL_ITEM_FIELD itemAdit,
                US_HNCAT_V4.DAT_ADDITIONAL_CATALOG_FIELD catAdit 
             WHERE
                itemAdit.FK_ADDITIONAL_CATALOG_FIELD = catAdit.IDX_ID 
                and catAdit.dat_name = 'SWPENSIO' 
          )
          pensionista 
          ON pensionista.FK_ITEM = catTipo.idTipo 
       LEFT OUTER JOIN
          (
             SELECT
                itemAdit.FK_ITEM,
                catAdit.IDX_ID,
                itemAdit.dat_value,
                catAdit.dat_name 
             FROM
                US_HNCAT_V4.DAT_ADDITIONAL_ITEM_FIELD itemAdit,
                US_HNCAT_V4.DAT_ADDITIONAL_CATALOG_FIELD catAdit 
             WHERE
                itemAdit.FK_ADDITIONAL_CATALOG_FIELD = catAdit.IDX_ID 
                and catAdit.dat_name = 'SWMUTUA' 
          )
          mutualista 
          ON mutualista.FK_ITEM = catTipo.idTipo 
       LEFT OUTER JOIN
          (
             SELECT
                itemAdit.FK_ITEM,
                catAdit.IDX_ID,
                itemAdit.dat_value,
                catAdit.dat_name 
             FROM
                US_HNCAT_V4.DAT_ADDITIONAL_ITEM_FIELD itemAdit,
                US_HNCAT_V4.DAT_ADDITIONAL_CATALOG_FIELD catAdit 
             WHERE
                itemAdit.FK_ADDITIONAL_CATALOG_FIELD = catAdit.IDX_ID 
                and catAdit.dat_name = 'SWHOSPITAL' 
          )
          hospital 
          ON hospital.FK_ITEM = catTipo.idTipo 
       LEFT OUTER JOIN
          (
            SELECT
                res.FK_PATIENT_ID AS PERSONA_ID,
                jt.code_c AS CODE,
                jt.value_c AS VALUE
            FROM
              extensionExists res,
              json_table(res.patient_json, '$.extension[*]' COLUMNS (
              system_c VARCHAR(100) path '$.url' NULL ON ERROR, 
              code_c VARCHAR(50) path '$.valueCodeableConcept.coding[0].code' NULL ON ERROR, 
              value_c VARCHAR(200) path '$.valueCodeableConcept.text' NULL ON ERROR)
              ) AS jt 
            WHERE
            res.fk_patient_id=:#${headers.idPatient}
            and jt.system_c = 'uri:hn:additional-data:emplazamiento' 
            and jt.code_c IS NOT NULL 
          )
          emplazamiento 
          ON emplazamiento.PERSONA_ID = persona.id 
       LEFT OUTER JOIN
            (
            SELECT EMPLAZAMIENTO,EMPLAZAMIENTO_DES,TIPO_C_CODE,TIPO_C_DES, 
            MIN(CASE WHEN COD_ADICIONAL = 'SWNOMINA' THEN VALUE_ADICIONAL ELSE NULL END) AS PAYROLL_VALUE,
            MIN(CASE WHEN COD_ADICIONAL = 'SWCUPO' THEN VALUE_ADICIONAL ELSE NULL END) AS QUOTA_VALUE
            FROM 
            (SELECT
                  SUBSTR(elemento1.key_cod, - 1) AS EMPLAZAMIENTO,
                  elemento1.DAT_DESCRIPTION AS EMPLAZAMIENTO_DES,
                  elemento2.KEY_COD AS TIPO_C_CODE,
                  elemento2.DAT_DESCRIPTION AS TIPO_C_DES,
                  catAdit.DAT_NAME AS COD_ADICIONAL,
                  itemAdit.dat_value AS VALUE_ADICIONAL 
               FROM
                  US_HNCAT_V4.DAT_CATALOG cat1,
                  US_HNCAT_V4.DAT_CAT_VER_ITEMS catVers1,
                  US_HNCAT_V4.DAT_CATALOG cat2,
                  US_HNCAT_V4.DAT_CAT_VER_ITEMS catVers2,
                  US_HNCAT_V4.REL_CAT_VER_CAT_VER catRel,
                  US_HNCAT_V4.DAT_ITEM elemento1,
                  US_HNCAT_V4.DAT_ITEM elemento2,
                  US_HNCAT_V4.REL_ITEM_ITEM itemRel12,
                  US_HNCAT_V4.DAT_ADDITIONAL_CATALOG_FIELD catAdit,
                  US_HNCAT_V4.DAT_ADDITIONAL_ITEM_FIELD itemAdit 
               WHERE
                  cat1.KEY_COD = 't_ciudadano_emplazamiento' 
                  AND catVers1.FK_CATALOG = cat1.IDX_ID 
                  AND catVers1.FLG_STATUS = 1 
                  AND cat2.KEY_COD = 'tipo_ciudadano' 
                  AND catVers2.FK_CATALOG = cat2.IDX_ID 
                  AND catVers2.FLG_STATUS = 1 
                  AND catRel.FK_CATALOG_VERSION_SOURCE = catVers1.IDX_ID 
                  AND catRel.FK_CATALOG_VERSION_TARGET = catVers2.IDX_ID 
                  AND itemRel12.FK_REL_CAT_VER = catRel.IDX_ID 
                  AND itemRel12.FK_ITEM_SOURCE = elemento1.idx_id 
                  AND itemRel12.FK_ITEM_TARGET = elemento2.idx_id 
                  AND catAdit.FK_CATALOG = cat1.IDX_ID 
                  AND itemAdit.FK_ADDITIONAL_CATALOG_FIELD = catAdit.IDX_ID 
                  AND itemAdit.FK_ITEM = elemento1.IDX_ID 
            )
                 emplazamientos
            GROUP BY EMPLAZAMIENTO,EMPLAZAMIENTO_DES,TIPO_C_CODE,TIPO_C_DES) datosEmplazamiento
            ON tipo_ciudadano.code = datosEmplazamiento.TIPO_C_CODE 
            AND datosEmplazamiento.EMPLAZAMIENTO = emplazamiento.code 
       LEFT OUTER JOIN
          (
             SELECT
                dirPrincipal.FK_PATIENT_ID AS PATIENT_ID,
                dirPrincipal.code_c AS CODEZBS 
             FROM
                (
                   SELECT
                      res.FK_PATIENT_ID,
                      jt.typeCode,
                      jt.system_c,
                      jt.code_c,
                      ROW_NUMBER() OVER (PARTITION BY res.FK_PATIENT_ID 
                   ORDER BY
                      jt.typeCode DESC) AS RowFilter 
                   FROM
                      jsonExists res,
                      json_table(res.patient_json, '$.address[*]' COLUMNS ( typeCode VARCHAR(50) path '$.type' NULL ON ERROR, NESTED PATH '$.extension[*]' COLUMNS (system_c VARCHAR(100) path '$.url' NULL ON ERROR, code_c VARCHAR(50) path '$.valueString' NULL ON ERROR))) AS jt 
                   WHERE
                      res.fk_patient_id= :#${headers.idPatient}
                      and 
                      jt.system_c = 'http://hn.indra.es/fhir/item/additional-data/codZBS' 
                      and jt.code_c IS NOT NULL 
                )
                dirPrincipal 
             WHERE
                dirPrincipal.RowFilter = 1 
          )
          zbsDirPrin 
          ON persona.id = zbsDirPrin.PATIENT_ID 
       LEFT OUTER JOIN
          US_HNAUT_V4.DAT_ORGANIZATION org 
          ON org.COD_KEY = zbsDirPrin.CODEZBS 
       LEFT OUTER JOIN
       (
          SELECT
          res.FK_PATIENT_ID AS PERSONA_ID,
          jt.code_c AS CODE,
          jt.value_c AS VALUE
       FROM
          extensionExists res,
          json_table(res.patient_json, '$.extension[*]' COLUMNS (
              system_c VARCHAR(100) path '$.url' NULL ON ERROR, 
              code_c VARCHAR(50) path '$.valueCodeableConcept.coding[0].code' NULL ON ERROR, 
              value_c VARCHAR(200) path '$.valueCodeableConcept.text' NULL ON ERROR)
          ) AS jt 
       WHERE
          res.fk_patient_id= :#${headers.idPatient}
          and jt.system_c = 'uri:hn:additional-data:centro_propuesta' 
          and jt.code_c IS NOT NULL
          )
          centroPropuesta 
          ON centroPropuesta.PERSONA_ID = persona.id  
       LEFT OUTER JOIN
          US_HNAUT_V4.DAT_ORGANIZATION orgPropuesta 
          ON orgPropuesta.COD_KEY = centroPropuesta.CODE 
    WHERE
        persona.id= :#${headers.idPatient}
  externalResources_client_default_bdExtract_sql_Oracle_hnpob___queryPatientAddresses.sql: |-
    with
        jsonExists AS (
          select * from us_hnpob_v4.dat_patient_resource js
              where json_exists(js.patient_json, '$.address[*].extension[*]')
          )      
    SELECT persona.id                                AS ID_PATIENT, 
           persona.codigo                            AS COD_PATIENT , 
           CASE WHEN total.flg_contact_address = 'true' THEN '1' ELSE '0' END AS FLG_PPAL,
           CASE WHEN total.tempAddress = 'true' THEN '1' ELSE '0' END AS FLG_PROVISIONAL, 
           total.typeCode                          AS COD_ADDRESS_TYPE, 
           total.DES                        AS DESC_ADDRESS_TYPE, 
           total.useCode                             AS COD_ADDRESS_USE, 
           total.useDes                           AS DESC_ADDRESS_USE, 
           total.cod_country                         AS COD_ADDRESS_COUNTRY, 
           total.des_country                                   AS DESC_ADDRESS_COUNTRY, 
           total.cod_geografico_nivel1             AS COD_ADDRESS_L1, 
           total.ds_geografico_nivel1              AS DESC_ADDRESS_L1, 
           total.districtCode                        AS COD_ADDRESS_L2, 
           total.ds_geografico_nivel2              AS DESC_ADDRESS_L2, 
           total.cityCode                          AS COD_ADDRESS_L3, 
           total.cityDesc                          AS DESC_ADDRESS_L3, 
           total.cod_geografico_nivel4             AS COD_ADDRESS_L4, 
           total.ds_geografico_nivel4              AS DESC_ADDRESS_L4, 
           total.cod_geografico_nivel5             AS COD_ADDRESS_L5, 
           total.ds_geografico_nivel5              AS DESC_ADDRESS_L5, 
           total.cod_streetType                           AS COD_TYPE_VIA, 
           total.des_streetType                          AS DESC_TYPE_VIA, 
           total.dat_address_line1                 AS VALUE_VIA, 
           total.addressNumber                       AS KM, 
           total.houseNumber                        AS BLOCK, 
           total.unitID                              AS GATE, 
           total.stair                              AS STAIR, 
           total.FLOOR                             AS FLOOR, 
           total.door                               AS APT , 
           ' '                                        AS POSTAL_BOX, 
           total.ds_zip_code                       AS POSTAL_CODE, 
           total.IDX_ID                                  AS ID_ORG, 
           total.codZBS                              AS COD_ORG  , 
           total.DAT_NAME                                AS DESC_ORG, 
            total.ds_observaciones                    AS OBSERVATIONS  ,
            total.ORDEN                                      AS ADDRESS_ORDER 
    FROM
       us_hnpob_v4.persona persona JOIN
       (select recurso.FK_PATIENT_ID,
           recurso.contactFlag as flg_contact_address,
           recurso.tempAddress, 
           recurso.typeCode, 
           addressTypeCat.DES, 
           recurso.useCode,
           addressUseCat.DES as useDes,
           recurso.cod_country,
           paisCat.DES as des_country, 
           recurso.stateCode as cod_geografico_nivel1, 
           recurso.state as ds_geografico_nivel1, 
           recurso.districtCode, 
           recurso.district as ds_geografico_nivel2, 
           recurso.cityCode, 
           recurso.cityDesc, 
           ' ' /* address. */ as cod_geografico_nivel4, 
           ' ' /* address. */ as ds_geografico_nivel4, 
           ' ' /* address. */ as cod_geografico_nivel5, 
           ' ' /* address. */ as ds_geografico_nivel5, 
           streetTypeCat.COD as cod_streetType, 
           streetTypeCat.DES as des_streetType, 
           recurso.line1 as dat_address_line1, 
           recurso.addressNumber, 
           recurso.houseNumber, 
           recurso.unitID, 
           recurso.stair, 
           recurso.FLOOR, 
           recurso.door, 
           recurso.ds_zip_code, 
           org.IDX_ID, 
           recurso.codZBS, 
           org.DAT_NAME, 
            recurso.observation as ds_observaciones,
           recurso.ORDEN
       from 
       (
          SELECT
             FK_PATIENT_ID,
             line1,
             line2,
             useCode,
             typeCode,
             cod_country,
             state,
             district,
             ds_zip_code,
             cityDesc,
             MIN(CASE WHEN system_c = 'http://hn.indra.es/fhir/StructureDefinition/address-catalog-manually-filled' THEN bool_c ELSE NULL END) AS tempAddress,
             MIN(CASE WHEN system_c = 'http://hn.indra.es/fhir/StructureDefinition/address-contact-flag' THEN bool_c ELSE NULL END) AS contactFlag,
             MIN(CASE WHEN system_c = 'http://hn.indra.es/fhir/StructureDefinition/address-state-code' THEN code_c ELSE NULL END) AS stateCode,
             MIN(CASE WHEN system_c = 'http://hn.indra.es/fhir/item/additional-data/typeStreet' THEN code_c ELSE NULL END) AS typeStreet,
             MIN(CASE WHEN system_c = 'http://hn.indra.es/fhir/StructureDefinition/address-number' THEN code_c ELSE NULL END) AS addressNumber,
             MIN(CASE WHEN system_c = 'http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-unitID' THEN code_c ELSE NULL END) AS unitID,
             MIN(CASE WHEN system_c = 'http://hl7.org/fhir/StructureDefinition/address-stairs' THEN code_c ELSE NULL END) AS stair,
             MIN(CASE WHEN system_c = 'http://hl7.org/fhir/StructureDefinition/address-floor' THEN code_c ELSE NULL END) AS FLOOR,
             MIN(CASE WHEN system_c = 'http://hl7.org/fhir/StructureDefinition/address-door' THEN code_c ELSE NULL END) AS door,
             MIN(CASE WHEN system_c = 'http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-houseNumber' THEN code_c ELSE NULL END) AS houseNumber,
             MIN(CASE WHEN system_c = 'http://hl7.org/fhir/StructureDefinition/address-door' THEN code_c ELSE NULL END) AS addressDoor,
             MIN(CASE WHEN system_c = 'http://hn.indra.es/fhir/item/additional-data/codZBS' THEN code_c ELSE NULL END) AS codZBS,
             MIN(CASE WHEN system_c = 'http://hn.indra.es/fhir/StructureDefinition/address-city-code' THEN code_c ELSE NULL END) AS cityCode,
             MIN(CASE WHEN system_c = 'http://hn.indra.es/fhir/StructureDefinition/address-district-code' THEN code_c ELSE NULL END) AS districtCode,
             MIN(CASE WHEN system_c = 'http://hn.indra.es/fhir/StructureDefinition/address-observation' THEN code_c ELSE NULL END) AS observation,
             ROW_NUMBER() OVER (PARTITION BY FK_PATIENT_ID 
                   ORDER BY
                      line1,line2,useCode,typeCode,cod_country,state,district,ds_zip_code,cityDesc DESC)  ORDEN
          FROM
             (SELECT tb1.FK_PATIENT_ID
                 ,line1
                 ,line2
                 ,useCode
                 ,typeCode
                 ,codCountry as cod_country
                 ,state
                 ,district
                 ,postalCode as ds_zip_code
                 ,system_c
                 ,code_c
                 ,bool_c
                 ,cityDesc
             FROM
                 (
                    SELECT
                       res.FK_PATIENT_ID,
                       jt.line1,
                       jt.line2,
                       jt.useCode,
                       jt.typeCode,
                       jt.codCountry,
                       jt.state,
                       jt.district,
                       jt.postalCode,
                       jt.cityDesc,
                       jt.system_c,
                       jt.code_c,
                       jt.bool_c
                    FROM
                       jsonExists res,
                       json_table(res.patient_json, '$.address[*]' COLUMNS (
                                  line1 VARCHAR(200) path '$.line[0]' NULL ON ERROR
                                 ,line2 VARCHAR(200) path '$.line[1]' NULL ON ERROR
                                 ,useCode VARCHAR(50) path '$.use' NULL ON ERROR
                                 ,typeCode VARCHAR(50) path '$.type' NULL ON ERROR
                                 ,codCountry VARCHAR(50) path '$.country' NULL ON ERROR
                                 ,state VARCHAR(50) path '$.state' NULL ON ERROR
                                 ,district VARCHAR(50) path '$.district' NULL ON ERROR
                                 ,postalCode VARCHAR(50) path '$.postalCode' NULL ON ERROR
                                 ,cityDesc VARCHAR(200) path '$.city' NULL ON ERROR
                                 ,NESTED PATH '$.extension[*]' COLUMNS (
                                      system_c VARCHAR(100) path '$.url' NULL ON ERROR
                                     ,code_c VARCHAR(50) path '$.valueString' NULL ON ERROR
                                     ,bool_c VARCHAR(20) path '$.valueBoolean' NULL ON ERROR))) AS jt 
                    WHERE
                       (jt.system_c IN 
                       (
                          'http://hn.indra.es/fhir/StructureDefinition/address-state-code',
                          'http://hn.indra.es/fhir/item/additional-data/typeStreet',
                          'http://hn.indra.es/fhir/StructureDefinition/address-number',
                          'http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-unitID',
                          'http://hn.indra.es/fhir/StructureDefinition/address-stairs',
                          'http://hn.indra.es/fhir/StructureDefinition/address-floor',
                          'http://hn.indra.es/fhir/StructureDefinition/address-door',
                          'http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-houseNumber',
                          'http://hn.indra.es/fhir/StructureDefinition/address-door',
                          'http://hn.indra.es/fhir/item/additional-data/codZBS',
                          'http://hn.indra.es/fhir/StructureDefinition/address-city-code',
                          'http://hn.indra.es/fhir/StructureDefinition/address-district-code',
                          'http://hn.indra.es/fhir/StructureDefinition/address-observation'
                       )
                       OR jt.system_c IN 
                       (
                          'http://hn.indra.es/fhir/StructureDefinition/address-contact-flag',
                          'http://hn.indra.es/fhir/StructureDefinition/address-catalog-manually-filled'
                       ) 
                       ) and res.fk_patient_id= :#${headers.idPatient}
                 ) tb1 
             ) tb3
             GROUP BY FK_PATIENT_ID,line1,line2,useCode,typeCode,cod_country,state,district,ds_zip_code,cityDesc
       )   recurso 
       LEFT OUTER JOIN
          (
             SELECT
                elemento.KEY_COD AS COD,
                elemento.DAT_NAME AS DES 
             FROM
                US_HNCAT_V4.DAT_CATALOG cat,
                US_HNCAT_V4.DAT_CAT_VER_ITEMS catVers,
                US_HNCAT_V4.DAT_ITEM elemento 
             WHERE
                cat.KEY_COD = 'address-use' 
                AND catVers.FK_CATALOG = cat.IDX_ID 
                AND catVers.FLG_STATUS = 1 
                AND elemento.FK_CATALOG_VERSION = catVers.IDX_ID 
          )
          addressUseCat 
          ON recurso.useCode = addressUseCat.COD 
       LEFT OUTER JOIN
          (
             SELECT
                elemento.KEY_COD AS COD,
                elemento.DAT_NAME AS DES 
             FROM
                US_HNCAT_V4.DAT_CATALOG cat,
                US_HNCAT_V4.DAT_CAT_VER_ITEMS catVers,
                US_HNCAT_V4.DAT_ITEM elemento 
             WHERE
                cat.KEY_COD = 'address-type' 
                AND catVers.FK_CATALOG = cat.IDX_ID 
                AND catVers.FLG_STATUS = 1 
                AND elemento.FK_CATALOG_VERSION = catVers.IDX_ID 
          )
          addressTypeCat 
          ON recurso.typeCode = addressTypeCat.COD 
       LEFT OUTER JOIN
          (
             SELECT
                elemento.KEY_COD AS COD,
                elemento.DAT_NAME AS DES 
             FROM
                US_HNCAT_V4.DAT_CATALOG cat,
                US_HNCAT_V4.DAT_CAT_VER_ITEMS catVers,
                US_HNCAT_V4.DAT_ITEM elemento 
             WHERE
                cat.KEY_COD = 'street-type' 
                AND catVers.FK_CATALOG = cat.IDX_ID 
                AND catVers.FLG_STATUS = 1 
                AND elemento.FK_CATALOG_VERSION = catVers.IDX_ID 
          )
          streetTypeCat 
          ON UPPER(recurso.typeStreet) = streetTypeCat.COD 
       LEFT OUTER JOIN
          (
             SELECT
                elemento.KEY_COD AS COD,
                elemento.DAT_NAME AS DES 
             FROM
                US_HNCAT_V4.DAT_CATALOG cat,
                US_HNCAT_V4.DAT_CAT_VER_ITEMS catVers,
                US_HNCAT_V4.DAT_ITEM elemento 
             WHERE
                cat.KEY_COD = 'pais' 
                AND catVers.FK_CATALOG = cat.IDX_ID 
                AND catVers.FLG_STATUS = 1 
                AND elemento.FK_CATALOG_VERSION = catVers.IDX_ID 
          )
          paisCat 
          ON recurso.cod_country = paisCat.COD 
       LEFT OUTER JOIN
          US_HNAUT_V4.DAT_ORGANIZATION org 
          ON org.COD_KEY = recurso.codZBS 
          )  total
          ON total.FK_PATIENT_ID = persona.id
    WHERE
       persona.id= :#${headers.idPatient}
  externalResources_client_default_bdExtract_sql_Oracle_hnpob___queryPatientAdscriptions.sql: |-
    SELECT distinct
        persona.id                                    AS ID_PATIENT, 
        persona.codigo                                 AS COD_PATIENT, 
        CASE WHEN care.COD_TEMPORALITY 
        LIKE '%abit%' THEN 1 ELSE 0
            END                                        AS FLG_HABITUAL,
        care.COD_ADSCRIPTION                         AS COD_ADSCRIPTION_TYPE,
        care.DS_ADSCRIPTION                         AS DESC_ADSCRIPTION_TYPE,
        care.DAT_STATUS                             AS COD_ADSCRIPTION_STATUS,
        CASE care.DAT_STATUS WHEN 'active' THEN 'activa' WHEN 'inactive' THEN 'inactiva' ELSE care.DAT_STATUS END AS DESC_ADSCRIPTION_STATUS,
        care.DT_START                                 AS DATE_START,
        care.DT_END                                 AS DATE_END,
        care.COD_REASON                             AS COD_ADSCRIPTION_REASON,
        care.DS_REASON                                 AS DESC_ADSCRIPTION_REASON,    
        CARE_ORG.ID_ORG                                     AS ID_ORG,        
        CARE_ORG.COD_ORG                         AS COD_ORG,
        CARE_ORG.DES_ORG                         AS DESC_ORG,
        workp.IDX_ID                                 AS ID_WORKPLACE,        
        care.COD_WORKPLACE                             AS COD_WORKPLACE,
        care.COD_WORKPLACE_TYPE                        AS COD_WORKPLACE_TYPE,
        care.DS_WORKPLACE_TYPE                         AS DESC_WORKPLACE_TYPE,
        workp.COD_SUB_TYPE                            AS COD_WORKPLACE_SUBTYPE,
        workp.DESC_SUB_TYPE                            AS DESC_WORKPLACE_SUBTYPE,        
        subTypeCob.FORMACOB_CODE                    AS COD_WORKPLACE_COVERAGE,
        subTypeCob.FORMACOB_DES                        AS DESC_WORKPLACE_COVERAGE,
        prat.IDX_ID                                 AS ID_PRACTITIONER,
        prat.cod_profesional                         AS COD_PRACTITIONER,
        nombre.ds_value                             AS NAME_PRACTITIONER,
        surname_1.ds_value                             AS SURNAME1_PRACTITIONER,
        surname_2.ds_value                            AS SURNAME2_PRACTITIONER,
        care_patient.ref_code                       AS cod_care_guard,
        care_patient.ref_des                        AS desc_care_guard,
        null                                        AS COD_ROLE,
        null                                        AS DESC_ROLE 
    FROM us_hnpob_v4.persona persona 
        JOIN us_hnpob_v4.DAT_CARE_TEAM care 
            ON persona.ID = care.FK_PERSON_ID
        LEFT JOIN (
          select c.idx_id id_ads, prf.idx_id idx_id, prf.key_cod cod_profesional
          from us_hnpob_v4.dat_care_team c left join us_hnpob_v4.dat_care_team_ref r on r.fk_care_team=c.idx_id and r.ref_type='Practitioner' and r.dat_name = 'participant'
          join US_HNAUT_V4.dat_practitioner prf on r.ref_id=prf.key_cod) prat 
        ON care.idx_id = prat.id_ads
        LEFT JOIN 
        (select fullName.idx_id,fullName.fk_user_id,LISTAGG(nameGiven.ds_value,'') WITHIN GROUP (ORDER BY nameGiven.idx_id) ds_value 
            from US_HNAUT_V4.dat_user_name fullName 
        LEFT JOIN US_HNAUT_V4.dat_name_field nameGiven 
            ON nameGiven.fk_user_name_id = fullName.idx_id 
            AND nameGiven.type_field = 1 
            group by fullName.idx_id,fullName.fk_user_id) nombre
            ON nombre.fk_user_id = prat.idx_id
        LEFT JOIN 
        (select fullName.idx_id,fullName.fk_user_id,LISTAGG(surname1.ds_value,'') WITHIN GROUP (ORDER BY surname1.idx_id) ds_value
            from US_HNAUT_V4.dat_user_name fullName 
        LEFT JOIN US_HNAUT_V4.dat_name_field surname1 
            ON surname1.fk_user_name_id = fullName.idx_id 
            AND surname1.type_field = 2 
            group by fullName.idx_id,fullName.fk_user_id) surname_1
            ON surname_1.fk_user_id = prat.idx_id
        LEFT JOIN 
        (select fullName.idx_id,fullName.fk_user_id,LISTAGG(surname2.ds_value,'') WITHIN GROUP (ORDER BY surname2.idx_id) ds_value
            from US_HNAUT_V4.dat_user_name fullName 
        LEFT JOIN US_HNAUT_V4.dat_name_field surname2 
            ON surname2.fk_user_name_id = fullName.idx_id 
            AND surname2.type_field = 3 
            group by fullName.idx_id,fullName.fk_user_id) surname_2
            ON surname_2.fk_user_id = prat.idx_id
        LEFT JOIN US_HNAUT_V4.dat_workplace workp 
            ON workp.code = care.cod_workplace
           left join (
             SELECT elemento1.KEY_COD as SUBTYPE_CODE, elemento1.DAT_NAME as SUBTYPE_DES, formacob.KEY_COD as FORMACOB_CODE, formacob.DAT_NAME as FORMACOB_DES 
             FROM  US_HNCAT_V4.DAT_CATALOG cat1, US_HNCAT_V4.DAT_CAT_VER_ITEMS catVers1, US_HNCAT_V4.DAT_ITEM elemento1 
                  LEFT JOIN
                  ( SELECT elemento1.IDX_ID, elemento1.KEY_COD, elemento1.DAT_NAME, it.FK_ITEM_SOURCE 
                    FROM US_HNCAT_V4.DAT_CATALOG cat1, US_HNCAT_V4.DAT_CAT_VER_ITEMS catVers1, US_HNCAT_V4.DAT_ITEM elemento1 
                    left join US_HNCAT_V4.REL_ITEM_ITEM it  on it.FK_ITEM_TARGET = elemento1.IDX_ID 
                    WHERE
                    cat1.KEY_COD = 'FORMACOB' 
                    AND catVers1.FK_CATALOG = cat1.IDX_ID AND catVers1.FLG_STATUS = 1 AND elemento1.FK_CATALOG_VERSION = catVers1.IDX_ID
                  ) formacob 
                 ON elemento1.IDX_ID = formacob.FK_ITEM_SOURCE 
             WHERE
             cat1.KEY_COD = 'workplace_sub_type'    
             AND catVers1.FK_CATALOG = cat1.IDX_ID  AND catVers1.FLG_STATUS = 1  AND elemento1.FK_CATALOG_VERSION = catVers1.IDX_ID) subTypeCob
            ON subTypeCob.SUBTYPE_CODE = workp.COD_SUB_TYPE
        LEFT JOIN (
          select id_ads,id_org, cod_org,des_org from 
          (select c.idx_id id_ads,c.dt_start, o.idx_id id_org,o.COD_KEY cod_org,o.dat_name des_org
          from us_hnpob_v4.dat_care_team c 
          join us_hnpob_v4.dat_care_team_ref r on r.fk_care_team=c.idx_id and r.dat_name='organization' and r.ref_type='Organization'
          join US_HNAUT_V4.dat_organization o on r.ref_id=o.cod_key) 
        ) CARE_ORG 
        ON care.idx_id = CARE_ORG.id_ads 
        LEFT JOIN (select c.idx_id id_ads,r.ref_id ref_code,r.display ref_des
          from us_hnpob_v4.dat_care_team c join us_hnpob_v4.dat_care_team_ref r on r.fk_care_team=c.idx_id and r.dat_name in ('participant') and ref_type = 'Patient'
          ) care_patient
          ON care.idx_id = care_patient.id_ads
        WHERE care.DAT_STATUS not in( 'proposed')
        AND care.DT_START is not null
        AND persona.id=:#${headers.idPatient}
        UNION ALL
        SELECT distinct 
        persona.id                                    AS ID_PATIENT, 
        persona.codigo                                 AS COD_PATIENT, 
        CASE WHEN care.COD_TEMPORALITY 
        LIKE '%abit%' THEN 1 ELSE 0
            END                                        AS FLG_HABITUAL,
        care.COD_ADSCRIPTION                         AS COD_ADSCRIPTION_TYPE,
        care.DS_ADSCRIPTION                         AS DESC_ADSCRIPTION_TYPE,
        care_patient.status_c                             AS COD_ADSCRIPTION_STATUS,
        CASE care_patient.status_c WHEN 'active' THEN 'activa' WHEN 'inactive' THEN 'inactiva' ELSE care_patient.status_c END AS DESC_ADSCRIPTION_STATUS,
        care.DT_START                                 AS DATE_START,
        care.DT_END                                 AS DATE_END,
        care.COD_REASON                             AS COD_ADSCRIPTION_REASON,
        care.DS_REASON                                 AS DESC_ADSCRIPTION_REASON,    
        CARE_ORG.ID_ORG                                     AS ID_ORG,        
        CARE_ORG.COD_ORG                         AS COD_ORG,
        CARE_ORG.DES_ORG                         AS DESC_ORG,
        workp.IDX_ID                                 AS ID_WORKPLACE,        
        care.COD_WORKPLACE                             AS COD_WORKPLACE,
        care.COD_WORKPLACE_TYPE                        AS COD_WORKPLACE_TYPE,
        care.DS_WORKPLACE_TYPE                         AS DESC_WORKPLACE_TYPE,
        workp.COD_SUB_TYPE                            AS COD_WORKPLACE_SUBTYPE,
        workp.DESC_SUB_TYPE                            AS DESC_WORKPLACE_SUBTYPE,        
        subTypeCob.FORMACOB_CODE                    AS COD_WORKPLACE_COVERAGE,
        subTypeCob.FORMACOB_DES                        AS DESC_WORKPLACE_COVERAGE,
        prat.IDX_ID                                 AS ID_PRACTITIONER,
        prat.cod_profesional                         AS COD_PRACTITIONER,
        nombre.ds_value                             AS NAME_PRACTITIONER,
        surname_1.ds_value                             AS SURNAME1_PRACTITIONER,
        surname_2.ds_value                            AS SURNAME2_PRACTITIONER,
        care_patient.ref_code                       AS cod_care_guard,
        care_patient.ref_des                        AS desc_care_guard,
        care_patient.role_c                         AS COD_ROLE,
        care_patient.role_d                         AS DESC_ROLE 
    FROM us_hnpob_v4.persona persona 
        JOIN us_hnpob_v4.DAT_CARE_TEAM care 
            ON persona.ID = care.FK_PERSON_ID
        LEFT JOIN (
          select c.idx_id id_ads, prf.idx_id idx_id, prf.key_cod cod_profesional
          from us_hnpob_v4.dat_care_team c left join us_hnpob_v4.dat_care_team_ref r on r.fk_care_team=c.idx_id and r.ref_type='Practitioner' and r.dat_name = 'participant'
          join US_HNAUT_V4.dat_practitioner prf on r.ref_id=prf.key_cod) prat 
        ON care.idx_id = prat.id_ads
        LEFT JOIN 
        (select fullName.idx_id,fullName.fk_user_id,LISTAGG(nameGiven.ds_value,'') WITHIN GROUP (ORDER BY nameGiven.idx_id) ds_value 
            from US_HNAUT_V4.dat_user_name fullName 
        LEFT JOIN US_HNAUT_V4.dat_name_field nameGiven 
            ON nameGiven.fk_user_name_id = fullName.idx_id 
            AND nameGiven.type_field = 1 
            group by fullName.idx_id,fullName.fk_user_id) nombre
            ON nombre.fk_user_id = prat.idx_id
        LEFT JOIN 
        (select fullName.idx_id,fullName.fk_user_id,LISTAGG(surname1.ds_value,'') WITHIN GROUP (ORDER BY surname1.idx_id) ds_value
            from US_HNAUT_V4.dat_user_name fullName 
        LEFT JOIN US_HNAUT_V4.dat_name_field surname1 
            ON surname1.fk_user_name_id = fullName.idx_id 
            AND surname1.type_field = 2 
            group by fullName.idx_id,fullName.fk_user_id) surname_1
            ON surname_1.fk_user_id = prat.idx_id
        LEFT JOIN 
        (select fullName.idx_id,fullName.fk_user_id,LISTAGG(surname2.ds_value,'') WITHIN GROUP (ORDER BY surname2.idx_id) ds_value
            from US_HNAUT_V4.dat_user_name fullName 
        LEFT JOIN US_HNAUT_V4.dat_name_field surname2 
            ON surname2.fk_user_name_id = fullName.idx_id 
            AND surname2.type_field = 3 
            group by fullName.idx_id,fullName.fk_user_id) surname_2
            ON surname_2.fk_user_id = prat.idx_id
        LEFT JOIN US_HNAUT_V4.dat_workplace workp 
            ON workp.code = care.cod_workplace
           left join (
             SELECT elemento1.KEY_COD as SUBTYPE_CODE, elemento1.DAT_NAME as SUBTYPE_DES, formacob.KEY_COD as FORMACOB_CODE, formacob.DAT_NAME as FORMACOB_DES 
             FROM  US_HNCAT_V4.DAT_CATALOG cat1, US_HNCAT_V4.DAT_CAT_VER_ITEMS catVers1, US_HNCAT_V4.DAT_ITEM elemento1 
                  LEFT JOIN
                  ( SELECT elemento1.IDX_ID, elemento1.KEY_COD, elemento1.DAT_NAME, it.FK_ITEM_SOURCE 
                    FROM US_HNCAT_V4.DAT_CATALOG cat1, US_HNCAT_V4.DAT_CAT_VER_ITEMS catVers1, US_HNCAT_V4.DAT_ITEM elemento1 
                    left join US_HNCAT_V4.REL_ITEM_ITEM it  on it.FK_ITEM_TARGET = elemento1.IDX_ID 
                    WHERE
                    cat1.KEY_COD = 'FORMACOB' 
                    AND catVers1.FK_CATALOG = cat1.IDX_ID AND catVers1.FLG_STATUS = 1 AND elemento1.FK_CATALOG_VERSION = catVers1.IDX_ID
                  ) formacob 
                 ON elemento1.IDX_ID = formacob.FK_ITEM_SOURCE 
             WHERE
             cat1.KEY_COD = 'workplace_sub_type'    
             AND catVers1.FK_CATALOG = cat1.IDX_ID  AND catVers1.FLG_STATUS = 1  AND elemento1.FK_CATALOG_VERSION = catVers1.IDX_ID) subTypeCob
            ON subTypeCob.SUBTYPE_CODE = workp.COD_SUB_TYPE
        LEFT JOIN (
          select id_ads,id_org, cod_org,des_org from 
          (select c.idx_id id_ads,c.dt_start, o.idx_id id_org,o.COD_KEY cod_org,o.dat_name des_org
          from us_hnpob_v4.dat_care_team c 
          join us_hnpob_v4.dat_care_team_ref r on r.fk_care_team=c.idx_id and r.dat_name='organization' and r.ref_type='Organization'
          join US_HNAUT_V4.dat_organization o on r.ref_id=o.cod_key) 
        ) CARE_ORG 
        ON care.idx_id = CARE_ORG.id_ads 
         JOIN ( 
          SELECT care.idx_id id_ads, jt2.status_c, SUBSTR(jt.ref_c, INSTR(jt.ref_c, '/') + 1) ref_code,jt.display_c ref_des, jt.role_c, jt.role_d
          FROM us_hnpob_v4.DAT_CARE_TEAM care,
           (select * from us_hnpob_v4.DAT_CARE_TEAM_RESOURCE js
            where json_exists(js.care_team_json, '$.status[*]')) res2,
            json_table(res2.care_team_json, '$.status[*]' COLUMNS (
             status_c VARCHAR(50) PATH '$')) AS jt2,
           (select * from us_hnpob_v4.DAT_CARE_TEAM_RESOURCE js
            where json_exists(js.care_team_json, '$.participant[*]')) res,
            json_table(res.care_team_json, '$.participant[*]' COLUMNS (
             display_c VARCHAR(50) PATH '$.member[*].display',
             ref_c VARCHAR(100) PATH '$.member[*].reference',
             role_c VARCHAR(50) PATH '$.role[*].coding[*].code',
             role_d VARCHAR(100) PATH '$.role[*].coding[*].display'
            )) AS jt        
            where care.idx_id = res.fk_care_team and care.idx_id = res2.fk_care_team
            AND care.DAT_STATUS = 'proposed'
            AND care.fk_person_id = :#${headers.idPatient} 
           ) care_patient
          ON care.idx_id = care_patient.id_ads
        WHERE care.DAT_STATUS = 'proposed'
        AND care.DT_START is not null
        AND persona.id=:#${headers.idPatient}
  externalResources_client_default_bdExtract_sql_Oracle_hnpob___queryPatientContacts.sql: |-
    with
        contact AS (
        SELECT res.FK_PATIENT_ID,                                    
          jt.value_string AS fk_contact_type, value_use as cod_contact_use, jt.value_system AS cod_contact_type,value_display 
        FROM
         (select * from us_hnpob_v4.DAT_PATIENT_RESOURCE js
          where json_exists(js.patient_json, '$.telecom[*]')) res,
          json_table(res.patient_json, '$.telecom[*]' COLUMNS (
            system_c VARCHAR(100) path '$.extension[0].url', 
            value_string VARCHAR(50) PATH '$.extension[0].valueString',
            value_use VARCHAR(50) PATH '$.use', 
            value_system VARCHAR(50) PATH '$.system', 
            value_display VARCHAR(100) PATH '$.value')) AS jt 
        WHERE                   
          jt.system_c = 'http://hn.indra.es/fhir/StructureDefinition/telecom-identifier'
          AND res.fk_patient_id = :#${headers.idPatient}
        )
    SELECT persona.id              AS ID_PATIENT, 
           persona.codigo          AS COD_PATIENT, 
           tipo.cod_contact_type   AS COD_CONTACT_TYPE, 
           tipo.ds_contact_type    AS DESC_CONTACT_TYPE, 
           contact.cod_contact_use AS COD_CONTACT_USE, 
           USOS.DES  AS DESC_CONTACT_USE, 
           contact.value_display        AS CONTACT_VALUE,
           CASE WHEN tipo.ds_description LIKE '%tific%' THEN 1 ELSE 0 END AS FLG_NOTIFICATION 
    FROM us_hnpob_v4.persona persona join contact 
             ON persona.id = contact.FK_PATIENT_ID 
           join us_hnpob_v4.cat_contact_type tipo 
             ON tipo.idx_id = contact.fk_contact_type 
          LEFT OUTER JOIN (
          SELECT
                elemento.KEY_COD AS COD,
                elemento.DAT_NAME AS DES
             FROM
                US_HNCAT_V4.DAT_CATALOG cat,
                US_HNCAT_V4.DAT_CAT_VER_ITEMS catVers,
                US_HNCAT_V4.DAT_ITEM elemento 
             WHERE
                cat.KEY_COD like 'uso_contacto' 
                AND catVers.FK_CATALOG = cat.IDX_ID 
                AND catVers.FLG_STATUS = 1 
                AND elemento.FK_CATALOG_VERSION = catVers.IDX_ID ) usos
          ON contact.cod_contact_use = usos.COD      
    WHERE persona.id=:#${headers.idPatient}
  externalResources_client_default_bdExtract_sql_Oracle_hnpob___queryPatientDocuments.sql: |-
    SELECT  persona.id                      AS ID_PATIENT,
              persona.codigo                  AS COD_PATIENT, 
              documento.doc_type          AS COD_DOCUMENT_TYPE, 
              documento.des_type          AS DESC_DOCUMENT_TYPE, 
              documento.doc_value         AS DOCUMENT_VALUE, 
              /*CASE WHEN documento.tutorFlag = 'true' then 1 else 0 end*/ 0 AS FLG_TUTOR, 
              null                        AS DATE_EXPIRATION,
              paises.COD_COUNTRY                 AS COD_COUNTRY_ISSUE,
              documento.countryDesc             AS DESC_COUNTRY_ISSUE 
      FROM
         us_hnpob_v4.persona persona 
         JOIN
        (SELECT
          fk_patient_id,
          doc_type,
          doc_value,
          doc_use, 
          des_type,
          MIN(CASE WHEN system_c = 'http://hn.indra.es/fhir/StructureDefinition/identifier-country' THEN code_c ELSE NULL END) AS countryCode,
          MIN(CASE WHEN system_c = 'http://hn.indra.es/fhir/StructureDefinition/identifier-country' THEN desc_c ELSE NULL END) AS countryDesc
          FROM (
          select fk_patient_id,
          doc_type,
          doc_value,
          doc_use, 
          des_type,
          system_c,
          code_c,
          desc_c
          FROM
          (select * from us_hnpob_v4.DAT_PATIENT_RESOURCE js
          where json_exists(js.patient_json, '$.identifier[*]')
          and js.fk_patient_id = :#${headers.idPatient}) res,
          json_table(res.patient_json, '$.identifier[*]' COLUMNS (
          doc_type VARCHAR(50) path '$.system', 
          doc_value VARCHAR(100) PATH '$.value',
          doc_use VARCHAR(50) PATH '$.use', 
          des_type VARCHAR(100) PATH '$.type.text',
          NESTED PATH '$.extension[*]' COLUMNS (
            system_c VARCHAR(100) path '$.url' NULL ON ERROR,
            code_c VARCHAR(50) path '$.valueCodeableConcept.coding[0].code' NULL ON ERROR,
            desc_c VARCHAR(50) path '$.valueCodeableConcept.coding[0].display' NULL ON ERROR))) AS jt
          ) group by fk_patient_id,doc_type,doc_value,doc_use,des_type ) documento 
        ON persona.id = documento.fk_patient_id
         LEFT OUTER JOIN
            (
               SELECT
                  pais.key_cod as COD_COUNTRY,
                  pais.dat_name as DESC_COUNTRY 
               FROM
                  US_HNCAT_V4.DAT_CATALOG cat1,
                  US_HNCAT_V4.DAT_CAT_VER_ITEMS catVers1,
                  US_HNCAT_V4.DAT_ITEM elemento1 
                  LEFT OUTER JOIN
                     US_HNCAT_V4.rel_item_item itemRel12 
                     ON itemRel12.FK_ITEM_SOURCE = elemento1.idx_id 
                  LEFT OUTER JOIN
                     US_HNCAT_V4.DAT_ITEM pais 
                     ON pais.idx_id = itemRel12.fk_item_target 
               WHERE
                  cat1.KEY_COD = 'Geografias' 
                  AND catVers1.FK_CATALOG = cat1.IDX_ID 
                  AND catVers1.FLG_STATUS = 1 
                  AND elemento1.FK_CATALOG_VERSION = catVers1.IDX_ID
            )
            paises 
            ON documento.countryDesc = paises.DESC_COUNTRY
      WHERE persona.id = :#${headers.idPatient}
  externalResources_client_default_bdExtract_sql_Oracle_hnpob___queryPatientExtensions.sql: |-
    SELECT persona.id                  AS PERSONA_ID,
           extensionType.ds_identifier AS EXTENSION_ID, 
           extensionType.ds_literal    AS EXTENSION_LITERAL, 
           extension.ds_value          AS VALUE, 
           extension.ds_code           AS CODE 
    FROM   us_hnpob_v4.persona persona, 
           us_hnpob_v4.dat_field_additional extension, 
           us_hnpob_v4.met_field_additional extensionType 
    WHERE  extension.fk_person_id = persona.id 
           AND extension.fk_met_field_additional = extensionType.idx_id
           AND persona.id=:#${headers.idPatient}
  externalResources_client_default_bdExtract_sql_Oracle_hnpob___queryPatientNationalities.sql: |-
    SELECT persona.id                    AS ID_PATIENT,
           persona.codigo                AS COD_PATIENT, 
           nacionalidad.cod_nationality  AS COD_NATIONALITY, 
           nacionalidad.ds_nationality   AS DESC_NATIONALITY 
    FROM   us_hnpob_v4.persona persona 
    JOIN (SELECT res.FK_PATIENT_ID,                                    
      jt.value_code AS cod_nationality, jt.value_display AS ds_nationality
    FROM
      us_hnpob_v4.DAT_PATIENT_RESOURCE res,
      json_table(res.patient_json, '$.extension[*]' COLUMNS (
        system_c VARCHAR(100) path '$.url', 
        value_code VARCHAR(100) PATH '$.valueCodeableConcept.coding[0].code', 
        value_display VARCHAR(100) PATH '$.valueCodeableConcept.text')) AS jt 
    WHERE                   
      jt.system_c = 'http://hl7.org/fhir/StructureDefinition/patient-nationality'
      and res.fk_patient_id= :#${headers.idPatient}
      ) nacionalidad 
    ON persona.id = nacionalidad.FK_PATIENT_ID
    WHERE  persona.id=:#${headers.idPatient}
    and cod_nationality is not null
  externalResources_client_default_bdExtract_sql_Oracle_hnpob___queryPatientPharmacies.sql: |-
    with
    	jsonExists AS (
    	  select * from us_hnpob_v4.dat_patient_history js
    		  where json_exists(js.ds_patient_json, '$.extension[*].valueCodeableConcept.coding[*]')
    	)
    SELECT datosFarmacia.ID                	AS ID_PATIENT, 
           datosFarmacia.CODIGO           	AS COD_PATIENT, 
           datosFarmacia.FECHA				AS DATE_FROM,
           catIndi.CODE				 		AS COD_INDEX_PHARMACY,
           catIndi.DESCRIPTION  			AS DESC_INDEX_PHARMACY,
           catSubi.CODE				 		AS COD_SUB_INDEX_PHARMACY,
           catSubi.DESCRIPTION 				AS DESC_SUB_INDEX_PHARMACY 
    FROM
       (
          SELECT
            ID,
            CODIGO,
            DT_REGISTRATION AS FECHA,
            MIN(CASE WHEN system_c = 'uri:hn:indicador_farmacia' THEN DATO ELSE NULL END) AS INDI, 
            MIN(CASE WHEN system_c = 'uri:hn:subindicador_farmacia' THEN DATO ELSE NULL END) AS SUBI 
          FROM
             (
                SELECT
                   persona.id AS ID,
                   persona.codigo AS CODIGO,
                   his.cod_version AS COD_VERSION,
                   his.dt_registration AS DT_REGISTRATION,
                   jt.system_c AS SYSTEM_C,
                   jt.code_c AS DATO 
                FROM
                   us_hnpob_v4.persona persona,
                   jsonExists his,
                   json_table(his.ds_patient_json, '$.extension[*].valueCodeableConcept' COLUMNS (text_c VARCHAR(50) path '$.text' NULL ON ERROR, NESTED PATH '$.coding[*]' COLUMNS ( row_number FOR ordinality, system_c VARCHAR(50) path '$.system' NULL ON ERROR, code_c VARCHAR(50) path '$.code' NULL ON ERROR, code_EEE VARCHAR(50) path '$.text' NULL ON ERROR))) AS jt 
                WHERE
                    persona.id=:#${headers.idPatient} AND
                    his.fk_patient_id = persona.id 
                   AND jt.system_c IN 
                   (
                      'uri:hn:subindicador_farmacia',
                      'uri:hn:indicador_farmacia' 
                   )
             ) ind_farmacia
             GROUP BY ID,CODIGO,DT_REGISTRATION 
          UNION
          SELECT
             persona.id AS ID,
             persona.codigo AS CODIGO,
             persona.fechaactualizacion AS FECHA,
             indicador_farmacia.code AS INDI,
             subindicador_farmacia.code AS SUBI 
          FROM
             us_hnpob_v4.persona persona 
             LEFT OUTER JOIN
                (
                   SELECT
                      extension.fk_person_id AS PERSONA_ID,
                      extension.ds_value AS VALUE,
                      extension.ds_code AS CODE 
                   FROM
                      us_hnpob_v4.dat_field_additional extension,
                      us_hnpob_v4.met_field_additional extensionType 
                   WHERE
                      extension.fk_met_field_additional = extensionType.idx_id 
                      AND extensionType.ds_identifier = 'indicador_farmacia'
                )
                indicador_farmacia 
                ON indicador_farmacia.PERSONA_ID = persona.id 
             LEFT OUTER JOIN
                (
                   SELECT
                      extension.fk_person_id AS PERSONA_ID,
                      extension.ds_value AS VALUE,
                      extension.ds_code AS CODE 
                   FROM
                      us_hnpob_v4.dat_field_additional extension,
                      us_hnpob_v4.met_field_additional extensionType 
                   WHERE
                      extension.fk_met_field_additional = extensionType.idx_id 
                      AND extensionType.ds_identifier = 'subindicador_farmacia'
                )
                subindicador_farmacia 
                ON subindicador_farmacia.PERSONA_ID = persona.id 
                WHERE persona.id=:#${headers.idPatient}
       )
       datosFarmacia 
       LEFT OUTER JOIN
          (
             SELECT
                elemento.KEY_COD AS code,
                elemento.DAT_NAME AS description 
             FROM
                US_HNCAT_V4.DAT_CATALOG cat,
                US_HNCAT_V4.DAT_CAT_VER_ITEMS catVers,
                US_HNCAT_V4.DAT_ITEM elemento 
             WHERE
                cat.key_cod = 'subindicador_farmacia' 
                AND catVers.FK_CATALOG = cat.IDX_ID 
                AND catVers.FLG_STATUS = 1 
                AND elemento.FK_CATALOG_VERSION = catVers.IDX_ID 
          )
          catSubi 
          ON datosFarmacia.subi = catSubi.code 
       LEFT OUTER JOIN
          (
             SELECT
                elemento.KEY_COD AS code,
                elemento.DAT_NAME AS description 
             FROM
                US_HNCAT_V4.DAT_CATALOG cat,
                US_HNCAT_V4.DAT_CAT_VER_ITEMS catVers,
                US_HNCAT_V4.DAT_ITEM elemento 
             WHERE
                cat.key_cod = 'indicador_farmacia' 
                AND catVers.FK_CATALOG = cat.IDX_ID 
                AND catVers.FLG_STATUS = 1 
                AND elemento.FK_CATALOG_VERSION = catVers.IDX_ID 
          )
          catIndi 
          ON datosFarmacia.indi = catIndi.code
          WHERE (catIndi.code IS NOT NULL OR catSubi.code IS NOT NULL) 
  externalResources_client_default_bdExtract_sql_Oracle_hnpob___queryPatientTypeCitizen.sql: |-
    with
    	jsonExists AS (
    	  select * from us_hnpob_v4.dat_patient_history js
    		  where json_exists(js.ds_patient_json, '$.extension[*].valueCodeableConcept')
    	)
    SELECT
       datosCiudadano.ID AS ID_PATIENT,
       datosCiudadano.CODIGO AS COD_PATIENT,
       datosCiudadano.FECHA AS DATE_FROM,
       catTipo.CODE AS COD_TYPE_CITIZEN,
       catTipo.DESCRIPTION AS DESC_TYPE_CITIZEN,
       CASE WHEN facturable.dat_value = 'true' THEN 1 ELSE 0 END AS FLG_BILLABLE,
       CASE WHEN pensionista.dat_value = 'true' THEN 1 ELSE 0 END AS FLG_PENSIONER,
       CASE WHEN mutualista.dat_value = 'true' THEN 1 ELSE 0 END AS FLG_MUTUALIST,
       CASE WHEN hospital.dat_value = 'true' THEN 1 ELSE 0 END AS FLG_HOSPITAL,
       CASE WHEN datosEmplazamiento.PAYROLL_VALUE = 'true' THEN 1 ELSE 0 END AS FLG_PAYROLL,
       CASE WHEN datosEmplazamiento.QUOTA_VALUE = 'true' THEN 1 ELSE 0 END AS FLG_QUOTA
    FROM
       (
          SELECT
             datos.id AS ID,
             datos.codigo AS CODIGO,
             datos.dt_registration AS FECHA,
             datos.TIPOC AS TIPOC 
          FROM
             (
                SELECT
                   persona.id,
                   persona.codigo,
                   his.cod_version,
                   his.dt_registration,
                   jt.system_c,
                   jt.code_c AS DATO 
                FROM
                   us_hnpob_v4.persona persona,
                   jsonExists his,
                   json_table(his.ds_patient_json, '$.extension[*].valueCodeableConcept' COLUMNS (text_c VARCHAR2(50) PATH '$.text' NULL ON ERROR, NESTED PATH '$.coding[*]' COLUMNS (row_number FOR ordinality, system_c VARCHAR2(50) PATH '$.system' NULL ON ERROR, code_c VARCHAR2(50) PATH '$.code' NULL ON ERROR, code_EEE VARCHAR2(50) PATH '$.text' NULL ON ERROR))) AS jt 
                WHERE
                   persona.id=:#${headers.idPatient} AND
                   his.fk_patient_id = persona.id 
                   AND jt.system_c IN 
                   (
                      'uri:hn:tipo_ciudadano' 
                   )
             )
             pivot (MIN(DATO) FOR system_c in 
             (
                'uri:hn:tipo_ciudadano' TIPOC 
             )
    ) datos 
          UNION
          SELECT
             persona.id AS ID,
             persona.codigo AS CODIGO,
             persona.fechaactualizacion AS FECHA,
             tipo_ciudadano.code AS TIPOC 
          FROM
             us_hnpob_v4.persona persona 
             LEFT OUTER JOIN
                (
                   SELECT
                      extension.fk_person_id AS PERSONA_ID,
                      extension.ds_value AS VALUE,
                      extension.ds_code AS CODE 
                   FROM
                      us_hnpob_v4.dat_field_additional extension,
                      us_hnpob_v4.met_field_additional extensionType 
                   WHERE
                      extension.fk_met_field_additional = extensionType.idx_id 
                      AND extensionType.ds_identifier = 'tipo_ciudadano' 
                )
                tipo_ciudadano 
                ON tipo_ciudadano.PERSONA_ID = persona.id 
                
                WHERE persona.id=:#${headers.idPatient}
       )
       datosCiudadano 
       LEFT OUTER JOIN
          (
             SELECT
                elemento.KEY_COD AS code,
                elemento.DAT_NAME AS description,
                elemento.IDX_ID AS idTipo 
             FROM
                US_HNCAT_V4.DAT_CATALOG cat,
                US_HNCAT_V4.DAT_CAT_VER_ITEMS catVers,
                US_HNCAT_V4.DAT_ITEM elemento 
             where
                cat.key_cod = 'tipo_ciudadano' 
                AND catVers.FK_CATALOG = cat.IDX_ID 
                AND catVers.FLG_STATUS = 1 
                AND elemento.FK_CATALOG_VERSION = catVers.IDX_ID 
          )
          catTipo 
          ON datosCiudadano.tipoc = catTipo.code 
       LEFT OUTER JOIN
          (
             SELECT
                itemAdit.FK_ITEM,
                catAdit.IDX_ID,
                itemAdit.dat_value,
                catAdit.dat_name 
             FROM
                US_HNCAT_V4.DAT_ADDITIONAL_ITEM_FIELD itemAdit,
                US_HNCAT_V4.DAT_ADDITIONAL_CATALOG_FIELD catAdit 
             where
                itemAdit.FK_ADDITIONAL_CATALOG_FIELD = catAdit.IDX_ID 
                and catAdit.dat_name = 'Facturable' 
          )
          facturable 
          ON facturable.FK_ITEM = catTipo.idTipo 
       LEFT OUTER JOIN
          (
             SELECT
                itemAdit.FK_ITEM,
                catAdit.IDX_ID,
                itemAdit.dat_value,
                catAdit.dat_name 
             FROM
                US_HNCAT_V4.DAT_ADDITIONAL_ITEM_FIELD itemAdit,
                US_HNCAT_V4.DAT_ADDITIONAL_CATALOG_FIELD catAdit 
             where
                itemAdit.FK_ADDITIONAL_CATALOG_FIELD = catAdit.IDX_ID 
                and catAdit.dat_name = 'SWPENSIO' 
          )
          pensionista 
          ON pensionista.FK_ITEM = catTipo.idTipo 
       LEFT OUTER JOIN
          (
             SELECT
                itemAdit.FK_ITEM,
                catAdit.IDX_ID,
                itemAdit.dat_value,
                catAdit.dat_name 
             FROM
                US_HNCAT_V4.DAT_ADDITIONAL_ITEM_FIELD itemAdit,
                US_HNCAT_V4.DAT_ADDITIONAL_CATALOG_FIELD catAdit 
             where
                itemAdit.FK_ADDITIONAL_CATALOG_FIELD = catAdit.IDX_ID 
                and catAdit.dat_name = 'SWMUTUA' 
          )
          mutualista 
          ON mutualista.FK_ITEM = catTipo.idTipo 
       LEFT OUTER JOIN
          (
             SELECT
                itemAdit.FK_ITEM,
                catAdit.IDX_ID,
                itemAdit.dat_value,
                catAdit.dat_name 
             FROM
                US_HNCAT_V4.DAT_ADDITIONAL_ITEM_FIELD itemAdit,
                US_HNCAT_V4.DAT_ADDITIONAL_CATALOG_FIELD catAdit 
             where
                itemAdit.FK_ADDITIONAL_CATALOG_FIELD = catAdit.IDX_ID 
                and catAdit.dat_name = 'SWHOSPITAL' 
          )
          hospital 
          ON hospital.FK_ITEM = catTipo.idTipo 
       LEFT OUTER JOIN
          (
             SELECT
                extension.fk_person_id AS PERSONA_ID,
                extension.ds_value AS VALUE,
                extension.ds_code AS CODE 
             FROM
                us_hnpob_v4.dat_field_additional extension,
                us_hnpob_v4.met_field_additional extensionType 
             WHERE
                extension.fk_met_field_additional = extensionType.idx_id 
                AND extensionType.ds_identifier = 'emplazamiento'
          )
          emplazamiento 
          ON emplazamiento.PERSONA_ID = datosCiudadano.ID 
       LEFT OUTER JOIN
          (
             SELECT
                * 
             FROM
                (
                   SELECT
                      SUBSTR(elemento1.key_cod, - 1) AS EMPLAZAMIENTO,
                      elemento1.DAT_DESCRIPTION AS EMPLAZAMIENTO_DES,
                      elemento2.KEY_COD AS TIPO_C_CODE,
                      elemento2.DAT_DESCRIPTION AS TIPO_C_DES,
                      catAdit.DAT_NAME AS COD_ADICIONAL,
                      itemAdit.dat_value AS VALUE_ADICIONAL 
                   FROM
                      US_HNCAT_V4.DAT_CATALOG cat1,
                      US_HNCAT_V4.DAT_CAT_VER_ITEMS catVers1,
                      US_HNCAT_V4.DAT_CATALOG cat2,
                      US_HNCAT_V4.DAT_CAT_VER_ITEMS catVers2,
                      US_HNCAT_V4.REL_CAT_VER_CAT_VER catRel,
                      US_HNCAT_V4.DAT_ITEM elemento1,
                      US_HNCAT_V4.DAT_ITEM elemento2,
                      US_HNCAT_V4.rel_item_item itemRel12,
                      US_HNCAT_V4.DAT_ADDITIONAL_CATALOG_FIELD catAdit,
                      US_HNCAT_V4.DAT_ADDITIONAL_ITEM_FIELD itemAdit 
                   WHERE
                      cat1.KEY_COD = 't_ciudadano_emplazamiento' 
                      AND catVers1.FK_CATALOG = cat1.IDX_ID 
                      AND catVers1.FLG_STATUS = 1 
                      AND cat2.KEY_COD = 'tipo_ciudadano' 
                      AND catVers2.FK_CATALOG = cat2.IDX_ID 
                      AND catVers2.FLG_STATUS = 1 
                      AND catRel.FK_CATALOG_VERSION_SOURCE = catVers1.IDX_ID 
                      AND catRel.FK_CATALOG_VERSION_TARGET = catVers2.IDX_ID 
                      AND itemRel12.FK_REL_CAT_VER = catRel.IDX_ID 
                      AND itemRel12.FK_ITEM_SOURCE = elemento1.idx_id 
                      AND itemRel12.FK_ITEM_TARGET = elemento2.idx_id 
                      AND catAdit.FK_CATALOG = cat1.IDX_ID 
                      AND itemAdit.FK_ADDITIONAL_CATALOG_FIELD = catAdit.IDX_ID 
                      AND itemAdit.FK_ITEM = elemento1.IDX_ID 
                )
                emplazamientos pivot (MIN(VALUE_ADICIONAL) FOR COD_ADICIONAL IN 
                (
                   'SWNOMINA' PAYROLL_VALUE,
                   'SWCUPO' QUOTA_VALUE 
                )
    )
          )
          datosEmplazamiento 
          ON catTipo.CODE = datosEmplazamiento.TIPO_C_CODE 
          AND datosEmplazamiento.EMPLAZAMIENTO = emplazamiento.code 
    WHERE
    	catTipo.code IS NOT NULL
  externalResources_client_default_bdExtract_sql_Oracle_hnpob___queryPatientTypeInsured.sql: |-
    with
    	jsonExists AS (
    	  select * from us_hnpob_v4.dat_patient_history js
    		  where json_exists(js.ds_patient_json, '$.extension[*]')
    	)
    select
    ID             as ID_PATIENT, 
    CODIGO         as COD_PATIENT, 
    FECHA          as DATE_FROM, 
    CASE WHEN TIPO_ASEGURADO = 'T' THEN 1 ELSE 0 END as FLG_TITULAR,
    CIPA_TITULAR   as CODE_BENEFACTOR
    from (select ID, CODIGO, FECHA, TIPO_ASEGURADO, CIPA_TITULAR , dato, lag(dato) over (partition by ID order by FECHA) prior_dato
        from
          (select 
          ID, 
          CODIGO, 
          FECHA, 
          TIPO_ASEGURADO, 
          CIPA_TITULAR ,
          CASE WHEN TIPO_ASEGURADO IS NOT NULL THEN TIPO_ASEGURADO ELSE 'TIPONULL' END ||
          CASE WHEN CIPA_TITULAR IS NOT NULL THEN CIPA_TITULAR ELSE 'CIPANULL' END as dato from 
          (SELECT
             datos.id AS ID,
             datos.codigo AS CODIGO,
             datos.dt_registration AS FECHA,
             datos.TIPO_ASEGURADO AS TIPO_ASEGURADO,
             datos.CIPA_TITULAR AS CIPA_TITULAR
          FROM
             (
                SELECT
                   persona.id,
                   persona.codigo,
                   his.cod_version,
                   his.dt_registration,
                   jt.system_c,
                   jt.url_c,
                   CASE WHEN jt.url_c = 'uri:hn:additional-data:cipa_titular' THEN jt.valueString_c
                   ELSE jt.code_c END AS DATO 
                FROM
                   us_hnpob_v4.persona persona,
                   jsonExists his,
                   json_table(his.ds_patient_json, '$.extension[*]' COLUMNS (url_c VARCHAR2(100) PATH '$.url' NULL ON ERROR, valueString_c VARCHAR2(100) PATH '$.valueString' NULL ON ERROR, text_c VARCHAR2(50) PATH '$.valueCodeableConcept.text' NULL ON ERROR, NESTED PATH '$.valueCodeableConcept.coding[*]' COLUMNS (row_number FOR ordinality, system_c VARCHAR2(50) PATH '$.system' NULL ON ERROR, code_c VARCHAR2(50) PATH '$.code' NULL ON ERROR, code_EEE VARCHAR2(50) PATH '$.text' NULL ON ERROR))) AS jt 
                WHERE
                  persona.id=:#${headers.idPatient} AND
                   his.fk_patient_id = persona.id 
                   AND jt.url_c IN 
                   (
                      'uri:hn:additional-data:tipo_asegurado',
                      'uri:hn:additional-data:cipa_titular'
                   )
             )
             pivot (MIN(DATO) FOR url_c in 
             (
                'uri:hn:additional-data:tipo_asegurado' TIPO_ASEGURADO, 
                'uri:hn:additional-data:cipa_titular' CIPA_TITULAR
             )
    ) datos 
    UNION ALL
          SELECT
             persona.id AS ID,
             persona.codigo AS CODIGO,
             persona.fechaactualizacion AS FECHA,
             tipo_asegurado.code AS TIPO_ASEGURADO,
             TO_CHAR(cipa_titular.VALUE) AS CIPA_TITULAR
          FROM
             us_hnpob_v4.persona persona 
             LEFT OUTER JOIN
                (
                   SELECT
                      extension.fk_person_id AS PERSONA_ID,
                      extension.ds_value AS VALUE,
                      extension.ds_code AS CODE 
                   FROM
                      us_hnpob_v4.dat_field_additional extension,
                      us_hnpob_v4.met_field_additional extensionType 
                   WHERE
                      extension.fk_met_field_additional = extensionType.idx_id 
                      AND extensionType.ds_identifier = 'tipo_asegurado' 
                )
                
                tipo_asegurado 
                ON tipo_asegurado.PERSONA_ID = persona.id 
                
             LEFT OUTER JOIN
                (
                   SELECT
                      extension.fk_person_id AS PERSONA_ID,
                      extension.ds_value AS VALUE,
                      extension.ds_code AS CODE 
                   FROM
                      us_hnpob_v4.dat_field_additional extension,
                      us_hnpob_v4.met_field_additional extensionType 
                   WHERE
                      extension.fk_met_field_additional = extensionType.idx_id 
                      AND extensionType.ds_identifier = 'cipa_titular' 
                )
                
                cipa_titular 
                ON cipa_titular.PERSONA_ID = persona.id 
                
                WHERE persona.id=:#${headers.idPatient}
                
                )
          )
      )
    where
      dato != prior_dato or (prior_dato is null)
       order by ID, FECHA
  externalResources_client_default_bdExtract_sql_Oracle_iengine___getTimeMark.sql: |-
    SELECT CASE WHEN max(MARKS."timeMark") IS NOT NULL THEN max(MARKS."timeMark") ELSE TO_DATE('12/31/1899', 'MM/DD/YYYY') END
    from "LAST_EXECUTION_MARKS" MARKS
    WHERE MARKS."iengineModule" = :#${header.tipoIngesta}
  externalResources_client_default_bdExtract_sql_Oracle_iengine___insertAuditDetail.sql: |-
    Insert into AUDIT_DETAIL ("iengineModule","iengineSubmodule", "timeMark", "auditType", "resourceCode", "message", "resourceValue") values (?, ?, ?, ?, ?, ?, ?)
  externalResources_client_default_bdExtract_sql_Oracle_iengine___insertTimeMark.sql: |-
    Insert into LAST_EXECUTION_MARKS ("iengineModule","timeMark") values (IENGINE_MODULE, TO_DATE(IENGINE_TIMEMARK, 'DD/MM/YYYY HH24:MI:SS'))
