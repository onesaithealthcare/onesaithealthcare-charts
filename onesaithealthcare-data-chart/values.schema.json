{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "properties": {
    "global": {
      "type": "object",
      "properties": {
        "environment": {
          "type": "object",
          "properties": {
            "type": {
              "type": "string",
              "enum": ["dev", "prod"],
              "default": "dev",
              "description": "Tipo de entorno. Opciones: dev, prod"
            }
          }
        },
        "domain": {
          "type": "object",
          "properties": {
            "protocol": {
              "type": "string",
              "enum": ["http", "https"],
              "description": "Protocolo del dominio. Opciones: http, https"
            },
            "host": {
              "type": "string",
              "description": "Host del dominio"
            },
            "ip": {
              "type": "string",
              "description": "IP del dominio"
            },
            "host_prof": {
              "type": "string",
              "description": "Host profesional del dominio"
            },
            "ip_prof": {
              "type": "string",
              "description": "IP profesional del dominio"
            },
            "port": {
              "type": "integer",
              "default": 443,
              "description": "Puerto del dominio"
            },
            "gateway_type": {
              "type": "string",
              "enum": ["istio", "k8s_gateway"],
              "description": "Tipo de gateway. Opciones: istio, k8s_gateway"
            },
            "gateway": {
              "type": "string",
              "default": "oh-modules-gateway",
              "description": "Nombre del gateway"
            },
            "gateway_prof": {
              "type": "string",
              "default": "oh-modules-prof-gateway",
              "description": "Nombre del gateway profesional"
            }
          }
        },
        "docker": {
          "type": "object",
          "properties": {
            "registry": {
              "type": "object",
              "properties": {
                "host": {
                  "type": "string",
                  "default": "docksdtr.indra.es",
                  "description": "Host del registro Docker"
                },
                "project": {
                  "type": "string",
                  "default": "multhn_cmhn20_2",
                  "description": "Proyecto del registro Docker"
                },
                "secret": {
                  "type": "string",
                  "default": "docksdtr.indra.es",
                  "description": "Secreto del registro Docker"
                }
              }
            }
          }
        }
      }
    },
    "dependencies": {
      "type": "object",
      "properties": {
        "ohhdr": {
          "type": "boolean",
          "default": true,
          "description": "Habilitar dependencia ohhdr"
        },
        "ohcsm": {
          "type": "boolean",
          "default": true,
          "description": "Habilitar dependencia ohcsm"
        },
        "ohhda": {
          "type": "boolean",
          "default": true,
          "description": "Habilitar dependencia ohhda"
        }
      }
    },
    "onesaithealthcare-ohhdr-chart": {
      "type": "object",
      "properties": {
        "ohhdr": {
          "type": "object",
          "properties": {
            "app": {
              "type": "object",
              "properties": {
                "name": {
                  "type": "string",
                  "default": "ohhdr",
                  "description": "Nombre de la aplicación ohhdr"
                },
                "replicas": {
                  "type": "integer",
                  "default": 1,
                  "description": "Número de réplicas de la aplicación ohhdr"
                },
                "flag": {
                  "type": "object",
                  "properties": {
                    "enable_fhir_subscription": {
                      "type": "boolean",
                      "default": false,
                      "description": "Habilitar suscripción FHIR en ohhdr"
                    },
                    "enable_fhir_entity_replication": {
                      "type": "boolean",
                      "default": false,
                      "description": "Habilitar replicación de entidades FHIR en ohhdr"
                    },
                    "enable_bulk_api": {
                      "type": "boolean",
                      "default": false,
                      "description": "Habilitar API Bulk en ohhdr"
                    }
                  }
                },
                "bulk_api_file_size": {
                  "type": "integer",
                  "default": 10,
                  "description": "Tamaño máximo de archivo para API Bulk en ohhdr (MB)"
                },
                "ohas3_url": {
                  "type": "string",
                  "default": "https://ohas3-api-oh-minio.apps.lab.openshift.com/ohas3",
                  "description": "URL de ohas3 para ohhdr"
                }
              }
            },
            "database": {
              "type": "object",
              "properties": {
                "type": {
                  "type": "string",
                  "enum": ["ORACLE", "MYSQL"],
                  "default": "ORACLE",
                  "description": "Tipo de base de datos para ohhdr. Opciones: ORACLE, MYSQL"
                },
                "driver": {
                  "type": "string",
                  "enum": ["oracle.jdbc.driver.OracleDriver", "com.mysql.cj.jdbc.Driver"],
                  "default": "oracle.jdbc.driver.OracleDriver",
                  "description": "Driver JDBC para ohhdr. Opciones: oracle.jdbc.driver.OracleDriver, com.mysql.cj.jdbc.Driver"
                },
                "jdbc_dialect": {
                  "type": "string",
                  "enum": ["org.hibernate.dialect.Oracle10gDialect", "org.hibernate.dialect.MySQLDialect"],
                  "default": "org.hibernate.dialect.Oracle10gDialect",
                  "description": "Dialect JDBC para ohhdr. Opciones: org.hibernate.dialect.Oracle10gDialect, org.hibernate.dialect.MySQLDialect"
                },
                "url": {
                  "type": "string",
                  "default": "jdbc:oracle:thin:@proyvalhnbd1-1.indra.es:1521:mymed",
                  "description": "URL JDBC para la base de datos de ohhdr"
                },
                "user": {
                  "type": "string",
                  "default": "us_hdr",
                  "description": "Usuario de la base de datos para ohhdr"
                },
                "pass": {
                  "type": "string",
                  "default": "us_hdr",
                  "description": "Contraseña de la base de datos para ohhdr"
                },
                "initial_size": {
                  "type": "integer",
                  "default": 5,
                  "description": "Tamaño inicial de la BD para ohhdr"
                },
                "max_total": {
                  "type": "integer",
                  "default": 50,
                  "description": "Tamaño máximo de la BD para ohhdr"
                },
                "connection_properties": {
                  "type": "string",
                  "default": "oracle.jdbc.defaultLobPrefetchSize=-1",
                  "description": "Propiedades de conexión JDBC para ohhdr (ejemplo para MySQL: autoReconnect=TRUE;verifyServerCertificate=FALSE;useSSL=TRUE;requireSSL=TRUE;rewriteBatchedStatements=TRUE)"
                }
              }
            },
            "version": {
              "type": "object",
              "properties": {
                "app": {
                  "type": "string",
                  "default": "3.14.0",
                  "description": "Versión de la aplicación ohhdr"
                },
                "back_image_tag": {
                  "type": "string",
                  "default": "3.14.0",
                  "description": "Etiqueta de la imagen backend para ohhdr"
                }
              }
            }
          }
        }
      }
    },
    "onesaithealthcare-ohcsm-chart": {
      "type": "object",
      "properties": {
        "ohcsm": {
          "type": "object",
          "properties": {
            "app": {
              "type": "object",
              "properties": {
                "back_name": {
                  "type": "string",
                  "default": "ohcsm-back",
                  "description": "Nombre del backend de la aplicación ohcsm"
                },
                "front_name": {
                  "type": "string",
                  "default": "ohcsm-front",
                  "description": "Nombre del frontend de la aplicación ohcsm"
                },
                "flag": {
                  "type": "object",
                  "properties": {
                    "enable_audit": {
                      "type": "boolean",
                      "default": false,
                      "description": "Habilitar auditoría en ohcsm"
                    }
                  }
                },
                "log": {
                  "type": "object",
                  "properties": {
                    "level": {
                      "type": "string",
                      "default": "WARN",
                      "description": "Nivel de log para ohcsm"
                    },
                    "sql_level": {
                      "type": "string",
                      "default": "ERROR",
                      "description": "Nivel de log SQL para ohcsm"
                    }
                  }
                }
              }
            },
            "kafka": {
              "type": "object",
              "properties": {
                "mpi_patient": {
                  "type": "object",
                  "properties": {
                    "enabled": {
                      "type": "boolean",
                      "default": true,
                      "description": "Habilitar listener de Kafka para mensajes de paciente de mpi en ohcsm"
                    },
                    "group_id": {
                      "type": "string",
                      "default": "OHCSM",
                      "description": "Group ID de Kafka para para mensajes de paciente de mpi en ohcsm"
                    },
                    "topic": {
                      "type": "string",
                      "default": "ohmpi-entity-events",
                      "description": "Topic de Kafka para para mensajes de paciente de mpi en ohcsm"
                    },
                    "error_topic": {
                      "type": "string",
                      "default": "ohcsm-patient-update-errors",
                      "description": "Topic de errores de Kafka para para mensajes de paciente de mpi en ohcsm"
                    }
                  }
                }
              }
            },
            "database": {
              "type": "object",
              "properties": {
                "type": {
                  "type": "string",
                  "enum": ["ORACLE", "MYSQL"],
                  "default": "ORACLE",
                  "description": "Tipo de base de datos para ohcsm. Opciones: ORACLE, MYSQL"
                },
                "driver": {
                  "type": "string",
                  "enum": ["oracle.jdbc.driver.OracleDriver", "com.mysql.cj.jdbc.Driver"],
                  "default": "oracle.jdbc.driver.OracleDriver",
                  "description": "Driver JDBC para ohcsm"
                },
                "url": {
                  "type": "string",
                  "default": "jdbc:oracle:thin:@proyvalhnbd1-1.indra.es:1521:mymed",
                  "description": "URL JDBC para la base de datos de ohcsm"
                },
                "user": {
                  "type": "string",
                  "default": "us_csm",
                  "description": "Usuario de la base de datos para ohcsm"
                },
                "pass": {
                  "type": "string",
                  "default": "us_csm",
                  "description": "Contraseña de la base de datos para ohcsm"
                }
              }
            },
            "version": {
              "type": "object",
              "properties": {
                "back_version": {
                  "type": "string",
                  "default": "3.3.0",
                  "description": "Versión del backend de ohcsm"
                },
                "back_image_tag": {
                  "type": "string",
                  "default": "3.3.0",
                  "description": "Etiqueta de la imagen backend para ohcsm"
                },
                "front_image_tag": {
                  "type": "string",
                  "default": "3.3.0",
                  "description": "Etiqueta de la imagen frontend para ohcsm"
                }
              }
            }
          }
        }
      }
    },
    "onesaithealthcare-ohhda-chart": {
      "type": "object",
      "properties": {
        "ohhda": {
          "type": "object",
          "properties": {
            "app": {
              "type": "object",
              "properties": {
                "name": {
                  "type": "string",
                  "default": "ohhda-viewer-front",
                  "description": "Nombre de la aplicación ohhda"
                }
              }
            },
            "version": {
              "type": "object",
              "properties": {
                "image_tag": {
                  "type": "string",
                  "default": "4.6.0",
                  "description": "Etiqueta de la imagen para ohhda"
                }
              }
            }
          }
        }
      }
    }
  }
}